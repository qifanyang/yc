!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("viewerData"),require("loadjs"),require("XJADSDK"),require("SPADownloader"),require("viewerUtils"),require("addXJReportDimension"),require("Cookies")):"function"==typeof define&&define.amd?define(["viewerData","loadjs","XJADSDK","SPADownloader","viewerUtils","addXJReportDimension","Cookies"],t):"object"==typeof exports?exports.XJViewer=t(require("viewerData"),require("loadjs"),require("XJADSDK"),require("SPADownloader"),require("viewerUtils"),require("addXJReportDimension"),require("Cookies")):e.XJViewer=t(e.viewerData,e.loadjs,e.XJADSDK,e.SPADownloader,e.viewerUtils,e.addXJReportDimension,e.Cookies)}(window,function(e,t,n,r,o,i,a){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=987)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.MiniPagePreview=t.IS_TEST_ENV=t.ENV=t.CLIENTID=t.APPSECRET=t.ADD_FANS_MINI_ID=t.ADD_FANS_MINI_APP_ID=void 0,t.QQJumpSpecialLink=re,t.STM_CLICK_PAGE_CONFIG=t.SPA_PAGE_NETWORK=void 0,Object.defineProperty(t,"Visibility",{enumerable:!0,get:function(){return O.Visibility}}),t.activityUrlJump=void 0,t.addParamsToUrl=Z,t.addTraceParamsToUD=Ge,t.buildParamsUrl=function(e,t){if(void 0===e||null==e||""===e)return"";if(void 0===t||null==t||"object"!=(0,p.default)(t))return"";var n="";for(var r in t)n+=(-1!==e.indexOf("=")?"&":"")+r+"="+t[r];n&&(e+=(-1!==e.indexOf("?")?"":"?")+n);return e},t.checkFormPhoneAutoSave=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var t=e.querySelector(".privacy-policy-wrapper-auto-fill-phone");return t&&t.classList&&Array.from(t.classList).includes("js-isd-real-checkbox-checked")?1:t?2:0}catch(e){return console.error("提取自动保存手机号信息失败"),0}},t.clipBoard=de,t.copyText=void 0,t.detectJumpByVisibility=ue,t.disableSwipeBackGesture=function(){(0,f.default)("//".concat(v.default.cdnHost,"/qzone/biz/gdt/lib/spa-page-medias/spa-page-medias-").concat(w.default.spaPageMedias,".min.js?max_age=31536001"),function(){var e,t,n=window.SPAPageMedias.MEDIA_NAME,r=ne();switch(r){case n.QNEWS:var o=navigator.userAgent.toLowerCase();o.indexOf("iphone")>-1||o.indexOf("ipad")>-1?window.tad_get_back_gesture_enabled=function(){return"false"}:o.indexOf("android")>-1&&(0,f.default)("//mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1",function(){void 0!==window.TencentNews&&window.TencentNews.setGestureQuit&&window.TencentNews.setGestureQuit(!0)});break;case n.READING:(0,f.default)("//mat1.gtimg.com/www/reading/android/js/jsapi/jsapi.js?max_age=31536000",function(){window.TencentReading&&"function"==typeof window.TencentReading.setGestureQuit&&window.TencentReading.setGestureQuit(!0)});break;case n.WEISHI:if("4"===z(location.href,"xj_pos_type"))return;var i=(e={top:0,right:document.body.scrollWidth,bottom:document.body.scrollHeight,left:0},t=[G(G({},e),{},{directions:[1,2,3,4]})],"jsbridge://touch/touchArea?p=".concat(encodeURIComponent(JSON.stringify(t)))),a=document.createElement("div");a.style.position="absolute",a.style.left=0,a.style.bottom=0,a.style.fontSize=0,a.innerHTML='<iframe id="schema" src="'.concat(i,'"  scrolling="no" width="1" height="1"></iframe>'),document.body.appendChild(a)}})},t.duplicate=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})},t.extractParamsFromDom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xj-component-report",n=e.target||e.srcElement;for(;n&&"BODY"!==n.tagName;){if(Array.from(n.classList).includes(t)){var r={};for(var o in n.dataset)r[o]=n.dataset[o];return r}n=n.parentElement}return{}},t.fillHttps=function(e){if(!e)return"";return e.replace(/^http:\/\//,"https://")},t.formatDateTime=function(e){var t=new Date(e),n=(((new Date).getTime()-t.getTime())/1e3/60).toFixed(0);return n<=1?"刚刚":n<60?n+"分钟前":n<1440?(n/60).toFixed(0)+"小时前":n<2880?"昨天 "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds():n<525600?t.getFullYear()+"-"+Y(t.getMonth()+1)+"-"+Y(t.getDate()):t.getFullYear()},t.formatNumberToChineseUnit=function(e,t){var n=function(e){var t=e.toString().split(".")[0];return t.length-1},r=function(e,r,o,i){var a=n(e);if(a>3){var s=a%8;return s>=5&&(s=4),Math.round(r/Math.pow(10,s+o-i))/Math.pow(10,t)+"万"}return Math.round(r/Math.pow(10,o-i))/Math.pow(10,i)};t=null==t?2:t;var o=Math.floor(e),i=n(o),a=[];if(i>3){var s=Math.floor(i/8);if(s>=1){var c=Math.round(o/Math.pow(10,8*s));a.push(r(c,e,8*s,t));for(var u=0;u<s;u++)a.push("亿");return a.join("")}return r(o,e,0,t)}return e},t.formatNumberToM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(Number(e)/1048576).toFixed(t)},t.generateConsultWechatServiceUrl=Ce,t.generateEncryptToken=function(e){return De.apply(this,arguments)},t.generateParams=Se,t.getAdId=function(){var e=K(),t=e.gdt_ad_id,n=e.uxinfo;if(t)return t;if(n){var r=decodeURIComponent(n).split("|");return r[0]}return""},t.getAdvertiserId=function(){return window.viewerData.accountId},t.getAppId=Ie,t.getConsultParams=function(){var e="",t=K(),n=t.bidword,r=t.queryword,o=t.disease,i=He(),a=(te()||{}).visitor;return e=r?"".concat(e,"&query_word=").concat(encodeURI(r)):e,e=n?"".concat(e,"&key_word=").concat(encodeURI(n)):e,e=i?"".concat(e,"&pagestatus=").concat(i):e,e=o?"".concat(e,"&disease=").concat(o):e,e=a?"".concat(e,"&visitor=").concat(a):e,e+="&landingUrl=".concat(encodeURIComponent(location.href))},t.getGdtAdId=function(){return z(location.href,"gdt_ad_id")+""||""},t.getIOSPkgUrl=function(e){var t=te().pkgurl,n=(e||{}).packageUrl;return t||n||""},t.getInteractiveShouldDownload=function(){return"appDownload"===v.default.transformType&&!!window.SPADownloader},t.getMacroQueryObject=qe,t.getMediaName=ne,t.getMpParamsFromUxinfo=void 0,t.getNetworkType=fe,t.getNetworkTypeAsync=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(t){if(v.default.network)return t(v.default.network);var n=setTimeout(function(){return t("UNKNOW")},e);fe(function(e){t(e),clearTimeout(n)})})},t.getPageData=function(e){return Ve.apply(this,arguments)},t.getPageId=function(){return window.viewerData.pageId},t.getPageStatus=He,t.getParameter=z,t.getQQNumFromCookie=function(){return h.default.get("p_uin")?h.default.get("p_uin").replace(/^o0*/,""):h.default.get("uin")?h.default.get("uin").replace(/^o0*/,""):""},t.getRecordTapInstance=void 0,t.getTraceId=$,t.getWeComCodePreviewInstance=void 0,t.getXjUi=function(){var e=K(),t=e.xj_ui,n=e.wx_xj_ui;return t||n||""},t.gxtReport=void 0,t.isInImageParams=function(){return 1!=((0,_.getExpParams)()||{}).lazy},t.isInOmMedia=function(){var e={QNEWS:"10102373586482",QNEWS_WECHAT:"10505395211243",QLIVE:"40803343280609"},t=[e.QLIVE,e.QNEWS_WECHAT,e.QNEWS],n=z(location.href,"gdt_media_id");return t.indexOf(n)>-1},t.isInWechat=void 0,t.isMediaValid=function(e){var t=window.navigator.userAgent,n={QQ:/QQ\//i,QB:/MQQBrowser/i};switch(e){case"QQ":return n.QQ.test(t);case"QB":return n.QB.test(t);default:return!1}},t.isPreviewPage=function(e){return window.location.pathname.indexOf("preview")>-1},Object.defineProperty(t,"judgeClient",{enumerable:!0,get:function(){return R.judgeClient}}),t.jumpLinkCommonFunction=function(e){var t,n=e.type,r=e.data,o=e.forceJumpWithoutClickId,i=void 0!==o&&o,a=e.event,s=e.dmpPromiseList,c=void 0===s?[]:s;pe.includes(n)||i||(r.url=ee(r.url,v.default.clickIdWhiteUser,r.appendClickId));"link"!==n&&"landingPage"!==n||!a||(t=(0,E.TdwReportTrigger)(a,{ei:"4007001",eiName:"unsupport",action_type:"landing_page_click"},!0));de(r.clipboardConfig||{}),function(e,t,n){(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).preparePromise;var r=function(e,t){var n=isNaN(t)?0:t;e=e||1;var r=document.querySelectorAll('form[data-floatform="false"]')[e-1];r&&(r.offsetParent&&"BODY"===r.offsetParent.tagName?window.scrollTo(0,r.offsetTop-n):window.scrollTo(0,r.getBoundingClientRect().top+window.scrollY-n))};switch(e){case"anchor":Q(t);break;case"backTop":window.scrollTo(0,0);break;case"form":try{ve("toForm"),r(t.formId,t.navOffsetHeight)}catch(e){setTimeout(function(){r(t.formId,t.navOffsetHeight)},500)}break;case"link":setTimeout(function(){ce(t.url,t.deepLinkUrl,t.ppId,n)},t.deepLinkUrl||v.default.isTransDisable?0:b.WAIT_DMP_REPORT_TIME);break;case"landingPage":setTimeout(function(){ce(t.url,"",t.ppId,n)},b.WAIT_DMP_REPORT_TIME);break;case"online":t.url&&setTimeout(function(){window.location=t.url},b.WAIT_DMP_REPORT_TIME);break;case"popup":I.default.init(t.popupConfig),I.default.show(t.popupConfig.id);break;case"advisory":if("smart"===t.connectType)setTimeout(function(){"2"===t.connectSmartType?Ce(t.weixinCustomerServiceSrc).then(function(e){e&&(location.href=e)}):(0,S.smartConsult)(t.smartUrl)},b.WAIT_DMP_REPORT_TIME);else if(t.connectLink){var o=new T.Report;o.dmpReport({actionType:T.REPORT_TYPE.CONSULT,customAction:"",consultType:T.ONLINE_TYPE}),setTimeout(function(){window.location=ee(t.connectLink,v.default.clickIdWhiteUser)},b.WAIT_DMP_REPORT_TIME)}}}.call(this,n,r,a,{preparePromise:c.length?Promise.all([].concat((0,l.default)(c),[t])):null})},t.jumpMiniProgramWithScheme=je,t.jumpToMiniPage=function(e){return Re.apply(this,arguments)},t.jumpToWeChatMiniProgram=function(e,t,n){if(e.codeUrl,e){var r=e.codeUrl,o=e.packageType,i=e.fanPageToken,a=e.isCustomizedDmp,s=e.pageInitTime,c=e.visitProportion,u=e.conversionTimeConf,l=e.visitProportionConf,d=e.isInteractivePage,p=e.isInteractFinished,f=e.weChatName,m=e.packageId,h=$(),y=K(),A=y.token,_=y.testEnv,b=y.showPath,w=y.gdt_ad_id,T=void 0===w?"":w,S={fanPageToken:i,weChatName:f,codeUrl:r,componentId:n,aid:T,pageId:v.default.pageId,gdt_vid:h,actionSetId:v.default.actionSetId,accountId:v.default.accountId,testEnv:_||(H?"1":void 0),showPath:b||0,advertiserId:v.default.accountId,businessId:"xj_landingpage",traceId:h,isCustomizedDmp:a,pageInitTime:s,visitProportion:c,conversionTimeConf:u,visitProportionConf:l,isInteractivePage:d,isInteractFinished:p,packageId:m};A&&"undefined"!==A&&(S.token=A);var O="";for(var I in S)S.hasOwnProperty(I)&&(O+="".concat(I,"=").concat(S[I],"&"));O=O.slice(0,O.length-1);var C="FAN_PAGE"===o?"/pages/customAddFans/index":"/pages/tencentAds/index",P={miniProgram_id:e.miniProgram_id,miniProgram_link:"".concat(C,"?").concat(O),miniProgram_app_id:e.miniProgram_app_id,query:S,queryStr:O,miniProgramPath:C};if(console.error("跳转参数是: ",O),(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_evoke_wechat",status:{wechat_type:2,weappid:e.miniProgram_id}}),P.miniProgram_link+="&sourceFrom=xj_landing_page_Trigger","1"===v.default.requestSource){var x="https://mmbiz.oa.com/wxacrawler/audit/program/".concat(P.miniProgram_app_id,"#!").concat(P.miniProgramPath,"?").concat(P.queryStr);return void window.open(x,"_blank")}(0,k.jumpMiniProgramByOpenSDK)(P,t).then(function(t){if((0,E.TdwReportTrigger)({target:e.dom},{action_type:"miniapp_forward_h5_open"}),!t.res)return function(e){var t=K().testEnv,n="//".concat("1"===t?"test-h5.gdt.qq.com":v.default.backendHost,"/player"),r="".concat(n,"/wechat/generateSchemeForCenterAppEnhanced"),o={path:e.miniProgramPath||"pages/tencentAds/index",query:e.queryStr,jumpWxaType:"wechat"};e.queryStr,g.default.fetch(r,"POST",o).then(function(t){0===t.code&&t.data?((0,D.detectJumpoutByVisibility)(function(t){t||(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_evoke_wechat_success",status:{wechat_type:2,weappid:e.miniProgram_id}})}),location.href=t.data):(console.error(t),N.default.error("获取小程序URL schema 失败"))}).catch(function(e){console.error(e),N.default.error("获取小程序URL schema 失败")})}(P);(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_evoke_wechat_success",status:{wechat_type:2,weappid:e.miniProgram_id}})}).catch(function(e){})}else N.default.info("微信信息不完整")},t.jumpToWeComMiniProgram=function(e,t,n,r){e&&e.autoQrCode?"1"===v.default.requestSource?Ue().addCodePreview(e,1):ye()?Ue().addCodePreview(e,2):je({weComInfo:e,ev:t,componentId:n,allowJumpByUrlScheme:r}):N.default.info("企微信息不完整")},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)},t.on=function(e,t,n,r){r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(t){n.call(e,t||window.event)})},t.parseClickExt=te,t.parseUrl=K,t.preloadWeChatMiniProgram=function(e,t){var n={miniProgram_id:e.miniProgram_id,miniProgram_link:"/pages/tencentAds/index"};return(0,k.checkAndPreloadMiniProgram)(n,t)},t.preloadWeComMiniProgram=function(e,t){var n={miniProgram_id:[W.TESTING,W.DEVELOPMENT].includes(v.default.env)?"gh_f2b006b22ec2":"gh_d80739ec1020",miniProgram_link:"/pages/addFans/index"};return(0,k.checkAndPreloadMiniProgram)(n,t)},t.previewShowArea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xj-images-area";if(v.default&&1!=v.default.requestSource)return;var t=document.getElementsByClassName(e);switch(e){case"xj-basic-text":for(var n=0;n<t.length;n++){var r=t[n].getElementsByTagName("span");if(r&&r[0]){var o=JSON.parse(r[0].getAttribute("data-link"));o.isLink&&(t[n].style.backgroundColor="rgba(129,255,202,.15)",t[n].style.border="2px solid #81ffca")}}break;case"swiper-slide":case"xj-link":case"xj-title":case"xj-richEditor":for(var i=0;i<t.length;i++){var a="xj-richEditor"===e?"data-link":"data-value",s=JSON.parse(t[i].getAttribute(a));(s.isLink||Ae.includes(e))&&(t[i].style.backgroundColor="rgba(129,255,202,.15)",t[i].style.border="2px solid #81ffca")}break;case"xj-images-area":for(var c=0;c<t.length;c++)t[c].style.backgroundColor="rgba(129,255,202,.15)",t[c].style.border="2px solid #81ffca"}},t.removeAllEventListener=function(e){var t=e.cloneNode(!0);return e.parentNode.replaceChild(t,e),t},t.reportGXTWUJI=void 0,t.secondJumpCommonFunction=ce,t.setBtnGestureAnimation=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var t=JSON.parse(e.getAttribute("data-breath")||"{}");if(!t.isOn&&!t.buttonAnimation||"gesture"!==t.type)return;var n="animation-".concat(L.default.initUuid(8)),r=e.getAttribute("data-bottom")||"0px";e.classList.add("".concat(n)),e.style.overflow="visible";var o="\n            content: '';\n            display: block;\n            width: 1.1733rem;\n            height: 1.1733rem;\n            background-image: url('".concat(t.gestureUrl,"');\n            background-size: 100% 100%;\n            position: absolute;\n            bottom: calc(").concat(r," - 0.4rem);\n            left: ").concat(t.gesturePosition,"%;\n            z-index: 150;\n            animation: shrinkAnimation 1s ease-in-out 0s infinite !important;\n        "),i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");i.appendChild(a);var s=a.sheet;s.addRule(".".concat(n,"::after"),o),s.insertRule(".".concat(n,"::after {").concat(o,"}"))}catch(e){}},t.stmTestClkReport=he,t.stmTestClkReportHighLevel=function(e){var t=me[v.default.pageId],n=$();if(!t)return;var r={customActionId:1,customActionLabel1:n,customActionLabel2:t.formName,customActionLabel3:"MOBI",customActionLabel4:e,customActionValue1:1};window.stm_clicki&&window.stm_clicki("send","event",r)},t.stmTestClkReportType=ve,t.throttle=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(){var o=this,i=arguments,a=+new Date;a<t+r?(clearTimeout(n),n=setTimeout(function(){t=a,e.apply(o,i)},r)):(t=a,e.apply(o,i))}},t.urlAddClickId=ee,t.useBizApi=le;var i=r(n(14)),a=r(n(42)),s=r(n(4)),c=r(n(5)),u=r(n(21)),l=r(n(24)),d=r(n(3)),p=r(n(6)),f=r(n(10)),m=r(n(117)),h=r(n(129)),v=r(n(1)),g=r(n(26)),y=r(n(37)),A=n(145),_=n(15),b=n(7),w=r(n(83)),T=n(12),E=n(11),S=n(116),O=U(n(47)),I=r(n(142)),C=r(n(205)),P=n(67),k=n(114),x=n(228),N=r(n(85)),D=n(90),R=n(44),j=U(n(75)),L=r(n(87)),M=r(n(69));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=t.SPA_PAGE_NETWORK="//".concat(v.default.cdnHost,"/qzone/biz/gdt/lib/spa-page-network/spa-page-network-").concat(w.default.spaPageNetworkVersion,".min.js?max_age=31536000"),W=t.ENV={DEVELOPMENT:"development",TESTING:"test",PRE_RELEASE:"prerelease",PRODUCTION:"prod"},H=t.IS_TEST_ENV=[W.DEVELOPMENT,W.TESTING].includes(v.default.env),V=(t.ADD_FANS_MINI_ID=H?"gh_f2b006b22ec2":"gh_57deb12b7892",t.ADD_FANS_MINI_APP_ID=H?"wxfa56e9652b22d520":"wx4f9c5809bda6462f","8.0.5"),X=/^http(s)?:\/\/(itunes\.apple\.com|apps\.apple\.com)([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;var J=!1;var Q=function(e){var t=e.anchorPosition||0;window.scrollTo(0,t,{behavior:"smooth"})};var Y=function(e){return e<10?"0"+e:e};function z(e,t){var n=new RegExp("(\\?|#|&)"+t+"=([^&#]*)(&|#|$)"),r=e.match(n);return r?r[2]:""}function K(){var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},o="";window.location&&window.location.search&&"function"==typeof window.location.search.substring&&(o=window.location.search.substring(1));var i={};if(""===o)return{};for(e=n.exec(o);e;)i[r(e[1])]=r(e[2]),e=n.exec(o);try{Object.keys(i).forEach(function(e){["qz_gdt","gdt_vid"].indexOf(e)>-1&&(i[e]=j&&j.UriComponentEncode(i[e]))})}catch(e){console.error(e)}return i}function $(){var e=K(),t=e.qz_gdt,n=e.gdt_vid;return t||n||""}function Z(e,t,n){return n?~n.indexOf("?")?"".concat(n,"&").concat(e,"=").concat(t):"".concat(n,"?").concat(e,"=").concat(t):""}function ee(e,t,n){if(t||!0===n){var r=$();e=Z("qz_gdt",r,e=Z("clickId",r,e))}return e}function te(){var e=K().click_ext;if(!e||e.length<=0)return{};try{return JSON.parse(window.atob(e))}catch(e){return{}}}function ne(){var e=y.default.parseUrl()||{};return window.SPAPageMedias.getMediaName({mediaId:e.gdt_media_id,siteSet:e.siteset,userAgent:navigator&&navigator.userAgent,clickExt:te()})}function re(e){window.mqq&&window.mqq.invoke("Gdt","Openlink",{openlink:e,businessId:"biz_src_ads"},function(){})}function oe(e,t){window.tianqinReport&&(window.tianqinReport({type:"GXT",data:{attr:"xj_website_link",val:"",count:1,page_id:window.viewerData.pageId,is_deepLink_succed:e,url:t}}),window.viewerData.pageId)}t.gxtReport=function(e,t){window.tianqinReport&&window.tianqinReport({type:"GXT",data:(0,m.default)(G({attr:e,val:1},t))})};var ie=function e(){return e._cache||(e._cache=new T.Report),e._cache},ae=(t.reportGXTWUJI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hotAreaDownloadConfirm";if(window.tianqinReport){var r=parseInt(K().gdt_media_id,10);window.tianqinReport({type:"GXT",data:{attr:"viewer_wuji_data_rate",wuji_key:n,val:Date.now()-t,code:e,media_id:r,render_style:"JS"}})}},15e3),se={KEY:"xj-jump-time",save:function(){var e=this;h.default.set(this.KEY,(new Date).getTime()),"IOSQQ"===v.default.mediaName&&(clearInterval(this.hackTimer),this.hackPrevTime=(new Date).getTime(),this.hackTimer=setInterval(function(){var t=(new Date).getTime(),n=t-e.hackPrevTime;n>1500&&n<=ae&&(ie().dmpReport({map:T.REPORT_TYPE_MAPS.JUMP_THEN_RETURN}),clearInterval(e.hackTimer)),e.hackPrevTime=t},1e3))},clear:function(){h.default.set(this.KEY,"0")},tryReport:function(){(new Date).getTime()-parseInt(h.default.get(this.KEY),10)<ae&&ie().dmpReport({map:T.REPORT_TYPE_MAPS.JUMP_THEN_RETURN}),this.clear()},hackTimer:null};function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Ge(e),i=Ge(t);r.reportName&&ue(function(){(0,E.TdwReportTrigger)({reportName:r.reportName,reportId:r.reportId},{ei:"4007018",eiName:"unsupport",action_type:"landing_page_success"})},function(){(0,E.TdwReportTrigger)({reportName:r.reportName,reportId:r.reportId},{ei:"4007019",eiName:"unsupport",action_type:"landing_page_fail"})});var a=function(e){if(e)if(X.test(e))C.default.launch({url:e,ppId:n});else{if(se.save(),"IOSQQ"===v.default.mediaName){var t=document.createElement("a");return t.setAttribute("href",e),document.body.appendChild(t),r.failCallbackId&&(clearTimeout(r.failCallbackId),setTimeout(function(){(0,E.TdwReportTrigger)({reportName:r.reportName,reportId:r.reportId},{eiName:"link-fail",jumpTypes:r.jumpTypes})},2e3)),t.click(),void document.body.removeChild(t)}window.location=e}};if(t){if(le())re(i);else{if(ye())return void(window.WeixinJSBridge&&window.WeixinJSBridge.invoke("launchApplication",G({schemeUrl:i},(0,D.buildReportInfo)()),function(e){var t=e.err_msg;(t.indexOf("fail")>-1||t.indexOf("denied")>-1)&&(a(o),oe(!1,o)),t.indexOf("ok")>-1&&oe(!0,i)}));location.href=i}var s,c,u;s=setTimeout(function(){a(o),oe(!1,o)},b.DEEPLINK_FAIL_WAIT_TIME),c=O.default.onChange(function(e){("hidden"===e&&(u=(new Date).getTime(),clearTimeout(s),oe(!0,i)),"visible"===e)&&((new Date).getTime()-u<ae&&ie().dmpReport({map:T.REPORT_TYPE_MAPS.JUMP_THEN_RETURN}),O.default.remove(c))})}else a(o)}function ue(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;n=setTimeout(function(){O.default.remove(r),t&&t()},o),r=O.default.onChange(function(t){O.default.remove(r),"hidden"===t&&(clearTimeout(n),e&&e())})}function le(){return window.mqq&&window.mqq.compare(V)>=0}function de(e){e.clipboardEnable&&e.clipboardContent&&ge(e.clipboardContent,function(){e.clipboardToastEnable&&e.clipboardToast&&M.default.success(e.clipboardToast)},function(e){"剪切板复制失败:".concat(e)})}clearInterval(se.hackTimer),1===window.history.length&&se.clear(),se.tryReport();var pe=["advisory"];function fe(e){window.SPAPageNetwork&&window.SPAPageNetwork.checkNetworkType?"function"==typeof e&&window.SPAPageNetwork.checkNetworkType(function(t){e(t)}):(0,f.default)([q],function(){window.SPAPageNetwork&&window.SPAPageNetwork.checkNetworkType&&"function"==typeof e&&window.SPAPageNetwork.checkNetworkType(function(t){e(t)})})}var me=t.STM_CLICK_PAGE_CONFIG={1389576:null,1813675:{formName:"P-2020 BMW G2028长期推广Q2_BMW",get payloads(){return{toForm:[this.formName,"".concat(v.default.pageTitle,"点击"),"获取2020最新报价"],submit:[this.formName,"".concat(v.default.pageTitle,"点击"),"确认提交"],submitSuccess:[this.formName,"Register","注册成功"]}}},1835378:{formName:"BMW 5系Li",get payloads(){return{toForm:[this.formName,"".concat(v.default.pageTitle,"点击"),"预约试驾"],submit:[this.formName,"".concat(v.default.pageTitle,"点击"),"确认提交"],submitSuccess:[this.formName,"Register","注册成功"]}}},1835786:{formName:"即刻享驾新BMW X5",get payloads(){return{toForm:[this.formName,"".concat(v.default.pageTitle,"点击"),"预约试驾"],submit:[this.formName,"".concat(v.default.pageTitle,"点击"),"确认提交"],submitSuccess:[this.formName,"Register","注册成功"]}}},1908227:{formName:"预约试驾THE X7",get payloads(){return{toForm:[this.formName,"".concat(v.default.pageTitle,"点击"),"预约试驾"],submit:[this.formName,"".concat(v.default.pageTitle,"点击"),"确认提交"],submitSuccess:[this.formName,"Register","注册成功"]}}},1955867:{formName:"P-2020 BMW G05PHEV精准营销Q3_PHEV",get payloads(){return{toForm:[this.formName,"".concat(v.default.pageTitle,"点击"),"预约试驾"],submit:[this.formName,"".concat(v.default.pageTitle,"点击"),"确认提交"],submitSuccess:[this.formName,"Register","注册成功"]}}},1950313:{formName:"P-2020 BMW F49长期线上营销Q3_BMW",get payloads(){return{toForm:[this.formName,"".concat(v.default.pageTitle,"点击"),"预约试驾"],submit:[this.formName,"".concat(v.default.pageTitle,"点击"),"确认提交"],submitSuccess:[this.formName,"Register","注册成功"]}}}};function he(e,t,n){try{window.stm_clicki&&window.stm_clicki("send","event",e,t,n)}catch(e){console.error("秒针监控上报异常")}}function ve(e){var t=me[v.default.pageId];t&&he.apply(null,t.payloads[e])}t.activityUrlJump=function(e){(new T.Report).dmpReport({actionType:T.REPORT_TYPE.LINK,customAction:""}),setTimeout(function(){e=ee(e,v.default.activityClickIdWhiteUser),window.location=e},500)};var ge=t.copyText=function(e,t,n){var r=document.createElement("textarea");r.value=e,r.readOnly=!0,r.style.position="fixed",r.style.top="50%",r.style.transform="translateY(-50%)",r.style.left="9999999px",r.style.overflow="hidden",r.style.height="0",document.body.appendChild(r),navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)||(r.select(),r.focus());var o=document.createRange();o.selectNodeContents(r);var i=window.getSelection();i.removeAllRanges(),i.addRange(o),r.setSelectionRange(0,999999);try{var a=document.execCommand("copy");a?t(e):(console.error("错误复制",a),n())}catch(e){console.error("错误复制catch",e),n()}document.body.removeChild(r)},ye=t.isInWechat=function(){var e=navigator.userAgent.toLowerCase();return/MicroMessenger/i.test(e)};var Ae=["xj-title","xj-link"];var _e=null;function be(e){if(!e)return"";var t=e.split("/")[e.split("/").length-1],n=t.indexOf("?");return n>-1?t.slice(0,n):t}function we(){return _e||(_e=new Promise(function(e){(0,f.default)("//".concat(v.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/crypto-js.min.js?max_age=31536000"),function(){e()})})),_e}function Te(e,t,n){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,u.default)(i.default.mark(function e(t,n,r){var o,a,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=be(t),a=["F-JaNdRfUjXn2r5u",o,encodeURIComponent(r),encodeURIComponent(n)].sort().join(""),s="",!window.CryptoJS){e.next=8;break}s=window.CryptoJS.SHA256(a).toString(window.CryptoJS.enc.Hex),e.next=10;break;case 8:return e.next=10,we().then(function(){s=window.CryptoJS.SHA256(a).toString(window.CryptoJS.enc.Hex)});case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,u.default)(i.default.mark(function e(t){var n,r,o,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="2|1",r=JSON.stringify({uxinfo:"".concat((0,P.getAdID)(),"|").concat((0,P.getClickId)())}),e.next=4,Te(t,n,r);case 4:return o=e.sent,a="",a=Z("_kf_base",encodeURIComponent(n),t),a=Z("_kf_custom",encodeURIComponent(r),a),a=Z("_kf_sign",o,a),e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ie(e,t){return e?t?b.OFFICIAL_MP_SMART_CONNECT_ID:b.OFFICIAL_H5_SMART_CONNECT_ID:b.SMART_CONNECT_ID}function Ce(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.default)(i.default.mark(function e(t){var n,r,o,a,s,c,u,l,d,p,f,m=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]&&m[1],t&&v.default){e.next=3;break}return e.abrupt("return","");case 3:return r=v.default.scene,o=v.default.commonPageId,a=v.default.pageId,s=v.default.accountId,c=r===b.LANDING_PAGE_SCENE.INTEGRATION,u=Ie(c,n),l=c?o:a,d=n?(0,A.getMptraceId)():(0,P.getClickId)(),p=encodeURIComponent("".concat(d,"|").concat(d,"|").concat(u,"|").concat(l,"|").concat(s)),f=t.replace("SCENE_PARAM",p).replace("__CLICKID__",d).replace("__TRACEID__",d).replace("__APPID__",u).replace("__PAGEID__",l).replace("__PAGEOWNERUID__",s),e.next=12,Se(f);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ke=t.CLIENTID="xijingview-api",xe=t.APPSECRET="bjaou@id9391ks1";function Ne(e){var t=Math.floor(Date.now()/1e3),n=xe+ke+t+e,r=window.CryptoJS.SHA256(n).toString(window.CryptoJS.enc.Hex),o="".concat(ke,",").concat(t,",").concat(e,",").concat(r),i=window.CryptoJS.enc.Utf8.parse(o);return window.CryptoJS.enc.Base64.stringify(i)}function De(){return(De=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.CryptoJS){e.next=5;break}return e.abrupt("return",Ne(t));case 5:return e.abrupt("return",we().then(function(){return Ne(t)}));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.t0,e.abrupt("return","");case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function Re(){return(Re=(0,u.default)(i.default.mark(function e(t){var n,r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.weComInfo,r=t.ev,o=t.componentId,!n||"nativePage"!==n.jumpPath){e.next=14;break}if("1"!==v.default.requestSource){e.next=6;break}(new Be).addCodePreview(n,1),e.next=14;break;case 6:if(!ye()){e.next=10;break}(new Be).addCodePreview(n,2),e.next=14;break;case 10:return e.next=12,(0,x.checkAndJumpMiniPage)({data:n,componentId:o});case 12:e.sent.res||je({ev:r,componentId:o,weComInfo:n,extParam:{headerImage:n.headerImage.imageH5Url,businessCard:n.businessQRCardUrl.imageUrl},miniPath:"/pages/addFansNewStyle/index",standbyJump:!0});case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function je(e){e.weComInfo;var t=e.ev,n=e.componentId,r=e.extParam,o=void 0===r?{}:r,i=e.miniPath,a=void 0===i?"/pages/addFans/index":i,s=e.standbyJump,c=void 0!==s&&s,u=e.allowJumpByUrlScheme,l=void 0===u||u,d=K(),p=d.token,f=d.testEnv,m=d.showPath,h=G({token:p,componentId:n,pageId:v.default.pageId,gdt_vid:$(),actionSetId:v.default.actionSetId,accountId:v.default.accountId,testEnv:f||0,showPath:m||0},o),y="";for(var A in h)h[A]&&(y+="".concat(A,"=").concat(h[A],"&"));y=y.slice(0,y.length-1);var _={miniProgram_id:[W.TESTING,W.DEVELOPMENT].includes(v.default.env)?"gh_f2b006b22ec2":"gh_d80739ec1020",miniProgram_link:"".concat(a,"?").concat(y),query:h,queryStr:y};(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_evoke_wechat",status:{wechat_type:1},biz:{standby_jump:c}}),(0,k.jumpMiniProgramByOpenSDK)(_,t,"miniProgram",c).then(function(e){e.res?(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_evoke_wechat_success",status:{wechat_type:1},biz:{standby_jump:c}}):l&&function(e){var t=K().testEnv,n="//".concat("1"===t?"test-h5.gdt.qq.com":v.default.backendHost,"/player"),r="".concat(n,"/wechat/generateSchemeForCenterApp"),o={path:e.path,query:e.queryStr};e.queryStr,g.default.fetch(r,"POST",o).then(function(t){0===t.code&&t.data?((0,D.detectJumpoutByVisibility)(function(t){t||(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_evoke_wechat_success",status:{wechat_type:1,weappid:e.miniProgram_id},biz:{standby_jump:e.standbyJump||!1}})}),location.href=t.data):(console.error(t),N.default.error("获取小程序URL schema 失败"))}).catch(function(e){console.error(e),N.default.error("获取小程序URL schema 失败")})}(G(G({},_),{},{path:a,standbyJump:c}))}).catch(function(e){})}var Le,Me=function(){function e(){(0,s.default)(this,e),this.qrcodeList=[],this.wrapper=null,this.addCodePreview=this.addCodePreview.bind(this),this.init()}return(0,c.default)(e,[{key:"init",value:function(){if(!this.wrapper&&(this.wrapper=document.getElementById("wecom-qrcode-wrapper"),!this.wrapper)){this.wrapper=document.createElement("div");var e={position:"fixed",display:"none",top:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.3)",zIndex:100,overflowY:"auto",flexDirection:"column",justifyContent:"center"};for(var t in e)this.wrapper.style[t]=e[t];this.wrapper.id="wecom-qrcode-wrapper",document.body.appendChild(this.wrapper)}g.default.bindLongPress(this.wrapper,this.longPress.bind(this),600,!1),g.default.on(this.wrapper,"tap",this.close.bind(this),!0),this.wrapper.addEventListener("touchstart",this.disableZoomQrcode.bind(this))}},{key:"longPress",value:function(e,t){t.target&&t.target.classList&&Array.from(t.target.classList).includes("qr-code-preview")&&(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_card_click"})}},{key:"close",value:function(e){e.target&&e.target.classList&&Array.from(e.target.classList).includes("audit-close-btn")&&(this.wrapper.style.display="none",J=!1,e.stopPropagation(),e.preventDefault())}},{key:"disableZoomQrcode",value:function(e){Array.from(e.target.classList).includes("qr-code-preview")&&(0,R.judgeClient)()===R.judgeClient.SYS.IOS&&e.preventDefault()}},{key:"renderFocusPage",value:function(e){var t=e.autoQrCode,n=e.weComBackgroundImageUrl,r=e.showQrCodeDescription,o=e.qrCodePosition,i=n||"//".concat(v.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/wecom-qrcode-bg.png"),a=o||{height:280,width:235,x:70,y:190},s=a.x/375,c=5536.1/375*(a.y/667),u=5536.1/375*(a.height/667),l=8.3*(a.width/375),d=8.3*s,p=l-1.0666,f=d+.5333,m=f,h=8.3-(f+p),g=c+.5333,y=5536.1/375-(p+g),A=!1===r?"":'<div style="height: '.concat(p,'rem"></div>\n          <div style="margin-top: 0.268rem"><span>长按识别二维码</span><br/>\n        <span>或 保存图片使用微信扫码关注</span></div>'),_='\n          <div style="\n              width: '.concat(8.3,"rem;\n              height: ").concat(5536.1/375,"rem;\n              margin: 0 auto 0.5rem;\n              background: url('").concat(i,'\') no-repeat;\n              background-size: 100% auto;\n              border-radius: 0.5rem;\n              position: relative;"\n          >\n              <img\n                src="').concat(t,'"\n                class="qr-code-preview"\n                style="\n                  width: ').concat(p,"rem;\n                  padding-left: ").concat(m,"rem;\n                  padding-right: ").concat(h,"rem;\n                  padding-top: ").concat(g,"rem;\n                  padding-bottom: ").concat(y,'rem;\n                  position: absolute;\n                  z-index: 999;\n                  box-sizing: content-box;\n                  left: 0;"\n              >\n              <div style="\n                  position: absolute;\n                  width: ').concat(l,"rem;\n                  height: ").concat(u,"rem;\n                  left: ").concat(d,"rem;\n                  top: ").concat(c,"rem;\n                  border-radius: 0.24rem;\n                  font-size: 12px;\n                  background: #fff;\n                  color: #4d5869;\n                  padding: ").concat(.5333,'rem;\n                  box-sizing: border-box;\n                  text-align: center;\n                "\n              >\n              ').concat(A,'\n              </div>\n              <div class="audit-close-btn" style="\n                  background: url(\'//').concat(v.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/close.svg') no-repeat;\n                  background-size: cover;\n                  width: 1.04rem;\n                  height: 1.04rem;\n                  position: absolute;\n                  bottom: -1.5rem;\n                  left: 0;\n                  right: 0;\n                  margin: 0 auto;\"\n              ></div>\n          </div>\n        "),b='\n          <div>\n            <div style="\n                border-radius: 12px;\n                background: #fff;\n                padding: '.concat(.5333,'rem;\n                text-align: center;\n                margin: 0 40px;"\n            >\n              <img class="qr-code-preview" src="').concat(t,'" style="width: 70vw;"/>\n              <div style="\n                margin-top: 0.268rem;\n                font-size: 17px;\n                color: rgba(0,0,0,0.8);"\n              >\n                <span>长按识别二维码</span><br/>\n                <span>或 保存图片使用微信扫码关注</span>\n              </div>\n            </div>\n            <div class="audit-close-btn" style="\n                  background: url(\'//').concat(v.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/close.svg') no-repeat;\n                  background-size: cover;\n                  width: 40px;\n                  height: 40px;\n                  margin: 17px auto;\"\n              ></div>\n          </div>\n        ");return e.isPOI?b:_}},{key:"addCodePreview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e||!e.autoQrCode)return N.default.info("企微信息不完整");if(1!==t||!J){J=!0;var r=this.renderFocusPage(e);this.qrcodeList=1===t?[].concat((0,l.default)(this.qrcodeList),[r]).slice(0,n):[r],this.render()}}},{key:"render",value:function(){this.wrapper&&((0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_card_view",status:{view_type:"miniProgram"}}),this.wrapper.innerHTML=this.qrcodeList.join(),this.wrapper.style.display="flex")}}]),e}(),Be=t.MiniPagePreview=function(){function e(){return(0,s.default)(this,e),e.prototype.instance||(this.qrcodeList=[],this.dialog=null,this.addCodePreview=this.addCodePreview.bind(this),this.init(),e.prototype.instance=this),e.prototype.instance}return(0,c.default)(e,[{key:"init",value:function(){if(!this.wrapper&&(this.wrapper=document.getElementById("mini-page-wrapper"),!this.wrapper)){this.wrapper=document.createElement("div");var e={position:"fixed",display:"none",top:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.3)",zIndex:100,overflowY:"auto",flexDirection:"column",justifyContent:"center"};for(var t in e)this.wrapper.style[t]=e[t];this.wrapper.id="mini-page-wrapper",document.body.appendChild(this.wrapper)}g.default.bindLongPress(this.wrapper,this.longPress.bind(this),600,!1),g.default.on(this.wrapper,"tap",this.close.bind(this),!0),this.wrapper.addEventListener("touchstart",this.disableZoomQrcode.bind(this))}},{key:"addCodePreview",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e||!e.businessQRCardUrl)return N.default.info("原生页信息不完整");if(1!==t||!J){J=!0;var r='\n            <div style="\n                width: '.concat(6.8,"rem;\n                height: ").concat(14,'rem;\n                margin: 0 auto 0.5rem;\n                background-size: 100% auto;\n                border-radius: 0.5rem;\n                position: relative;"\n            >\n                <img\n                  src="').concat(e.headerImage&&e.headerImage.imageH5Url,'"\n                  style="width: 100%; display: block; border-top-left-radius: 0.5rem; border-top-right-radius: 0.5rem;"\n                >\n                <img\n                    src="').concat(e.businessQRCardUrl&&e.businessQRCardUrl.imageUrl,'"\n                    class="mini-page-preview"\n                    style="width: 100%; display: block; border-bottom-left-radius: 0.5rem; border-bottom-right-radius: 0.5rem;"\n                />\n                <div class="mini-page-close-btn" style="\n                    background: url(\'//').concat(v.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/close.svg') no-repeat;\n                    background-size: cover;\n                    width: 1.04rem;\n                    height: 1.04rem;\n                    position: absolute;\n                    bottom: -1.5rem;\n                    left: 0;\n                    right: 0;\n                    margin: 0 auto;\"\n                ></div>\n            </div>\n        ");this.qrcodeList=1===t?[].concat((0,l.default)(this.qrcodeList),[r]).slice(0,n):[r],this.render()}}},{key:"longPress",value:function(e,t){t.target&&t.target.classList&&Array.from(t.target.classList).includes("mini-page-preview")&&(0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_card_click"})}},{key:"close",value:function(e){e.target&&e.target.classList&&Array.from(e.target.classList).includes("mini-page-close-btn")&&(this.wrapper.style.display="none",J=!1,e.stopPropagation(),e.preventDefault())}},{key:"disableZoomQrcode",value:function(e){Array.from(e.target.classList).includes("mini-page-preview")&&(0,R.judgeClient)()===R.judgeClient.SYS.IOS&&e.preventDefault()}},{key:"render",value:function(){this.wrapper&&((0,E.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_card_view",status:{view_type:"nativePage"}}),this.wrapper.innerHTML=this.qrcodeList.join(),this.wrapper.style.display="flex")}}]),e}(),Ue=t.getWeComCodePreviewInstance=(Le=null,function(){return Le||(Le=new Me),Le}),Fe=function(){function e(){(0,s.default)(this,e),this.times=0,this.markTap=this.markTap.bind(this),this.init()}return(0,c.default)(e,[{key:"init",value:function(){g.default.on(document.body,"tap",this.markTap)}},{key:"markTap",value:function(){this.times++}},{key:"getTapTimes",value:function(){return this.times}}]),e}();t.getRecordTapInstance=function(){var e=null;return function(){return e||(e=new Fe),e}}();function Ge(e){if(!e)return"";var t=e,n=qe();return Object.keys(n).forEach(function(e){t=t.replace(new RegExp(e,"i"),n[e])}),t}function qe(){var e=K(),t={};return[["__RTA_TRACE_ID__",e.rta_trace_id],["__REQUEST_ID__",e.request_id],["__ADGROUP_ID__",e.gdt_ad_id],["__AD_ID__",e.ad_id],["__QZGDT__",$()]].forEach(function(e){var n=(0,a.default)(e,2),r=n[0],o=n[1];o&&(t[r]=o)}),Object.keys(e).forEach(function(n){var r=n.match(/^xjq_(.*)/);if(r&&r[1]){var o="__".concat(r[1],"__"),i=e[n];i&&i!==o&&(t[o]=i)}}),t}var We={verify:"1",preview:"2"};function He(){var e="";return K().token&&(e=v.default.requestSource===We.verify?We.verify:We.preview),e}function Ve(){return(Ve=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n="".concat(b.backendUrl,"/page/").concat(t);g.default.fetch(n,"get").then(function(t){0===t.code?e(t.data.pageData):(N.default.error(t.message||"获取落地页错误"),e(null))}).catch(function(t){N.default.error(t.message||"获取落地页错误"),e(null)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.getMpParamsFromUxinfo=function(e,t){if(!t)return"";var n=["aid","traceid","aid_gdt","adsrc_trigger","ts","circle_id","contract_flag","slot_id","_","token","tid","site_set","ad_source","wuid","data_model_version","dynamic_creative_id"].indexOf(e);if(n<0)return"";var r=t.split("|")[n];return void 0===r?"":r}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"TENCENT_VIDEO_JS_API_V3",function(){return r}),n.d(t,"SUPER_PLAYER_JS_LIBRARY",function(){return o}),n.d(t,"backendUrl",function(){return i}),n.d(t,"CDN_HOSTS",function(){return a}),n.d(t,"WAIT_DMP_REPORT_TIME",function(){return s}),n.d(t,"DEEPLINK_FAIL_WAIT_TIME",function(){return c}),n.d(t,"PAY_APPID",function(){return u}),n.d(t,"PAY_CLIENT_CONF",function(){return l}),n.d(t,"PRIVATE_TRAFFIC_OPEN_ID",function(){return d}),n.d(t,"ANDROID_PERMISSION_MAP",function(){return p}),n.d(t,"LANDING_PAGE_SCENE",function(){return f}),n.d(t,"SMART_CONNECT_ID",function(){return m}),n.d(t,"OFFICIAL_H5_SMART_CONNECT_ID",function(){return h}),n.d(t,"OFFICIAL_MP_SMART_CONNECT_ID",function(){return v});var r="//vm.gtimg.cn/tencentvideo/txp/js/txplayer.js",o="//vm.gtimg.cn/thumbplayer/superplayer/superplayer.js",i="//".concat(window.viewerData&&window.viewerData.backendHost?window.viewerData.backendHost:"h5.gdt.qq.com","/player"),a=["xj.gdt.qq.com","test-xj.gdt.qq.com"],s=1e3,c=1e3,u="wx0d30c2b1d7020b67",l={appId:"player",secret:""},d={appId:"wx0d30c2b1d7020b67",appSecret:""},p={"android.permission.ACCEPT_HANDOVER":"允许正在通话的应用程序继续在另一个应用程序中拨打电话。","android.permission.ACCESS_BACKGROUND_LOCATION":"允许应用访问后台位置。","android.permission.ACCESS_CHECKIN_PROPERTIES":"允许对签入数据库中的“属性”表进行读/写访问，以更改要上传的值。","android.permission.ACCESS_COARSE_LOCATION":"允许应用访问大概位置。","android.permission.ACCESS_FINE_LOCATION":"允许应用访问精确位置。","android.permission.ACCESS_LOCATION_EXTRA_COMMANDS":"允许应用程序访问其他位置提供程序命令。","android.permission.ACCESS_MEDIA_LOCATION":"允许应用访问用户共享集合中保留的任何地理位置。","android.permission.ACCESS_NETWORK_STATE":"允许应用程序访问有关网络的信息。","android.permission.ACCESS_NOTIFICATION_POLICY":"允许访问通知策略的应用程序的标记权限。","android.permission.ACCESS_WIFI_STATE":"允许应用访问有关Wi-Fi网络的信息。","android.permission.ACCOUNT_MANAGER":"允许应用通过账户验证方式访问账户管理ACCOUNT_MANAGER相关信息。","android.permission.ACTIVITY_RECOGNITION":"允许应用程序识别身体活动。","android.permission.ANSWER_PHONE_CALLS":"允许该应用接听来电。","android.permission.BATTERY_STATS":"允许应用收集电池统计信息。","android.permission.BIND_APPWIDGET":"允许应用程序告知AppWidget服务哪个应用程序可以访问AppWidget的数据。","android.permission.BIND_CARRIER_SERVICES":"允许绑定到运营商应用程序中的服务。","android.permission.BIND_CONTROLS":"允许SystemUI请求第三方控件。","android.permission.BIND_QUICK_SETTINGS_TILE":"允许应用程序绑定到第三方快速设置磁贴。","android.permission.BLUETOOTH":"允许应用程序连接到配对的蓝牙设备。","android.permission.BLUETOOTH_ADMIN":"允许应用程序发现和配对蓝牙设备。","android.permission.BLUETOOTH_PRIVILEGED":"允许应用程序与蓝牙设备配对，而无需用户交互。","android.permission.BODY_SENSORS":"允许应用访问来自传感器的数据。","android.permission.BROADCAST_PACKAGE_REMOVED":"允许应用程序广播已删除应用程序的通知。","android.permission.BROADCAST_SMS":"允许应用程序广播SMS接收通知。","android.permission.BROADCAST_STICKY":"允许应用程序广播粘性意图。","android.permission.BROADCAST_WAP_PUSH":"允许应用程序广播WAP PUSH接收通知。","android.permission.CALL_COMPANION_APP":"允许应用作为呼叫伴随应用启用。","android.permission.CALL_PHONE":"允许应用程序在不通过拨号界面的情况下发起电话呼叫。","android.permission.CALL_PRIVILEGED":"允许应用程序拨打任何电话号码，包括紧急号码，而无需通过拨号界面来让用户确认正在拨打的电话。","android.permission.CAMERA":"允许应用能够访问摄像头设备。","android.permission.CAPTURE_AUDIO_OUTPUT":"允许应用捕获音频输出。","android.permission.CHANGE_COMPONENT_ENABLED_STATE":"允许应用程序更改是否启用其他应用程序组件。","android.permission.CHANGE_CONFIGURATION":"允许应用程序修改当前设备配置。","android.permission.CHANGE_NETWORK_STATE":"允许应用程序更改网络连接状态。","android.permission.CHANGE_WIFI_MULTICAST_STATE":"允许应用程序进入Wi-Fi组播模式。","android.permission.CHANGE_WIFI_STATE":"允许应用程序更改Wi-Fi连接状态。","android.permission.CLEAR_APP_CACHE":"允许应用程序清除设备上所有已安装应用程序的缓存。","android.permission.CONTROL_LOCATION_UPDATES":"允许启用/禁用来自电台的位置更新通知。","android.permission.DELETE_CACHE_FILES":"允许删除应用程序的缓存文件。","android.permission.DELETE_PACKAGES":"允许应用程序删除其他应用。","android.permission.DIAGNOSTIC":"允许应用程序读写诊断资源。","android.permission.DISABLE_KEYGUARD":"允许应用程序禁用键盘锁。","android.permission.DUMP":"允许应用程序从系统服务中检索状态转储信息。","android.permission.EXPAND_STATUS_BAR":"允许应用程序展开或折叠状态栏。","android.permission.FACTORY_TEST":"允许应用以制造商测试应用程序的身份运行，以root用户身份运行。","android.permission.FOREGROUND_SERVICE":"允许应用程序使用前台服务。","android.permission.GET_ACCOUNTS":"允许访问帐户服务中的帐户列表。","android.permission.GET_ACCOUNTS_PRIVILEGED":"允许访问帐户服务中的帐户列表。","android.permission.GET_PACKAGE_SIZE":"允许应用程序查看其他应用使用的空间大小。","android.permission.GET_TASKS":"允许应用程序获取当前的信息或最近运行的任务。","android.permission.GLOBAL_SEARCH":"允许全局搜索系统访问其数据。","android.permission.INSTALL_LOCATION_PROVIDER":"允许应用程序将位置提供程序安装到位置管理器中。","android.permission.INSTALL_PACKAGES":"允许应用程序安装其他应用。","android.permission.INSTANT_APP_FOREGROUND_SERVICE":"允许即时应用创建前台服务。","android.permission.INTERACT_ACROSS_PROFILES":"允许跨同一个人资料组中的个人资料进行交互。","android.permission.INTERNET":"允许应用程序访问网络。","android.permission.KILL_BACKGROUND_PROCESSES":"允许应用清理后台应用进程。","android.permission.LOADER_USAGE_STATS":"允许数据加载器读取程序包的访问日志。","android.permission.LOCATION_HARDWARE":"允许应用程序使用硬件中的位置功能。","android.permission.MANAGE_DOCUMENTS":"允许应用程序管理文档的访问权限。","android.permission.MANAGE_EXTERNAL_STORAGE":"允许应用程序访问作用域存储中的外部存储。","android.permission.MANAGE_OWN_CALLS":"允许管理自己的呼叫权限。","android.permission.MEDIA_CONTENT_CONTROL":"允许应用获取正在播放的内容并控制其播放。","android.permission.MODIFY_AUDIO_SETTINGS":"允许应用程序修改全局音频设置。","android.permission.MODIFY_PHONE_STATE":"允许修改设备状态。","android.permission.MOUNT_FORMAT_FILESYSTEMS":"允许格式化文件系统以用于可移动存储。","android.permission.MOUNT_UNMOUNT_FILESYSTEMS":"允许挂载和卸载可移动存储的文件系统。","android.permission.NFC":"允许应用程序访问NFC。","android.permission.NFC_PREFERRED_PAYMENT_INFO":"允许应用程序接收NFC首选付款服务信息。","android.permission.NFC_TRANSACTION_EVENT":"允许应用程序接收NFC事务事件。","android.permission.PACKAGE_USAGE_STATS":"允许应用收集组件使用情况统计信息。","android.permission.PERSISTENT_ACTIVITY":"允许应用程序使其活动持久化。","android.permission.PROCESS_OUTGOING_CALLS":"允许应用监视，修改或放弃播出电话。","android.permission.QUERY_ALL_PACKAGES":"允许查询设备上的任何应用程序。","android.permission.READ_CALENDAR":"允许应用读取用户的日历数据。","android.permission.READ_CALL_LOG":"允许应用程序读取用户的通话记录。","android.permission.READ_CONTACTS":"允许应用读取用户的联系人数据。","android.permission.READ_EXTERNAL_STORAGE":"允许应用程序从外部存储读取数据。","android.permission.READ_LOGS":"允许应用程序读取低级系统日志文件。","android.permission.READ_PHONE_NUMBERS":"允许读取访问设备的电话号码。","android.permission.READ_PHONE_STATE":"允许访问电话状态，包括当前的蜂窝网络信息，所有正在进行的呼叫的状态以及在设备上注册的所有账户的列表。","android.permission.READ_PRECISE_PHONE_STATE":"允许访问精确的电话状态。","android.permission.READ_SMS":"允许应用程序读取短信消息。","android.permission.READ_SYNC_SETTINGS":"允许应用读取同步设置。","android.permission.READ_SYNC_STATS":"允许应用读取同步统计信息。","android.permission.REBOOT":"允许重新启动设备。","android.permission.RECEIVE_BOOT_COMPLETED":"允许应用程序监听开机通知。","android.permission.RECEIVE_MMS":"允许应用程序监听彩信消息。","android.permission.RECEIVE_SMS":"允许应用程序接收短信消息。","android.permission.RECEIVE_WAP_PUSH":"允许应用程序接收WAP推送消息。","android.permission.RECORD_AUDIO":"允许应用程序录制音频。","android.permission.REORDER_TASKS":"允许应用程序更改任务的顺序。","android.permission.REQUEST_COMPANION_RUN_IN_BACKGROUND":"允许合作应用在后台运行。","android.permission.REQUEST_COMPANION_USE_DATA_IN_BACKGROUND":"允许合作应用在后台使用数据。","android.permission.REQUEST_DELETE_PACKAGES":"允许应用程序请求卸载其他应用。","android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS":"允许用户请求应用忽略电池优化。","android.permission.REQUEST_INSTALL_PACKAGES":"允许应用程序请求安装软件包。","android.permission.REQUEST_PASSWORD_COMPLEXITY":"允许应用程序请求屏幕锁定复杂性，并提示用户将屏幕锁定更新到特定的复杂性级别。","android.permission.RESTART_PACKAGES":"允许应用程序结束任务。","android.permission.SEND_RESPOND_VIA_MESSAGE":"允许应用程序将请求发送到其他应用程序，以在通话期间处理通过消息进行响应的操作。","android.permission.SEND_SMS":"允许应用程序发送短信消息。","android.permission.SET_ALWAYS_FINISH":"允许应用程序置于后台时立即结束运行。","android.permission.SET_ANIMATION_SCALE":"允许修改全局动画缩放比例。","android.permission.SET_DEBUG_APP":"允许配置应用程序进行调试。","android.permission.SET_PREFERRED_APPLICATIONS":"允许程序设置应用的参数。","android.permission.SET_PROCESS_LIMIT":"允许应用程序设置可以运行的应用程序进程的最大数量。","android.permission.SET_TIME":"允许应用程序直接设置系统时间。","android.permission.SET_TIME_ZONE":"允许应用程序直接设置系统时区。","android.permission.SET_WALLPAPER":"允许应用程序设置墙纸。","android.permission.SET_WALLPAPER_HINTS":" 允许应用程序设置墙纸提示。","android.permission.SIGNAL_PERSISTENT_PROCESSES":"允许应用程序请求将信号发送到所有持久性进程。","android.permission.SMS_FINANCIAL_TRANSACTIONS":"允许金融应用读取过滤的短信。","android.permission.START_VIEW_PERMISSION_USAGE":"允许启动应用程序的权限使用屏幕。","android.permission.STATUS_BAR":"允许应用程序打开，关闭或禁用状态栏及其图标。","android.permission.SYSTEM_ALERT_WINDOW":"允许应用显示在所有其他应用的顶部。","android.permission.TRANSMIT_IR":"允许使用设备的红外发射器。","android.permission.UPDATE_DEVICE_STATS":"允许应用程序更新设备统计信息。","android.permission.USE_BIOMETRIC":"允许应用使用设备支持的生物特征识别方式。","android.permission.USE_FINGERPRINT":"允许应用使用指纹硬件。","android.permission.USE_FULL_SCREEN_INTENT":"允许应用显示全屏通知。","android.permission.USE_SIP":"允许应用程序使用SIP服务。","android.permission.VIBRATE":"允许使用振动器。","android.permission.WAKE_LOCK":"允许应用保持处理器休眠或屏幕变暗。","android.permission.WRITE_APN_SETTINGS":"允许应用程序写入apn设置并读取现有apn设置的敏感字段，例如用户和密码。","android.permission.WRITE_CALENDAR":"允许应用程序写入用户的日历数据。","android.permission.WRITE_CALL_LOG":"允许应用程序添加/修改用户的通话记录。","android.permission.WRITE_CONTACTS":"允许应用程序写入用户的联系人数据。","android.permission.WRITE_EXTERNAL_STORAGE":"允许应用程序写入外部存储。","android.permission.WRITE_GSERVICES":"允许应用程序修改Google地图服务。","android.permission.WRITE_SECURE_SETTINGS":"允许应用读取或写入安全系统设置。","android.permission.WRITE_SETTINGS":"允许应用读取或写入系统设置。","android.permission.WRITE_SYNC_SETTINGS":"允许应用程序写入同步设置。","android.permission.WRITE_VOICEMAIL":"允许应用程序修改和删除系统中现有的语音邮件。","android.permission.DOWNLOAD_WITHOUT_NOTIFICATION":"允许该应用通过下载管理器下载文件，而不会向用户显示任何通知。","android.permission.ACCESS_ALL_EXTERNAL_STORAGE":"允许该应用访问所有用户的外部存储。","android.permission.ASEC_ACCESS":"允许该应用获取有关内部存储的信息。","android.permission.ACCESS_MOCK_LOCATION":"允许模拟位置源进行测试。","android.permission.AUTHENTICATE_ACCOUNTS":"允许创建帐户并设置密码。","com.android.alarm.permission.SET_ALARM":"允许应用程序为用户设置闹钟。","com.android.voicemail.permission.READ_VOICEMAIL":"允许应用程序读取系统中的语音邮件。","com.android.launcher.permission.INSTALL_SHORTCUT":"允许应用程序在桌面中创建快捷方式。","com.android.launcher.permission.UNINSTALL_SHORTCUT":"允许删除快捷方式。","com.android.voicemail.permission.ADD_VOICEMAIL":"允许该应用向您的语音信箱中添加消息。","com.android.email.permission.READ_ATTACHMENT":"允许该应用读取您的电子邮件附件。","com.android.browser.permission.WRITE_HISTORY_BOOKMARKS":"允许该应用修改浏览器的历史记录或手机上存储的书签。","com.android.browser.permission.READ_HISTORY_BOOKMARKS":"允许该应用读取浏览器访问过的所有URL的历史记录，以及浏览器的所有书签的历史记录。","com.google.android.xmpp.permission.USE_XMPP_ENDPOINT":"允许Google应用与Google服务器之间收发XMPP消息。","com.google.android.permission.BROADCAST_DATA_MESSAGE":"允许将从网络接收的数据消息广播到已注册监听它们的应用程序。","com.google.android.gtalkservice.permission.SEND_HEARTBEAT":"允许将心跳数据包发送到Google Talk服务器，以确保连接的运行状况。","com.google.android.c2dm.permission.SEND":"允许将从网络接收的数据消息广播到已注册监听它们的应用程序。","com.google.android.xmpp.permission.XMPP_ENDPOINT_BROADCAST":"允许将从Google服务器接收的XMPP消息广播到应用程序。","com.google.android.xmpp.permission.SEND_RECEIVE":"允许Google应用与Google服务器之间收发XMPP消息。","com.google.android.xmpp.permission.BROADCAST":"可以将从Google服务器收到的XMPP消息广播到已注册监听它们的应用程序。","com.google.android.c2dm.permission.RECEIVE":"允许应用接受由应用服务发送的云到设备消息。","com.google.android.gtalkservice.permission.GTALK_SERVICE":"允许交换消息并接收来自Google服务器的同步通知。","com.google.android.providers.talk.permission.READ_ONLY":"允许应用读取Google Talk内容提供商的数据。","com.google.android.providers.talk.permission.WRITE_ONLY":"允许应用将数据写入Google Talk内容提供商。","com.google.android.gms.permission.ACTIVITY_RECOGNITION":"允许应用程序从Google接收您的活动水平的定期更新。","com.google.android.gms.permission.AD_ID_NOTIFICATION":"允许应用在用户的广告 ID 或限制广告跟踪偏好设置更新时接收通知。","com.google.android.googleapps.permission.GOOGLE_AUTH.android":"允许应用使用此Android设备上存储的帐户登录Android服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.orkut":"允许应用使用此Android设备上存储的帐户登录Orkut。","com.google.android.googleapps.permission.GOOGLE_AUTH.ah":"允许应用使用此Android设备上存储的帐户登录Google App Engine。","com.google.android.googleapps.permission.GOOGLE_AUTH.doraemon":"允许应用程序使用此手机上存储的帐户登录Google Catalogs服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.lh2":"允许应用使用此Android设备上存储的帐户登录Picasa网络相册。","com.google.android.googleapps.permission.GOOGLE_AUTH":"允许应用查看您已配置的Google帐户的用户名（电子邮件地址）。","com.google.android.googleapps.permission.GOOGLE_AUTH.wise":"允许应用使用此Android设备上存储的帐户登录Google Spreadsheets。","com.google.android.googleapps.permission.GOOGLE_AUTH.speechpersonalization":"允许应用使用此Android设备上存储的帐户登录“个性化语音识别”服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.notebook":"允许应用使用此Android设备上存储的帐户登录Google笔记本。","com.google.android.googleapps.permission.GOOGLE_AUTH.sierra":"允许应用使用此Android设备上存储的帐户登录Google Checkout（并可能进行购买）。","com.google.android.googleapps.permission.GOOGLE_AUTH.groups2":"允许应用使用此Android设备上存储的帐户登录Google网上论坛","com.google.android.googleapps.permission.GOOGLE_AUTH.goanna_mobile":"允许应用程序使用此手机上存储的帐户登录Google Tasks服务","com.google.android.googleapps.permission.GOOGLE_AUTH.knol":"允许应用使用此Android设备上存储的帐户登录Knol。","com.google.android.googleapps.permission.GOOGLE_AUTH.blogger":"允许应用使用此Android设备上存储的帐户登录Blogger。","com.google.android.googleapps.permission.GOOGLE_AUTH.sierraqa":"允许应用使用此Android设备上存储的帐户登录Google Checkout质量检查。","com.google.android.googleapps.permission.GOOGLE_AUTH.speech":"允许应用使用此Android设备上存储的帐户登录Google语音搜索。","com.google.android.googleapps.permission.GOOGLE_AUTH.health":"允许应用使用此Android设备上存储的帐户登录Google Health。","com.google.android.googleapps.permission.GOOGLE_AUTH.sierrasandbox":"允许应用使用此Android设备上存储的帐户登录Google Checkout沙盒。","com.google.android.googleapps.permission.GOOGLE_AUTH.writely":"允许应用使用此Android设备上存储的帐户登录Google文档。","com.google.android.googleapps.permission.GOOGLE_AUTH.print":"允许应用使用此Android设备上存储的帐户登录Google图书搜索。","com.google.android.googleapps.permission.GOOGLE_AUTH.news":"允许应用使用此Android设备上存储的帐户登录Google新闻。","com.google.android.googleapps.permission.GOOGLE_AUTH.androidsecure":"允许应用使用此Android设备上存储的帐户登录Android服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.ig":"允许应用使用此Android设备上存储的帐户登录iGoogle。","com.google.android.googleapps.permission.GOOGLE_AUTH.talk":"允许应用使用此Android设备上存储的帐户登录Google Talk。","com.google.android.googleapps.permission.GOOGLE_AUTH.youtube":"允许应用使用此Android设备上存储的帐户登录YouTube。","com.google.android.googleapps.permission.GOOGLE_AUTH.jotspot":"允许应用使用此Android设备上存储的帐户登录JotSpot。","com.google.android.googleapps.permission.GOOGLE_AUTH.dodgeball":"允许应用使用此Android设备上存储的帐户登录Dodgeball。","com.google.android.providers.gsf.permission.READ_GSERVICES":"允许该应用读取Google服务配置数据。","com.google.android.googleapps.permission.GOOGLE_AUTH.OTHER_SERVICES":"允许应用使用此Android设备上存储的帐户登录未指定的Google服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.reader":"允许应用程序使用此手机上存储的帐户登录Google阅读器服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.geowiki":"允许应用程序使用此手机上存储的帐户登录Google Map maker服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.grandcentral":"允许应用使用此Android设备上存储的帐户登录“ Google语音”。","com.google.android.googleapps.permission.GOOGLE_AUTH.adwords":"允许应用使用此Android设备上存储的帐户登录Google AdWords。","com.google.android.googleapps.permission.GOOGLE_AUTH.YouTubeUser":"允许应用查看与此Android设备上存储的Google帐户关联的YouTube用户名。","com.google.android.googleapps.permission.GOOGLE_AUTH.mail":"允许应用使用此Android设备上存储的帐户登录Google邮件服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.adsense":"允许应用使用此Android设备上存储的帐户登录Google AdSense。","com.google.android.googleapps.permission.GOOGLE_AUTH.sitemaps":"允许应用使用此Android设备上存储的帐户登录Google网站站长工具。","com.google.android.googleapps.permission.GOOGLE_AUTH.local":"允许应用使用此Android设备上存储的帐户登录“ Google地图”。","com.google.android.googleapps.permission.GOOGLE_AUTH.ALL_SERVICES":"允许应用使用此Android设备上存储的帐户登录所有Google服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.cp":"允许应用访问此Android设备上存储的帐户的联系人和个人资料信息。","com.google.android.googleapps.permission.GOOGLE_AUTH.wifi":"允许应用使用此Android设备上存储的帐户登录Google Wi-Fi。","com.google.android.googleapps.permission.GOOGLE_AUTH.cl":"允许应用使用此Android设备上存储的帐户登录Google日历。","com.google.android.googleapps.permission.GOOGLE_AUTH.mobile":"允许应用使用此Android设备上存储的帐户登录Google移动应用。","com.google.android.googleapps.permission.GOOGLE_AUTH.gbase":"允许应用使用此Android设备上存储的帐户登录Google Base。","com.google.android.googleapps.permission.GOOGLE_AUTH.panoramio":"允许应用程序使用此手机上存储的帐户登录Panoramio服务。","com.google.android.googleapps.permission.GOOGLE_AUTH.finance":"允许应用使用此Android设备上存储的帐户登录Google财经。"},f={PROFESSIONAL:0,SPEED:1,LITE:2,MEDICAL:3,INTEGRATION:4},m="landing_page_xj",h="guanfang_h5",v="guanfang_canvas"},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";var r,o,i,a,s,c;n.d(t,"b",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return c}),function(e){e.FULLSCREEN_CHANGE="windowFullscreenChange",e.FULLSCREEN_ERROR="fullscreenError",e.FAKE_FULLSCREEN_CHANGE="browserFullscreenChange",e.CLICK_NEXTBTN="ctrl:click-nextbtn",e.CLICK_PLAYBTN="ctrl:click-playbtn",e.CLICK_REPLAY="ctrl:click-replay",e.SET_LANGUAGE="ctrl:set-language",e.SET_LEVEL="ctrl:set-level",e.SET_AUDIO="ctrl:set-audio",e.SET_PLAYRATE="ctrl:set-playrate",e.TOGGLE_OVERLAY="ctrl:toggle-overlay",e.MOUSE_DONW="ctrl:progress-mousedown",e.MOUSE_MOVE="ctrl:progress-mousemove",e.MOUSE_UP="ctrl:progress-mouseup",e.SHOW="ctrl:show",e.HIDE="ctrl:hide",e.STOP_PREVIEW="ctrl:stop-preview",e.HOT_MOUSE_OVER="ctrl:hotpoint-mouseover",e.HOT_MOUSE_MOVE="ctrl:hotpoint-mousemove",e.HOT_MOUSE_OUT="ctrl:hotpoint-mouseout"}(r||(r={})),function(e){e.IDLE="idle",e.LOAD_START="loadStart",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSE="pause",e.SEEKING="seeking",e.SEEKED="seeked",e.BUFFERING="buffering",e.END="end"}(o||(o={})),function(e){e.IN_MUTED="autoPlayInMuted",e.USER_GESTURE="autoPlayRequireByUserGesture"}(i||(i={})),function(e){e.PLAY_SESSION_START="PLAY_SESSION_START",e.AD_REQ_INFO_START="AD_REQ_INFO_START",e.AD_REQ_INFO_END="AD_REQ_INFO_END",e.AD_REQ_ASSETS_START="AD_REQ_ASSETS_START",e.AD_AUTOPLAY_BLOCKED="AD_AUTOPLAY_BLOCKED",e.AD_PLAYING="AD_PLAYING",e.AD_VOLUME_CHANGE="AD_VOLUME_CHANGE",e.AD_ASSETS_LOADED="AD_ASSETS_LOADED",e.AD_PAUSE="AD_PAUSE",e.AD_END="AD_END",e.AD_TIME_UPDATE="AD_TIME_UPDATE",e.VIDEO_REQ_INFO_START="VIDEO_REQ_INFO_START",e.VIDEO_REQ_INFO_END="VIDEO_REQ_INFO_END",e.VIDEO_LOAD_START="VIDEO_LOAD_START",e.VIDEO_LOAD_PROGRESS="VIDEO_LOAD_PROGRESS",e.VIDEO_DURATION_CHANGE="VIDEO_DURATION_CHANGE",e.VIDEO_METADATA_CHANGE="VIDEO_METADATA_CHANGE",e.VIDEO_TIMEUPDATE="VIDEO_TIMEUPDATE",e.VIDEO_VOLUME_CHANGE="VIDEO_VOLUME_CHANGE",e.VIDEO_RATE_CHANGE="VIDEO_RATE_CHANGE",e.VIDEO_CANPLAY="VIDEO_CANPLAY",e.VIDEO_PLAYING="VIDEO_PLAYING",e.VIDEO_AUTOPLAY_BLOCKED="VIDEO_AUTOPLAY_BLOCKED",e.VIDEO_PAUSE="VIDEO_PAUSE",e.VIDEO_BUFFERING="VIDEO_BUFFERING",e.VIDEO_SEEKING="VIDEO_SEEKING",e.VIDEO_SEEKED="VIDEO_SEEKED",e.VIDEO_SETLEVEL_START="VIDEO_SETLEVEL_START",e.VIDEO_SETLEVEL_END="VIDEO_SETLEVEL_END",e.VIDEO_RESIZE="VIDEO_RESIZE",e.VIDEO_END="VIDEO_END",e.PLAY_SESSION_END="PLAY_SESSION_END"}(a||(a={})),function(e){e.NORMAL="normal",e.INTERRUPT="interrupt",e.ERROR="error"}(s||(s={})),function(e){e.VOD="vod",e.LIVE="live"}(c||(c={}))},function(e,n){e.exports=t},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.standardReport=t.marketDownloadReport=t.TdwReportTrigger=t.TdwReport=void 0;var o=r(n(1));n(198);var i,a=n(41),s=r(n(32)),c=n(65),u=n(232),l=t.TdwReport=(i=null,function(){return i||(i=new c.TdwStandardReport),i}),d=t.TdwReportTrigger=4===o.default.scene?(0,u.liteTdwReportTrigger)():l().clickReport,p=t.standardReport=function(e,t){var n=t.actionId,r=t.actionType,i=t.actCode,a=t.cost,s=t.ext_status,c={ei:n,biz:{rpt_from:o.default.mediaName||""},action_type:r,status:s};i&&(c.biz.act_code=i),a&&(c.biz.cost_time=a),d({reportName:e,reportId:n},c)};t.marketDownloadReport=function(e,t){p("market_action",{actionId:a.ACTION_ID.USE_MARKET,actionType:a.ACTION_TYPE.USE_MARKET}),t!==s.default.DOWNLOAD_STATUS.COMPLETE_DOWNLOAD&&t!==s.default.DOWNLOAD_STATUS.INSTALLING&&t!==s.default.DOWNLOAD_STATUS.INSTALLED&&1!==e||p("market_action",{actionId:a.ACTION_ID.OVER_FLOW,actionType:a.ACTION_TYPE.OVER_FLOW,actCode:a.ACT_CODE.DOWNLOAD_COMPLETE}),(t===s.default.DOWNLOAD_STATUS.DOWNLOADING||t===s.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD||e>0&&e<1)&&p("market_action",{actionId:a.ACTION_ID.OVER_FLOW,actionType:a.ACTION_TYPE.OVER_FLOW,actCode:a.ACT_CODE.DOWNLOADING})}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0});var o={Report:!0,REPORT_TYPE:!0,REPORT_TYPE_MAPS:!0,PHONE_TYPE:!0,ONLINE_TYPE:!0,SMART_PHONE_TYPE:!0,SMART_ONLINE_TYPE:!0};Object.defineProperty(t,"ONLINE_TYPE",{enumerable:!0,get:function(){return a.ONLINE_TYPE}}),Object.defineProperty(t,"PHONE_TYPE",{enumerable:!0,get:function(){return a.PHONE_TYPE}}),Object.defineProperty(t,"REPORT_TYPE",{enumerable:!0,get:function(){return a.REPORT_TYPE}}),Object.defineProperty(t,"REPORT_TYPE_MAPS",{enumerable:!0,get:function(){return a.REPORT_TYPE_MAPS}}),Object.defineProperty(t,"Report",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SMART_ONLINE_TYPE",{enumerable:!0,get:function(){return a.SMART_ONLINE_TYPE}}),Object.defineProperty(t,"SMART_PHONE_TYPE",{enumerable:!0,get:function(){return a.SMART_PHONE_TYPE}});var i=r(n(182)),a=n(41),s=n(11);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))})},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getADGroupId=void 0,t.getMptraceId=function(){var e="";try{var t=c(),n=t.uxinfo,r=n?decodeURIComponent(n).split("|"):[];e=r[1]||""}catch(e){console.error("获取mpclickid失败")}return e},t.hexToRaga=u,t.isAndroidPage=function(){var e=i.default.pageType;if(e&&(-1!==e.indexOf("default")||-1!==e.indexOf("android")))return!0;return!1},t.parseLink=function(e){var t,n=/\+/g,r=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(n," "))},i={};if(!e)return{};t=r.exec(e);for(;t;)i[o(t[1])]=o(t[2]),t=r.exec(e);try{Object.keys(i).forEach(function(e){["qz_gdt","gdt_vid"].indexOf(e)>-1&&(i[e]=a&&a.UriComponentEncode(i[e]))})}catch(e){console.error(e)}return i},t.parseUrl=c,t.rgbAddOpacity=function(e,t){try{if(/^(rgb|RGB)$/.test(e))return e.replace(")",",".concat(t,")"));if(/^(rgba|RGBA)/.test(e)){var n=e.split(",");return 4===n.length?(n.pop(),n.push("".concat(t,")")),n.join(",")):e}return u(e,t)}catch(e){console.error("颜色转换错误： ".concat(e))}};var i=r(n(1)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(75));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},o="";window.location&&window.location.search&&"function"==typeof window.location.search.substring&&(o=window.location.search.substring(1));var i={};if(""===o)return{};for(e=n.exec(o);e;)i[r(e[1])]=r(e[2]),e=n.exec(o);try{Object.keys(i).forEach(function(e){["qz_gdt","gdt_vid"].indexOf(e)>-1&&(i[e]=a&&a.UriComponentEncode(i[e]))})}catch(e){console.error(e)}return i}function u(e,t){var n=e.toLowerCase();if(n&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(n)){if(4===n.length){for(var r="#",o=1;o<4;o+=1)r+=n.slice(o,o+1).concat(n.slice(o,o+1));n=r}return"rgba(".concat(parseInt("0x"+e.slice(1,3),16),",\n                    ").concat(parseInt("0x"+e.slice(3,5),16),",\n                    ").concat(parseInt("0x"+e.slice(5,7),16),",\n                    ").concat(t,")")}return n}t.getADGroupId=function(){var e=c(),t=e.gdt_ad_id,n=e.wx_aid,r=e.uxinfo,o=void 0===r?"":r,i=t||n||"";return!i&&o&&(i=decodeURIComponent(o).split("|")[0]),i||console.error("get ad_group_id err:",o),i}},function(e,t,n){e.exports=n(199)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.CallChain=void 0,t.JumpToMobileMarketEnum=I,t.MEDIA_TO_TOKEN_NAME=t.MANUFACTURER_DOWNLOAD=void 0,t.beforeUnloadPage=function(e){window.addEventListener("visibilitychange",function(){document.visibilityState,e()}),window.mqq&&"function"==typeof window.mqq.addEventListener&&window.mqq.addEventListener("qbrowserVisibilityChange",function(t){e()});if(window.jssdk&&window.jssdk.gdt&&window.jssdk.gdt&&"function"==typeof window.jssdk.gdt.getPageVisibility)try{window.jssdk.gdt.getPageVisibility(function(){e()})}catch(e){}},t.checkMediaCancelDownloadEnable=function(){var e=!1,t=A()||{};if(t&&1===parseInt(t.cancel_download_enable,10)&&("QQ"===l.default.mediaName||"UnionSDK"===l.default.mediaName&&!(0,f.getIsGDTUnion)()))e=!0,console.warn("cancelDownloadMediaExperiment:",e);else{var n=l.default.cancelDownloadMediaWhiteList;if(n&&"string"==typeof n){var r=n.split(",");e=r.indexOf(l.default.mediaName)>-1,console.warn("checkMediaCancelDownloadEnable",r,l.default.mediaName,e)}}return e},t.createLoadingDom=function(e){var t=document.getElementById("root"),n=document.getElementById("LOADING_STORE");n?n.insertAdjacentHTML("beforeend",e):((n=document.createElement("div")).id=h,n.insertAdjacentHTML("beforeend",e),t.appendChild(n))},t.downloadAppFromMobileMarket=function(e){var t,n=I();window.isNeedYYBDownload=!0,window.isClickJumpMarket=!0,n===w.OPPO?(window.isNeedYYBDownload=!1,P("xj_device_oppo_num"),t="".concat(T[n],"://details?id=").concat(l.default.oppoexpadverid[l.default.accountId],"&caller=").concat(_[l.default.mediaName].appName,"&token=").concat(_[l.default.mediaName].token,"&atd=true&style=1")):n===w.XSOPPO?(window.isNeedYYBDownload=!1,P("xs_device_half_screen_oppo_num"),t="market://details?id=".concat(l.default.xsOppoABTestAdverId[l.default.accountId],"&caller=").concat(b[l.default.mediaName].appName,"&token=").concat(b[l.default.mediaName].token,"&atd=true&style=1")):n===w.QB_EXP_JUMP_OPPO?(window.isNeedYYBDownload=!1,P("xj_device_qb_oppo_num"),t="market://details?id=".concat(l.default.qboppoexpid[l.default.accountId],"&caller=").concat(_[l.default.mediaName].appName,"&token=").concat(_[l.default.mediaName].token,"&atd=true&style=1")):n===w.VIVO?(P("xj_device_full_screen_vivo_num"),t="".concat(T[n],"://details?id=").concat(l.default.ovmihuaexpader[l.default.accountId]||l.default.xsExpAderId[l.default.accountId])):n===w.DIRECT_EXP_OPPO_MARKET?(P("xj_device_full_screen_oppo_num"),t="market://details?id=".concat(l.default.ovmihuaexpader[l.default.accountId]||l.default.xsExpAderId[l.default.accountId],"&atd=false")):n===w.HUAWEI?(P("xj_device_full_screen_huawei_num"),t="".concat(T[n],"://details?id=").concat(l.default.ovmihuaexpader[l.default.accountId]||l.default.xsExpAderId[l.default.accountId])):n===w.MI&&(P("xj_device_full_screen_mi_num"),t="".concat(T[n],"://details?startDownload=true&id=").concat(l.default.ovmihuaexpader[l.default.accountId]||l.default.xsExpAderId[l.default.accountId]));window.isNeedYYBDownload&&e&&e();"QQ"===l.default.mediaName&&window.mqq&&window.mqq.compare("8.0.5")>=0?(0,u.QQJumpSpecialLink)(t):location.href=t},t.extractHapLink=function(e){if(!e)return{};try{var t=e.indexOf("/app/")+5,n=e.slice(t).indexOf("/"),r=e.indexOf("?"),o=e.slice(t,n+t),i=e.slice(t+n,r),a=e.slice(r+1),s=/([^&=]+)=?([^&]*)/g,c={},u="";for(u=s.exec(a);u;)c[u[1]]=u[2],u=s.exec(a);return{packageName:o,path:i,params:c}}catch(e){return{}}},t.getExpParams=A,t.getLoadingDom=function(e){var t=document.getElementById(h);return t&&t.getElementsByClassName(e).length?t.getElementsByClassName(e)[0]:null},t.getManufacturerDownloadEnable=function(){if(!(0,c.parseUrl)().click_ext)return!1;var e=!1;try{var t=(0,u.parseClickExt)();t[v]&&t[v].hasOwnProperty("enable")&&(e=1===parseInt(t[v].enable,10))}catch(e){console.error(e)}return e},t.handleRewardScanRPT=function(e,t){var n="";if(1===((0,u.parseClickExt)()||{}).scences_type){if(e.type===p.default.DownloadArea?t===d.default.DOWNLOAD_STATUS.DEFAULT?n=window.viewerUtils.RPTTYPE.AREA_CLICK_START:t===d.default.DOWNLOAD_STATUS.DOWNLOADING&&(n=window.viewerUtils.RPTTYPE.AREA_CLICK_PAUSE):t===d.default.DOWNLOAD_STATUS.DEFAULT?n=window.viewerUtils.RPTTYPE.BUTTON_CLICK_START:t===d.default.DOWNLOAD_STATUS.DOWNLOADING&&(n=window.viewerUtils.RPTTYPE.BUTTON_CLICK_PAUSE),window.tianqinReport){var r=0;t===d.default.DOWNLOAD_STATUS.DEFAULT?r=d.default.DOWNLOAD_STATUS.DOWNLOADING:t===d.default.DOWNLOAD_STATUS.DOWNLOADING?r=d.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD:t===d.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD?r=d.default.DOWNLOAD_STATUS.DOWNLOADING:t===d.default.DOWNLOAD_STATUS.COMPLETE_DOWNLOAD?r=d.default.DOWNLOAD_STATUS.INSTALLING:t===d.default.DOWNLOAD_STATUS.INSTALLED&&(r=d.default.DOWNLOAD_STATUS.INSTALLED),window.tianqinReport({type:"GXT",data:{attr:"xj_reward_scan_button_status",val:1,count:1,status:r,type:e.type===p.default.DownloadArea?0:1}})}n&&window.viewerUtils.sendRPT(n)}},t.hideFullscreen=function(){var e=document.createElement("style");e.innerHTML=".txp_btn_fullscreen{display:none !important;}",document.body&&document.body.appendChild(e)},t.isABTestAdersJumpMobile=function(){l.default.isABTestAderJumpOppo=Math.random()>.5},t.isAndroidVersionMore4=function(){var e=navigator.userAgent.match(/Android\s(\d+\.){0,2}\d+;/);if(e&&e.length>0){var t=e[0].replace("Android","").trim().replace(";","");return-1!=t.lastIndexOf(".")&&(t=t.slice(0,t.lastIndexOf("."))),parseFloat(t)>4.4?(y(">4.4"),!0):(y("<4.4"),!1)}return y("unknown"),y(navigator.userAgent),!0},t.isDpFirstClient=function(){var e=navigator.userAgent.toLowerCase(),t=/huawei|honor|hmscore/.test(e),n=/pacm00|oppo|pact00/.test(e)||/android(.*)([0-9]*);.*p[a-z]{2,4}[0-9]{1,3}/i.test(e);return t||n},t.isHuaWei=g,t.isLoadingDomExit=function(e){var t=document.getElementById(h);return!!t&&t.getElementsByClassName(e).length},t.reportDownloadFromMobileMarketInfo=C,t.reportDownloadViewContent=function(){var e=I(!1);e===w.OPPO?window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.OPPO_GO_MARKET_VIEW_CONTENT):e===w.NO_EXP_YYB_DOWNLOAD?window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.OPPO_GO_YYB_VIEW_CONTENT):e===w.QB_EXP_JUMP_OPPO&&window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.OPPO_GO_MARKET_VIEW_CONTENT)},t.reportMobileMarketGXT=P,t.shouldJumpMobileMarket=function(e){var t=I(e);if(t===w.OPPO||t===w.XSOPPO||t===w.VIVO||t===w.QB_EXP_JUMP_OPPO||t===w.HUAWEI||t===w.MI||t===w.DIRECT_EXP_OPPO_MARKET)return window.tianqinReport({type:"GXT",data:{attr:"xj_outdate_feature",type:"旧厂商下载",value:t,url:window.location.href,val:1}}),!0;return!1};var o=r(n(14)),i=r(n(21)),a=r(n(4)),s=r(n(5)),c=(n(12),n(13)),u=n(2),l=r(n(1)),d=r(n(32)),p=r(n(20)),f=n(22),m=n(89),h="xj-loading",v=t.MANUFACTURER_DOWNLOAD="manufacturer_download";function g(){return/huawei|honor/.test(navigator.userAgent.toLowerCase())}function y(e){window.tianqinReport&&!window.androidVersionMore4&&(window.androidVersionMore4=!0,window.tianqinReport({type:"GXT",data:{attr:"xj_quick_app_android_version",val:1,count:1,version:e}}))}function A(){var e=(0,c.parseUrl)().click_ext;if(!e)return null;var t={};try{var n=window.atob(decodeURIComponent(e))||"{}",r=(JSON.parse(n)||{}).exp_param;(r&&r.split(",")||[]).forEach(function(e){var n=e.split(":");n[0]&&n[1]&&(t["".concat(n[0])]=n[1])})}catch(e){}return t}var _=t.MEDIA_TO_TOKEN_NAME={QQ:{appName:"com.tencent.mobileqq",token:m.PAGE_VIEWER.QQ_TOKEN},READ:{appName:"com.tencent.reading",token:m.PAGE_VIEWER.READ_TOKEN},QB:{appName:"com.tencent.mtt",token:m.PAGE_VIEWER.QB_TOKEN}},b={QLIVE:{appName:"com.tencent.qqlive",token:m.PAGE_VIEWER.QLIVE_TOKEN},QNEWS:{appName:"com.tencent.news",token:m.PAGE_VIEWER.QNEWS_TOKEN}};var w={OPPO:"oppo",XSOPPO:"xsoppo",VIVO:"vivo",HUAWEI:"huawei",MI:"mi",NO_EXP_YYB_DOWNLOAD:-1,DIRECT_YYB_DOWNLOAD:0,VIVO_NO_EXP_YYB_DOWNLOAD:1,QB_EXP_JUMP_OPPO:"qboppo",DIRECT_EXP_OPPO_MARKET:"oppomarket"},T={oppo:"market",vivo:"vivoMarket",mi:"mimarket",huawei:"market"};var E="OPPO,PBAM00,PBEM00,PBCT10,PBBM00,PBFM00,PADM00,PBAT00,PACM00,PACT00,PCAM00,PBBT00,PBBM30,PBCM10,PAFM00,PADT00,PCEM00,PCAM10,pbat00,PCCM00,PBET00,PBCM30,PAAT00,R7Plus,PCGM00,PBFT00,CPH1725,PBDM00,PCDM10,PAAM00,CPH1707",S="vivo,v1818a,v1901a,v1818ct,v1818ca,v1818t,v1732t,v1809t,v1813t,V1813A,v1831a,v1816a,V1818A,v1809a,v1813a,v1838a,v1731ca,v1732a,v1832a,v1831t,v1901t,v1911a,v1814a,v1913a,v1813bt,v1829a,v1813ba,v1730ea,v1914a,v1824a,v1816t";function O(){for(var e=navigator.userAgent.toLowerCase(),t=E.split(","),n=S.split(","),r=-1,o=0;o<t.length;o++)if(-1!==e.indexOf(t[o].toLowerCase())){r=w.OPPO;break}for(var i=0;i<n.length;i++)if(-1!==e.indexOf(n[i].toLowerCase())){r=w.VIVO;break}return g()&&(r=w.HUAWEI),/mi|redmi|xiaomi/.test(navigator.userAgent.toLowerCase())&&(r=w.MI),r}function I(e){var t=function(){var e=Object.keys(l.default.oppoexpadverid).map(function(e){return parseInt(e,10)}),t=Object.keys(l.default.qboppoexpid).map(function(e){return parseInt(e,10)}),n=Object.keys(l.default.abtestadid).map(function(e){return parseInt(e,10)}),r=Object.keys(l.default.xsOppoABTestAdverId).map(function(e){return parseInt(e,10)}),o=Object.keys(l.default.ovmihuaexpader).map(function(e){return parseInt(e,10)}),i=Object.keys(l.default.xsExpAderId).map(function(e){return parseInt(e,10)}),a=A()||{};return{oppoAdvertiserIds:e,expParams:a,qbOppoExpIds:t,abtestadids:n,ovmihuaExpAders:o,xsExpAderIds:i,xsOppoABTestAdverId:r}}(),n=t.oppoAdvertiserIds,r=t.qbOppoExpIds,o=t.abtestadids,i=t.xsOppoABTestAdverId,a=t.expParams,s=t.ovmihuaExpAders,c=t.xsExpAderIds,u="",d=O();return u=-1!==o.indexOf(l.default.accountId)&&d===w.OPPO&&_[l.default.mediaName]?l.default.isABTestAderJumpOppo?w.OPPO:w.NO_EXP_YYB_DOWNLOAD:d===w.OPPO&&1==a.qbOppoDownload&&-1!==r.indexOf(l.default.accountId)?w.QB_EXP_JUMP_OPPO:d===w.OPPO&&1==a.marketExp&&b[l.default.mediaName]&&-1!==i.indexOf(l.default.accountId)?w.XSOPPO:-1!==s.indexOf(l.default.accountId)&&_[l.default.mediaName]&&-1!==d&&1==a.marketExp?d===w.OPPO?w.DIRECT_EXP_OPPO_MARKET:d:1==a.marketExp&&-1!==c.indexOf(l.default.accountId)&&-1!==d&&b[l.default.mediaName]?d===w.OPPO?w.DIRECT_EXP_OPPO_MARKET:d:-1!==n.indexOf(l.default.accountId)&&d===w.OPPO&&_[l.default.mediaName]?d:w.DIRECT_YYB_DOWNLOAD,e&&C(u),u}function C(e){e===w.NO_EXP_YYB_DOWNLOAD?window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.JUMP_YYB_MARKET):e===w.OPPO?window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.JUMP_MOBILE_MARKET):e===w.QB_EXP_JUMP_OPPO&&window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.JUMP_MOBILE_MARKET)}function P(e){window.tianqinReport&&window.tianqinReport({type:"GXT",data:{attr:e,val:1,count:1}})}t.CallChain=function(){function e(t){(0,a.default)(this,e),this.fn=t,this.sucessor=null}return(0,s.default)(e,[{key:"setNextSuccessor",value:function(e){return this.sucessor=e}},{key:"passRequest",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t,n=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fn.apply(this,n);case 2:if("nextSuccessor"!==(t=e.sent)){e.next=12;break}return this.sucessor,e.next=8,this.sucessor;case 8:if(e.t0=e.sent,!e.t0){e.next=11;break}e.t0=this.sucessor.passRequest.apply(this.sucessor,n);case 11:return e.abrupt("return",e.t0);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";var r=n(39),o=n(98),i=n(80),a=n(99),s=n(100);(e.exports=function(e,t){var n,o,c,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],r(e)?(n=s.call(e,"c"),o=s.call(e,"e"),c=s.call(e,"w")):(n=c=!0,o=!1),l={value:t,configurable:n,enumerable:o,writable:c},u?i(a(u),l):l}).gs=function(e,t,n){var c,u,l,d;return"string"!=typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],r(t)?o(t)?r(n)?o(n)||(l=n,n=void 0):n=void 0:(l=t,t=n=void 0):t=void 0,r(e)?(c=s.call(e,"c"),u=s.call(e,"e")):(c=!0,u=!1),d={get:t,set:n,configurable:c,enumerable:u},l?i(a(l),d):d}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DownloadButton:"downloadButton",DownloadButton2:"downloadButton2",DownloadButtonInteractProgress:"interactProgress",DownloadArea:"areaDownloadButton",ProgressDownloadButton:"progressDownloadButton",MultDownload:"multDownload"}},function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)})}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.JSSDK_URL=void 0,t.getIsGDTUnion=d,t.getUnionVersion=p;var o=r(n(42)),i=r(n(37)),a=r(n(28)),s=r(n(10)),c=r(n(19)),u=r(n(1)),l=t.JSSDK_URL={UNION_SDK:"//qzs.gdtimg.com/union/res/union_sdk/page/unjs/un.js",UNION_INTERACTIVE_SDK:"//qzs.gdtimg.com/union/res/union_sdk/page/unjs/unsdk.js",XQ_IOS_UNION_SDK:"//".concat(u.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js")};function d(){var e=i.default.parseUrl(),t=e.siteset,n=e.xj_scene;if("15"===t)return!0;var r=parseInt(n,10);return 4===r||7===r}function p(){var e=navigator.userAgent.match(/(GDTMobSDK)\/([\d.]+)/);return e&&e.length>2&&e[2]?e[2]:"0.0.0"}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.major,r=void 0===n||n,i=t.minor,a=void 0===i||i,s=t.patch,c=void 0===s||s,u=e.split("."),l=(0,o.default)(u,3),d=l[0],p=l[1],f=l[2];return[r?d:"0",a?p:"0",c?f:"0"].join(".")}t.default={getSceneType:function(){return c.default.env.sceneType},getIsGDTUnionMinVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.0.0",t=arguments.length>1?arguments[1]:void 0,n=f(p(),t),r=f(e,t);return d()&&(0,a.default)(n,r)>=0},getIsXQUnionMinVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.0.0";return!d()&&(0,a.default)(p(),e)>=0},_getSDKVersionPromise:function(){return this._getSDKVersionPromiseCache||(this._getSDKVersionPromiseCache=new Promise(function(e){(0,s.default)(l.XQ_IOS_UNION_SDK,function(){window.IOSUnionBridge.invoke("getSDKVersion",{},function(t){var n=t.data,r=t.code;e(0===r?n.version:"0.0.0")})})})),this._getSDKVersionPromiseCache},getIsXQIOSUnionMinVersionAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.0.0",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this._getSDKVersionPromise().then(function(r){(0,a.default)(r,e)>=0?t():n()})},_GDTUnionCallbackQueue:{onPageShown:[],onPageHidden:[]},_hasDefineGDTUnionSDK:!1,registerGDTUnionCallback:function(e,t){var n=this;this._GDTUnionCallbackQueue[e].push(t),this._hasDefineGDTUnionSDK||(this._hasDefineGDTUnionSDK=!0,(0,s.default)(l.UNION_SDK,function(){var e=window.unjs,t=null;Object.defineProperty(window,"unjs",{set:function(e){(t=e).onPageShown=function(){return n.callGDTUnionCallback("onPageShown")},t.onPageHidden=function(){return n.callGDTUnionCallback("onPageHidden")}},get:function(){return t}}),window.unjs=e;var r=setTimeout(function(){window.tianqinReport({type:"GXT",data:{attr:"xj_outdate_feature",type:"unjs.isViewable",key:"fallbackTimer",val:1}})},400),o=Date.now();window.unjs.project.videoService.isViewable(function(e){var t,i=JSON.parse(e);"unsdk加载完毕完后立即获取webview耗时: ".concat(Date.now()-o,", 可见状态: ");try{t=i.data.viewable}catch(e){t=i.viewable}clearTimeout(r),t&&n.callGDTUnionCallback("onPageShown")})}))},callGDTUnionCallback:function(e){"try callGDTUnionCallback in queue: ".concat(e),this._GDTUnionCallbackQueue[e],this._GDTUnionCallbackQueue[e].forEach(function(e){return e()})}}},function(e,t,n){"use strict";var r=n(38);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){var r=n(153),o=n(154),i=n(155);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";var r,o,i=n(2),a=n(1),s=n(3),c=n(5),u=n(4);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"e",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return y});var d=s.default,p=a.default,f=c.default,m=u,h={60005012352827:"QQ",10309012621387:"QQ",70702022115052:"QBSDK",60402262989318:"QQSESDK",10102373586482:"QNEWS",30109471724070:"QNEWS",10402353684611:"IOSQLIVE",20604480389123:"IOSQLIVE",40803343280609:"QLIVE",90802410847906:"QLIVE",10605338183892:"QLIVE",90303592852325:"QLIVE",30701354116910:"READSDK",20201368893836:"READSDK",80303373095787:"FMSDK",40504315369553:"KGSDK",70100221174573:"WMSDK",50607366007689:"MQQNEWS",10505395211243:"WXNEWS",90100326256701:"QQGAME",20205430044969:"WEISHI",10109338046765:"HONGXIUSDK",20403358124787:"QSPORTS",20808348829786:"QSPORTS",70506421868294:"QQ",30506472073904:"KUGOUSDK",80904328951508:"KUWOSDK",70800426750600:"QQ",40706426556602:"QQ",60807476850604:"QBSDK",50604428212896:"QBSDK",80802568745928:"QBSDK",20105445936502:"WESEEWXNEWS"},v=(l(r={},p.HONGXIU,{include:[/android/i,/hxreader/i]}),l(r,p.QQ,{include:[/android/i,/QQ\//i]}),l(r,p.QSPORTS,{include:[/android/i,/qqsports/i]}),l(r,p.IOSQSPORTS,{include:[/iPad|iPhone|iPod/,/qqsports/i]}),l(r,p.TANGRAM,{include:[/android/i,/TangramSDK/i]}),l(r,p.QB,{include:[/android/i,/MQQBrowser/i],fn:function(e){return!/MicroMessenger\/(\d+\.\d+)/i.test(e)&&!/wifimanager\/(\d+)/i.test(e)&&!/TBS\/(\d+)/i.test(e)}}),l(r,p.QNEWS,{include:[/android/i,/qqnews/i]}),l(r,p.QQSE,{include:[/android/i,/WeSecure/i]}),l(r,p.READING,{include:[/android/i,/qnreading/i]}),l(r,p.QLIVE,{include:[/android/i,/QQLiveBrowser/i]}),l(r,p.IOSQLIVE,{include:[/iPad|iPhone|iPod/,/QQLiveBrowser/i]}),l(r,p.IOSQQ,{include:[/iPad|iPhone|iPod/,/QQ\//i]}),l(r,p.FM,{include:[/android/i,/FM_/i]}),l(r,p.UNION_SDK,{include:[/android/i,/GDTMobSDK/i]}),l(r,p.UNION_TBS,{include:[/android/i,/TBS\/(\d+)/i],fn:function(e){return function(e){var t,n=/TBS\/(\d+)/i.exec(e);return n&&(t=n[1]),!!t&&Number(t)>Number("044001")}(e)}}),l(r,p.KG,{include:[/android/i,/qmkege/i]}),l(r,p.WM,{include:[/android/i,/wifimanager/i]}),l(r,p.WEISHI,{include:[/android/i,/weishi/i]}),l(r,p.QQGAME,{include:[/android/i,/qgame/i]}),l(r,p.KUGOU,{include:[/android/i,/kugoubrowser/i]}),l(r,p.KUWO,{include:[/android/i,/kuwopage/i]}),l(r,p.QZONE,{include:[/android/i,/Qzone\//i]}),l(r,p.IOS_UNION_SDK,{include:[/iPad|iPhone|iPod/,/GDTTangramMobSDK/i]}),l(r,p.IOS_GDT_UNION_SDK,{include:[/iPad|iPhone|iPod/,/GDTMobSDK/i],fn:function(e,t){return t===c.default.UNION}}),l(r,p.WECHATAD,{include:[/android/i,/MicroMessenger/i]}),l(r,p.IOS_UNSURE_MEDIA,{include:[/iPad|iPhone|iPod/]}),r),g=function(e,t,n){var r=!0,o=!1,i=!0;return t.include&&(r=t.include.every(function(t){return t.test(e)})),t.exclude&&(o=t.exclude.every(function(t){return t.test(e)})),"function"==typeof t.fn&&(i=t.fn(e,n)),r&&!o&&i},y=(l(o={},p.QQ,function(e){var t=e.mediaId;return e.userAgent.indexOf("QQ/")>=0&&(t===d.MQQ||t===d.FEED||t===d.QB||t===d.KANDIAN||t===d.SHOPPING||t===d.MINIGAME)}),l(o,p.IOSQSPORTS,function(e){return e.mediaId===d.IOSQSPORTS}),l(o,p.QSPORTS,function(e){return e.mediaId===d.QSPORTS}),l(o,p.QB,function(e){var t=e.mediaId,n=e.userAgent,r=e.siteSet;return t===d.QB||t===d.SEARCH||Object(i.d)(r,n,t)}),l(o,p.QNEWS,function(e){var t=e.mediaId;return t===d.QNEWS||t===d.QNEWSLITE}),l(o,p.QQSE,function(e){return e.mediaId===d.QQSE}),l(o,p.READING,function(e){var t=e.mediaId;return t===d.READING||t===d.KUAIBAO}),l(o,p.IOSQLIVE,function(e){var t=e.mediaId;return t===d.IOSQLIVE||t===d.IOSQLIVEPAD}),l(o,p.QLIVE,function(e){var t=e.mediaId,n=e.userAgent;return(t===d.QLIVE||t===d.QLIVELITE||t===d.QLIVECONTENTMEDIA||t===d.QLIVEPIAN)&&!g(n,v[p.QSPORTS])}),l(o,p.IOSQQ,function(e){var t=e.mediaId,n=e.userAgent;return Object(i.c)(n)&&n.indexOf("QQ/")>=0&&(t===d.MQQ||t===d.FEED)}),l(o,p.FM,function(e){return e.mediaId===d.FM}),l(o,p.UNION_SDK,function(e){var t=e.userAgent,n=e.siteSet,r=e.clickExt;return t.toLowerCase().indexOf("gdtmobsdk/")>-1&&(n===f.UNION||1===r.sdk_download)}),l(o,p.UNION_TBS,function(e){var t=e.mediaId,n=e.userAgent,r=e.siteSet,o=Object(i.b)(n);return t===d.UNION_TBS&&!Object(i.d)(r,n,t)||r===f.UNION&&(o===i.a.QQ||o===i.a.WECHAT)}),l(o,p.KG,function(e){return e.mediaId===d.KG}),l(o,p.WM,function(e){return e.mediaId===d.WM}),l(o,p.MQQNEWS,function(e){return e.mediaId===d.MQQNEWS}),l(o,p.WXNEWS,function(e){return e.mediaId===d.WXNEWS}),l(o,p.QQGAME,function(e){return e.mediaId===d.QQGAME}),l(o,p.WEISHI,function(e){return e.mediaId===d.WEISHI}),l(o,p.WESEEWXNEWS,function(e){return e.mediaId===d.WESEEWXNEWS}),l(o,p.HONGXIU,function(e){return e.mediaId===d.HONGXIU}),l(o,p.QZONE,function(e){var t=e.mediaId;return e.userAgent.indexOf("Qzone/")>=0&&t===d.FEED}),o)},function(e,t,n){"use strict";n.r(t),t.default={QQ:"QQ",QB:"QB",QBSDK:"QBSDK",QNEWS:"QNEWS",QQSE:"QQSE",QQSESDK:"QQSESDK",READING:"READ",QLIVE:"QLIVE",IOSQQ:"IOSQQ",FM:"FM",FMSDK:"FMSDK",UNION_SDK:"UnionSDK",UNION_TBS:"UnionTBS",KG:"KG",WM:"WM",WMSDK:"WMSDK",MQQNEWS:"MQQNEWS",WXNEWS:"WXNEWS",QQGAME:"QQGAME",WEISHI:"WEISHI",HONGXIU:"HONGXIU",HONGXIUSDK:"HONGXIUSDK",QZONE:"QZONE",QSPORTS:"QSPORTS",UNKNOWN:"UNKNOWN",TANGRAM:"TANGRAM",CDNANDROID:"CDNANDROID",CDNIOS:"CDNIOS",KGSDK:"KGSDK",IOS_UNION_SDK:"IOSUNIONSDK",IOS_GDT_UNION_SDK:"IOSGDTUNIONSDK",READSDK:"READSDK",KUGOU:"KUGOU",KUGOUSDK:"KUGOUSDK",KUWO:"KUWO",KUWOSDK:"KUWOSDK",WECHATAD:"WECHATAD",IOS_UNSURE_MEDIA:"IOSUnsureMedia",WESEEWXNEWS:"WESEEWXNEWS",IOSQLIVE:"IOSQLIVE",IOSQSPORTS:"IOSQSPORTS"}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c});var r=n(0),o=n(3),i={QQ:"qq",WECHAT:"wechat",QB:"qb",TBS:"tbs"};function a(e){var t=e.toLowerCase();return t.search("qq/")>-1?i.QQ:t.search("micromessenger")>-1?i.WECHAT:t.search("mqqbrowser")>-1&&-1===t.search("wifimanager")&&-1===t.search("tbs")?i.QB:t.search("tbs")>-1?i.TBS:void 0}var s=function(e){return/iPad|iPhone|iPod/.test(e)},c=function(e,t,n){return a(t)===i.QB&&(n===o.default.UNION_TBS||e===r.f.UNION)}},function(e,t,n){"use strict";n.r(t),t.default={MQQ:"60005012352827",FEED:"10309012621387",QB:"70702022115052",QQSE:"60402262989318",QNEWS:"10102373586482",QNEWSLITE:"30109471724070",IOSQLIVE:"10402353684611",IOSQLIVEPAD:"20604480389123",QLIVE:"40803343280609",QLIVECONTENTMEDIA:"90802410847906",QLIVELITE:"10605338183892",QLIVEPIAN:"90303592852325",READING:"30701354116910",KUAIBAO:"20201368893836",FM:"80303373095787",KG:"40504315369553",WM:"70100221174573",MQQNEWS:"50607366007689",WXNEWS:"10505395211243",WAP:"10802369007901",QQGAME:"90100326256701",WEISHI:"20205430044969",HONGXIU:"10109338046765",IOSQSPORTS:"20403358124787",QSPORTS:"20808348829786",UNION_TBS:"90903124471793",KANDIAN:"70506421868294",KUGOU:"30506472073904",KUWO:"80904328951508",SHOPPING:"70800426750600",MINIGAME:"40706426556602",SEARCH:"60807476850604",NOVEL:"50604428212896",QBKANDIAN:"80802568745928",WESEEWXNEWS:"20105445936502"}},function(e,t,n){"use strict";n.r(t),n.d(t,"JSAPI_URLS",function(){return s}),n.d(t,"JSAPI_OBJ_NAMES",function(){return c});var r,o,i=n(1);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(a(r={},i.default.QQ,"//open.mobile.qq.com/sdk/qqapi.js?_bid=152"),a(r,i.default.IOSQQ,"//open.mobile.qq.com/sdk/qqapi.js?_bid=152"),a(r,i.default.QB,"//jsapi.qq.com/get?api=app.getApkInfo,app.getAppVersion,app.installApp,app.runApk,app.isInstallApk,app.getAppVersion,download.*,event.*,connection.*"),a(r,i.default.QNEWS,"//mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1"),a(r,i.default.READING,"//mat1.gtimg.com/www/reading/android/js/jsapi/jsapi.js"),a(r,i.default.FM,"//open.mobile.qq.com/sdk/qqapi.js?_bid=152"),a(r,i.default.UNION_SDK,"//qzs.gdtimg.com/union/res/union_sdk/page/unjs/un.js"),a(r,i.default.UNION_TBS,"//res.imtt.qq.com/tbs/tbs.js"),a(r,i.default.KG,"//imgcache.gtimg.cn/music/kg/lib/kgbridge.js?_bid=2241&max_age=31104000000"),a(r,i.default.QSPORTS,"//mat1.gtimg.com/sports/tua-app-sdk/master/tua-sports-bridge.js"),a(r,i.default.IOSQSPORTS,"//mat1.gtimg.com/sports/tua-app-sdk/master/tua-sports-bridge.js"),a(r,i.default.HONGXIU,"//qidian.gtimg.com/qd_jssdk/2.8.2/hxgdt.min.js"),a(r,i.default.TANGRAM,"//i.gtimg.cn/qzone/biz/gdt/lib/spa-downloader/jsapi/tangram-jsapi.js"),a(r,i.default.KUGOU,"//i.gtimg.cn/qzone/biz/gdt/lib/spa-downloader/jsapi/kugou-jsapi.js"),a(r,i.default.KUWO,"//i.gtimg.cn/qzone/biz/gdt/lib/spa-downloader/jsapi/kuwo-jsapi.js"),r),c=(a(o={},i.default.QQ,"mqq"),a(o,i.default.QB,"browser"),a(o,i.default.QNEWS,"TencentNews"),a(o,i.default.QQSE,"TcsJSBridge"),a(o,i.default.READING,"TencentReading"),a(o,i.default.QLIVE,"TenvideoJSBridge"),a(o,i.default.IOSQLIVE,"TenvideoJSBridge"),a(o,i.default.IOSQQ,"mqq"),a(o,i.default.FM,"mqq"),a(o,i.default.UNION_SDK,"unjs"),a(o,i.default.UNION_TBS,"tbs"),a(o,i.default.KG,"kgbridge"),a(o,i.default.WM,"TcsJSBridge"),a(o,i.default.UNKNOWN,"UNKNOWN"),a(o,i.default.QSPORTS,"TencentSports"),a(o,i.default.IOSQSPORTS,"TencentSports"),a(o,i.default.HONGXIU,"jssdk"),a(o,i.default.TANGRAM,"TangramSdkJsbridge"),a(o,i.default.KUGOU,"kugouAmsJs"),o)},function(e,t,n){"use strict";n.r(t),t.default={UNION:"15"}},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e=function(){},t={},n={},r={};function o(e,t){if(e){var o=r[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function i(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function a(t,n,r,o){var i,s,c=document,u=r.async,l=(r.numRetries||0)+1,d=r.before||e,p=t.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(t)?(i=!0,(s=c.createElement("link")).rel="stylesheet",s.href=p):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(s=c.createElement("img")).src=p:((s=c.createElement("script")).src=t,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(e){var c=e.type[0];if(i&&"hideFocus"in s)try{s.sheet.cssText.length||(c="e")}catch(e){18!=e.code&&(c="e")}if("e"==c&&(o+=1)<l)return a(t,n,r,o);n(t,c,e.defaultPrevented)},!1!==d(t,s)&&c.head.appendChild(s)}function s(e,n,r){var s,c;if(n&&n.trim&&(s=n),c=(s?r:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}!function(e,t,n){var r,o,i=(e=e.push?e:[e]).length,s=i,c=[];for(r=function(e,n,r){if("e"==n&&c.push(e),"b"==n){if(!r)return;c.push(e)}--i||t(c)},o=0;o<s;o++)a(e[o],r,n)}(e,function(e){i(c,e),o(s,e)},c)}return s.ready=function(e,t){return function(e,t){var o,i,a,s=[],c=(e=e.push?e:[e]).length,u=c;for(o=function(e,n){n.length&&s.push(e),--u||t(s)};c--;)i=e[c],(a=n[i])?o(i,a):(r[i]=r[i]||[]).push(o)}(e,function(e){i(t,e)}),s},s.done=function(e){o(e,[])},s.reset=function(){t={},n={},r={}},s.isDefined=function(e){return e in t},s})?r.apply(t,[]):r)||(e.exports=o)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(2);t.default=function(e){var t=e.mediaId,n=void 0===t?"":t,i=e.userAgent,a=e.siteSet,s=void 0===a?"":a,c=e.clickExt,u=void 0===c?{}:c;if(void 0===i)throw new Error("userAgent is required");var l=function(e){var t=(e||{}).userAgent;if(Object(o.c)(t)){if(r.g[r.d.IOSQQ](e))return r.d.IOSQQ;if(r.g[r.d.IOSQLIVE](e))return r.d.IOSQLIVE;if(r.g[r.d.IOSQSPORTS](e))return r.d.IOSQSPORTS}else{if(r.g[r.d.UNION_SDK](e))return r.d.UNION_SDK;if(r.g[r.d.QSPORTS](e))return r.d.QSPORTS;if(r.g[r.d.QQ](e))return r.d.QQ;if(r.g[r.d.QNEWS](e))return r.d.QNEWS;if(r.g[r.d.QLIVE](e))return r.d.QLIVE;if(r.g[r.d.UNION_TBS](e))return r.d.UNION_TBS;if(r.g[r.d.MQQNEWS](e))return r.d.MQQNEWS;if(r.g[r.d.WXNEWS](e))return r.d.WXNEWS;if(r.g[r.d.QQGAME](e))return r.d.QQGAME;if(r.g[r.d.WEISHI](e))return r.d.WEISHI;if(r.g[r.d.WESEEWXNEWS](e))return r.d.WESEEWXNEWS;if(r.g[r.d.QZONE](e))return r.d.QZONE}}({mediaId:n,userAgent:i,siteSet:s,clickExt:u});return void 0===l&&(l=function(e,t){return Object(r.h)(e,r.e[r.d.QZONE])?r.d.QZONE:Object(r.h)(e,r.e[r.d.HONGXIU])?r.d.HONGXIU:Object(r.h)(e,r.e[r.d.IOSQQ])?r.d.IOSQQ:Object(r.h)(e,r.e[r.d.QLIVE])?r.d.QLIVE:Object(r.h)(e,r.e[r.d.QNEWS])?r.d.QNEWS:Object(r.h)(e,r.e[r.d.READING])?r.d.READING:Object(r.h)(e,r.e[r.d.QQSE])?r.d.QQSE:Object(r.h)(e,r.e[r.d.KG])?r.d.KG:Object(r.h)(e,r.e[r.d.KUGOU])?r.d.KUGOU:Object(r.h)(e,r.e[r.d.KUWO])?r.d.KUWO:Object(r.h)(e,r.e[r.d.WM])?r.d.WM:Object(r.h)(e,r.e[r.d.WEISHI])?r.d.WEISHI:Object(r.h)(e,r.e[r.d.QQGAME])?r.d.QQGAME:Object(r.h)(e,r.e[r.d.UNION_SDK])?r.d.UNION_SDK:Object(r.h)(e,r.e[r.d.FM])?r.d.FM:Object(r.h)(e,r.e[r.d.QQ])?r.d.QQ:Object(r.h)(e,r.e[r.d.QSPORTS])?r.d.QSPORTS:Object(r.h)(e,r.e[r.d.TANGRAM])?r.d.TANGRAM:Object(r.h)(e,r.e[r.d.QB],r.d.QB)?r.d.QB:Object(r.h)(e,r.e[r.d.WECHATAD])?r.d.WECHATAD:Object(r.h)(e,r.e[r.d.UNION_TBS])?r.d.UNION_TBS:Object(r.h)(e,r.e[r.d.IOSQSPORTS])?r.d.IOSQSPORTS:Object(r.h)(e,r.e[r.d.IOSQLIVE])?r.d.IOSQLIVE:Object(r.h)(e,r.e[r.d.IOS_GDT_UNION_SDK],t)?r.d.IOS_GDT_UNION_SDK:Object(r.h)(e,r.e[r.d.IOS_UNION_SDK])?r.d.IOS_UNION_SDK:Object(r.h)(e,r.e[r.d.IOS_UNSURE_MEDIA])?r.d.IOS_UNSURE_MEDIA:void 0}(i,s)),void 0===l?r.d.UNKNOWN:l}},function(e,t,n){"use strict";n.r(t);var r=n(6),o=n.n(r),i=n(0),a=n(4);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=a.JSAPI_URLS;t.default=function(e,t){var n=e.mediaName;if(!n)throw"onReadyJsApi: mediaName is required";switch(e.jsApiUrl&&(c[n]=e.jsApiUrl),n){case i.d.QQ:case i.d.IOSQQ:case i.d.FM:case i.d.KG:case i.d.KUGOU:case i.d.KUWO:case i.d.QNEWS:case i.d.QB:case i.d.READING:case i.d.HONGXIU:case i.d.TANGRAM:case i.d.IOSQSPORTS:case i.d.QSPORTS:case i.d.UNION_SDK:case i.d.UNION_TBS:var r=a.JSAPI_OBJ_NAMES[n],u=c[n];if(window[r])return void t(window[r]);o()(u,function(){void 0!==s(window[r])?t(window[r]):t(null)});break;case i.d.IOSQLIVE:case i.d.QLIVE:var l=window.TenvideoJSBridge;l&&"object"===s(l)?t(l):document&&"function"==typeof document.addEventListener?document.addEventListener("onTenvideoJSBridgeReady",function(){t(l)},!1):t(null);break;case i.d.QQSE:case i.d.WM:var d=window.TcsJSBridge;"object"==s(d)&&"function"==typeof d.invoke?t(d):document&&"function"==typeof document.addEventListener&&document.addEventListener("TcsJSBridgeReady",function(){t(window.TcsJSBridge)},!1);break;default:t(null)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"MEDIA_NAME",function(){return a}),n.d(t,"MEDIA_ID",function(){return s}),n.d(t,"SITE_SET",function(){return c}),n.d(t,"getMediaName",function(){return u}),n.d(t,"MEDIA_JSAPI",function(){return l}),n.d(t,"onReadyJsApi",function(){return d}),n.d(t,"MEDIA_ID_NAME",function(){return p});var r=n(0),o=n(7),i=n(8),a=r.d,s=r.a,c=r.f,u=o.default,l=r.c,d=i.default,p=r.b;t.default={getMediaName:u,MEDIA_NAME:a,MEDIA_ID:s,SITE_SET:c,MEDIA_JSAPI:l,onReadyJsApi:d,MEDIA_ID_NAME:p}}]).default},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(n(6)),a=n(7),s={trim:function(e){return!!e&&e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},hide:function(e,t){var n=(t||document).querySelector(e);n.dataset.display=n.style.display||document.defaultView.getComputedStyle(n,null).display,n.style.display="none"},show:function(e,t){var n=(t||document).querySelector(e);n.style.display=n.dataset.display||"inline-block"},ready:function(e){document.addEventListener("DOMContentLoaded",function(){"function"==typeof e&&e()})},closest:function(e,t){if(!t)return!1;for(var n="."===(t=this.trim(t))[0],r="#"===t[0];e;){var o=!1;if(n&&(o=e.classList.contains(t.slice(1))),r&&(o=e.id===t.slice(1)),o)break;e=e.parentElement}return e},fetch:function(e,t,n){var r="application/json;charset=UTF-8";return-1!==a.CDN_HOSTS.indexOf(window.location.host)&&(r="text/plain;charset=UTF-8"),window.sfetch(e,{headers:{"Content-Type":r},method:t,mode:"cors",body:JSON.stringify(n)}).then(function(e){return e.json()})},osType:function(){var e=navigator.userAgent,t="other";return e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(t="ios"),(e.indexOf("Android")>-1||e.indexOf("Linux")>-1)&&(t="android"),(e.indexOf("windows")>-1||e.indexOf("win32")>-1)&&(t="windows"),{other:0,android:1,ios:2,windows:3}[t]},initDateValue:function(){var e=new Date;return[e.getFullYear(),e.getMonth()+1,e.getDate()]},now:function(){return(new Date).getTime()},isObject:function(e){var t=(0,i.default)(e);return!!e&&("object"===t||"function"===t)},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},debounce:function(e,t,n){var r,o,i,a,c,u,l,d,p=0,f=!1,m=!0;if(!s.isFunction(e))throw new Error("debounce第一个参数为函数");function h(t,n){n&&clearTimeout(n),o=u=l=void 0,t&&(p=s.now(),i=e.apply(c,r),u||o||(r=c=void 0))}function v(){var e=t-(s.now()-a);e<=0||e>t?h(l,o):u=setTimeout(v,e)}function g(){h(m,u)}function y(){var n,h;if(r=arguments,a=s.now(),c=this,l=m&&(u||!d),!1===f)h=d&&!u;else{o||d||(p=a);var y=f-(a-p);(n=y<=0||y>f)?(o&&(o=clearTimeout(o)),p=a,i=e.apply(c,r)):o||(o=setTimeout(g,y))}return n&&u?u=clearTimeout(u):u||t===f||(u=setTimeout(v,t)),h&&(n=!0,i=e.apply(c,r)),!n||u||o||(r=c=void 0),i}return t=t<0?0:+t||0,!0===n?(d=!0,m=!1):s.isObject(n)&&(d=!!n.leading,f="maxWait"in n&&Math.max(+n.maxWait||0,t),m="trailing"in n?!!n.trailing:m),y.cancel=function(){u&&clearTimeout(u),o&&clearTimeout(o),p=0,o=u=l=void 0},y},isMobile:function(){return"ontouchstart"in window},compatibleClickEvent:function(){return s.isMobile()?"touchstart":"mousedown"},on:function(e,t,n,r){var o=["tap","click"];if(o.indexOf(t)<=-1)return console.error("isd不支持此事件，当前只支持: ",o),!1;if(!s.isMobile()&&"tap"===t||"click"===t)e.addEventListener("click",function(e){n&&n(e)});else{var i={type:null,startTime:0,endTime:0,startX:0,endX:0,startY:0,endY:0,deltaX:0,deltaY:0},a=function(e,t){var n=e.startTime,r=e.endTime,o=e.startX,i=e.endX,a=e.startY,s=e.endY;return e.deltaTime=r-n,e.deltaX=Math.abs(i-o),e.deltaY=Math.abs(s-a),t?(e.type=t,e):e.deltaX<30&&e.deltaY<30&&e.deltaTime<200?(e.type="tap",e):(e.type="undefined",e)};e.addEventListener("touchstart",function(e){i.startTime=Date.now(),i.startX=e.changedTouches[0].clientX,i.startY=e.changedTouches[0].clientY,i=a(i,"start")}),e.addEventListener("touchmove",function(e){i.endTime=Date.now(),i.endX=e.changedTouches[0].clientX,i.endY=e.changedTouches[0].clientY,i=a(i,"move")}),e.addEventListener("touchend",function(e){i.endTime=Date.now(),i.endX=e.changedTouches[0].clientX,i.endY=e.changedTouches[0].clientY,"tap"===(i=a(i)).type&&n&&n(e),i.type=null})}},manualBlurInputToiOS:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if(2===s.osType()){document.addEventListener("touchstart",function n(r){r.target!=e&&setTimeout(function(){e.blur(),document.removeEventListener("touchstart",n)},t)})}},isInViewPort:function(e,t){if(!e)return!1;var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=e.getBoundingClientRect(),i=o.top,a=o.right,s=o.bottom,c=o.left,u=o.width,l=o.height;return"strict"===t?c>=0&&a<=n&&(i>=0&&s<=r):(i>=0&&s>=0&&i<=r||i<=0&&s>=0&&-i<=l)&&(c>=0&&a>=0&&c<=n||c<=0&&a>=0&&-c<=u)},Observe:(o={},{on:function(e,t){void 0===o[e]?o[e]=[t]:o[e].push(t)},subscribe:function(e,t){if(o[e])for(var n={type:e,args:t||{}},r=0,i=o[e].length;r<i;r++)o[e][r].call(this,n)},off:function(e,t){if(o[e]instanceof Array)for(var n=o[e].length-1;n>=0;n--)o[e][n]===t&&o[e].splice(n,1)}}),bindLongPress:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if("ontouchstart"in window){var i=null;e.addEventListener("touchstart",function(a){o.starCallback&&o.starCallback(),i=setTimeout(function(){t(e,a)},n),r&&(a.preventDefault(),a.stopPropagation())}),e.addEventListener("touchend",function(e){o.endCallback&&o.endCallback(),i&&clearTimeout(i)})}else e.addEventListener("click",function(n){o.starCallback&&o.starCallback(),r&&(n.preventDefault(),n.stopPropagation()),t(e,n)})}};t.default=s},function(e,t,n){"use strict";var r=n(0)(n(3));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var a=n(302),s=n(304).CDN_HOST_MAP;e.exports=i(i({},a),{},{$getCdnHost:function(){return s.PROD}})},function(e,t,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t,n,r=e.replace(/^v/,"").replace(/\+.*$/,""),o=(n="-",-1===(t=r).indexOf(n)?t.length:t.indexOf(n)),i=r.substring(0,o).split(".");return i.push(r.substring(o+1)),i}function n(e){return isNaN(Number(e))?e:Number(e)}function r(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function o(e,o){[e,o].forEach(r);for(var i=t(e),a=t(o),s=0;s<Math.max(i.length-1,a.length-1);s++){var c=parseInt(i[s]||0,10),u=parseInt(a[s]||0,10);if(c>u)return 1;if(u>c)return-1}var l=i[i.length-1],d=a[a.length-1];if(l&&d){var p=l.split(".").map(n),f=d.split(".").map(n);for(s=0;s<Math.max(p.length,f.length);s++){if(void 0===p[s]||"string"==typeof f[s]&&"number"==typeof p[s])return-1;if(void 0===f[s]||"string"==typeof p[s]&&"number"==typeof f[s])return 1;if(p[s]>f[s])return 1;if(f[s]>p[s])return-1}}else if(l||d)return l?-1:1;return 0}var i=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return o.validate=function(t){return"string"==typeof t&&e.test(t)},o.compare=function(e,t,n){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===i.indexOf(e))throw new TypeError("Invalid operator, expected one of "+i.join("|"))}(n);var r=o(e,t);return a[n].indexOf(r)>-1},o})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";e.exports=n(259)()?n(58).Symbol:n(262)},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t){e.exports=r},function(e,t,n){n(8);var r=n(233);function o(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},function(e,t,n){var r=n(6),o=n(46);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentType",function(){return r}),n.d(t,"reportAutoPlay",function(){return w}),n.d(t,"SdkVideoManager",function(){return T});var r,o,i=n(3),a=n.n(i),s=n(24),c=n.n(s),u=n(4),l=n.n(u),d=n(5),p=n.n(d),f=n(125),m=n.n(f),h=n(12),v=n(10),g=n.n(v),y=n(7),A=n(9);function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.LEAD_VIDEO="leadVideo",e.OUTER_MATERIAL_VIDEO="outerMaterialVideo",e.VIDEO="video"}(r||(r={})),function(e){e.UP="up",e.DOWN="down"}(o||(o={}));var w=function(e){var t=function e(t){try{var n=t.dataset,r=n.reportId,o=n.reportName;if(!o&&t.parentNode){var i=e(t.parentNode);r=i.reportId,o=i.reportName}if(["BlockVideo","HeadVideo"].indexOf(o)>-1)return{reportId:r,reportName:o};throw"is not lingque video"}catch(e){return console.warn(e),{}}}(e),n=t.reportId,r=t.reportName;r&&Object(h.TdwReportTrigger)({reportName:r,reportId:n},{ei:"4007112"})},T=function(){function e(){l()(this,e)}return p()(e,null,[{key:"loadSuperPlayerSingleton",value:function(){return window.XJ_SUPER_PLAYER_SINGLETON?window.XJ_SUPER_PLAYER_SINGLETON:(window.XJ_SUPER_PLAYER_SINGLETON=g()(y.SUPER_PLAYER_JS_LIBRARY,{returnPromise:!0}).then(function(){return window.SuperPlayer}),window.XJ_SUPER_PLAYER_SINGLETON)}},{key:"init",value:function(){e.autoPlayFirstVideo(),e.bindVideoScrollAutoPlay()}},{key:"getCurrentVideoInfoList",value:function(t){return e.VIDEO_INFO_MAP[t]}},{key:"leadVideoAutoPlay",value:function(e){var t,n=_(c()(e).reverse());try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!o)return console.error("autoPlayFirstVideo item is null"),null;if(o.canAutoPlay)return o.superPlayer.play(),{componentType:r.LEAD_VIDEO,containerId:o.containerId}}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"waitAllInitStatus",value:function(){var t=e.COMPONENT_TYPE_ORDER.reduce(function(t,n){return[].concat(c()(t),c()(e.VIDEO_INFO_MAP[n]))},[]).map(function(e){return e.initStatus});return Promise.all(t)}},{key:"autoPlayFirstVideo",value:function(){return e.waitAllInitStatus().then(function(){var t,n=_(e.COMPONENT_TYPE_ORDER);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=e.VIDEO_INFO_MAP[o];switch(o){case r.LEAD_VIDEO:if(e.leadVideoAutoPlay(i))return;break;case r.OUTER_MATERIAL_VIDEO:case r.VIDEO:e.videoAutoPlay(i)}}}catch(e){n.e(e)}finally{n.f()}})}},{key:"findHighLevelVideoPlayingItem",value:function(t){return e.waitAllInitStatus().then(function(){return e.getHighLevelVideoInfos(t).then(function(t){return t.find(function(t){return e.isPlaying(t.superPlayer.state)})||null})})}},{key:"bindVideoScrollAutoPlay",value:function(){window.addEventListener("scroll",m()(function(){e.findHighLevelVideoPlayingItem([r.LEAD_VIDEO]).then(function(t){if(!t){var n=[r.OUTER_MATERIAL_VIDEO,r.VIDEO].reduce(function(t,n){return t.concat(e.VIDEO_INFO_MAP[n])},[]);e.videoAutoPlay(n)}})},30))}},{key:"videoAutoPlay",value:function(t){var n=window.pageYOffset,r=n>=e.lastScrollTop?o.UP:o.DOWN;e.lastScrollTop=n;var i,a=window.innerHeight,s=[],c=_(t);try{for(c.s();!(i=c.n()).done;){var u=i.value;if(!u.manualPause){var l=u.containerId,d=document.querySelector("#".concat(l)).getBoundingClientRect(),p=d.top,f=d.bottom,m=d.height,h=m*(2/3),v=m*(1/3);r===o.UP?a-p>v&&-p<h&&s.push(u):r===o.DOWN&&f>v&&f-a<h&&s.push(u)}}}catch(e){c.e(e)}finally{c.f()}var g=s.find(function(t){return t.containerId===e.currentPlayingId})||s.find(function(e){return e.canAutoPlay});return g?e.playOne(g):(e.currentPlayingId=null,e.pauseAllVideo()),g||null}},{key:"playOne",value:function(t){var n=t.containerId,r=t.superPlayer;e.isPause(r.state)&&(r.play(),w(document.querySelector("#".concat(n)))),e.pauseOtherVideo(n)}},{key:"pauseOne",value:function(t){var n=t.superPlayer;e.isPlaying(n.state)&&n.pause()}},{key:"getHighLevelVideoInfos",value:function(t){var n=e.VIDEO_INFO_MAP,r=t.map(function(e){return n[e].filter(Boolean)}).reduce(function(e,t){return[].concat(c()(e),c()(t))},[]),o=r.map(function(e){return e.initStatus});return Promise.all(o).then(function(){return r})}},{key:"isPlaying",value:function(e){return[A.f.BUFFERING,A.f.PLAYING].includes(e)}},{key:"isPause",value:function(t){return!e.isPlaying(t)}}]),e}();T.COMPONENT_TYPE_ORDER=[r.LEAD_VIDEO,r.OUTER_MATERIAL_VIDEO,r.VIDEO],T.VIDEO_INFO_MAP=a()(a()(a()({},r.LEAD_VIDEO,[]),r.OUTER_MATERIAL_VIDEO,[]),r.VIDEO,[]),T.AUTOPLAY_SIZE_LIMIT=2097152,T.currentPlayingId=null,T.lastScrollTop=0,T.pauseAllVideo=function(){Object.values(T.VIDEO_INFO_MAP).forEach(function(e){e.filter(Boolean).forEach(function(e){e&&T.isPlaying(e.superPlayer.state)&&e.superPlayer.pause()})})},T.pauseOtherVideo=function(e){Object.values(T.VIDEO_INFO_MAP).forEach(function(t){t.filter(Boolean).forEach(function(t){var n=T.isPlaying(t.superPlayer.state);t.containerId!==e&&n&&t.superPlayer.pause()})})}},function(e,t,n){var r=n(156);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){e.exports=o},function(e,t,n){"use strict";var r=n(238)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=function(e){return void 0!==e&&null!==e}},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",function(){return r}),n.d(t,"RE_DURATION",function(){return o}),n.d(t,"GENERAL_REPORT_ID",function(){return i}),n.d(t,"PAGE_STATE_DUPLICATED",function(){return a}),n.d(t,"UPDATE_PAGE_BACK_ENABLED_KEY",function(){return s}),n.d(t,"DELAY_POST_REPORT_MAX_COUNT",function(){return c}),n.d(t,"DELAY_POST_REPORT_DELAY_TIME",function(){return u}),n.d(t,"ActionAnalyzer",function(){return te}),n.d(t,"Subject",function(){return U}),n.d(t,"startGeneralReport",function(){return ve}),n.d(t,"ActionReporter",function(){return Ie}),n.d(t,"OperatingSystem",function(){return B}),n.d(t,"getOs",function(){return V}),n.d(t,"isInWeChat",function(){return X}),n.d(t,"getPageSpecification",function(){return J}),n.d(t,"getDeviceInfo",function(){return Q}),n.d(t,"getDeviceName",function(){return Y}),n.d(t,"generateReportDataItem",function(){return le}),n.d(t,"generateReportData",function(){return de}),n.d(t,"validateReportItem",function(){return pe}),n.d(t,"rand",function(){return j}),n.d(t,"guid",function(){return L});var r=n(107).version,o=/\$page.duration\s+[<=>]=*\s+(\d+)/,i="GENERAL_REPORT_ID",a="page_state_duplicated=true",s="back.enabled",c=10,u=500,l=n(17),d=n.n(l),p=n(18),f=n.n(p),m=function(e,t){return Number(e.toFixed(t))},h=function(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop},v=function(){return(new Date).getTime()},g=function(){return{executed:!1,done:!1}},y=n(108),A=n.n(y),_=n(109),b=n.n(_),w=n(82),T=n.n(w),E=n(24),S=n.n(E),O=n(4),I=n.n(O),C=n(5),P=n.n(C);function k(e){return Object.keys(e)}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=Symbol("__EVENT_CACHE_KEY__"),R=Symbol("__GLOBAL_CACHE_KEY__");function j(e){return((1+Math.random())*(1<<4*e)|0).toString(16).substring(1)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-";return j(4)+j(4)+e+j(4)+e+j(4)+e+j(4)+e+j(4)+j(4)+j(4)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var B,U=function(e){A()(n,e);var t=M(n);function n(e){var r;d()(this,n),(r=t.call(this)).eventStateList=[],r.prevEventDataMap={};var o=e.id,i=void 0===o?L():o,a=e.events;return r.id=i,a.forEach(function(e){var t=L();r.eventStateList.push({id:t,config:e,ctx:g()}),r.prevEventDataMap[t]=null}),r}return f()(n,[{key:"isAllEventExecuted",value:function(){return this.eventStateList.every(function(e){return e.ctx.done})}},{key:"executeTickerEvents",value:function(e){var t=this;e?this.eventStateList.filter(function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").includes("$page.duration")}(e.config.condition)}).forEach(function(n){return t.executeEvent(e,n)}):console.error("cannot execute manually!")}},{key:"executePageBackEvents",value:function(e){var t=this;e?this.eventStateList.filter(function(e){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").includes("$page.back.enabled")}(e.config.condition)}).forEach(function(n){return t.executeEvent(e,n)}):console.error("cannot execute manually!")}},{key:"executeEvent",value:function(e,t){var n=t.id,r=t.ctx,o=t.config,i=o.condition,a=o.loop,s=void 0!==a&&a,c=o.type;if(!r.done){var u="return ".concat(i||!1),l=!1;try{l=new Function("$page","$event",u)(e,r)}catch(e){console.error("condition evaluate error: statement: ".concat(u))}if(l){s||(r.done=!0),r.executed=!0;var d=v(),p={duration:d-e.timestamp.start,timestamp:d,pageCtx:JSON.parse(JSON.stringify(e)),eventCtx:JSON.parse(JSON.stringify(t.ctx)),prev:this.prevEventDataMap[n]||null};this.prevEventDataMap[n]=p,this.emit(c,p)}}}}]),n}(function(){function e(){I()(this,e)}return P()(e,[{key:"addGlobalListener",value:function(e){var t=this[R]||[];t.push(e),this[R]=t}},{key:"removeGlobalListener",value:function(e){var t=this[R];if(t&&e){var n=t.findIndex(function(t){return t===e});n>=0&&t.splice(n,1)}else this[R]=[]}},{key:"addListener",value:function(e,t){var n=this[D]=this[D]||{},r=n[e];null==r&&(r=[],n[e]=r),r.push({fn:t})}},{key:"removeListener",value:function(e,t){var n=this[D];if(null!=e&&null!=n){var r=n[e];if(null!=r)if(null!=t){var o=r.findIndex(function(e){return e.fn===t});o>=0&&r.splice(o,1)}else delete n[e]}else this[D]={}}},{key:"removeAllListeners",value:function(e){this.removeListener(e),this.removeGlobalListener()}},{key:"emit",value:function(e){for(var t=this[R]||[],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.length){var i,a=x(t);try{for(a.s();!(i=a.n()).done;){(0,i.value)(e,r)}}catch(e){a.e(e)}finally{a.f()}}var s=(this[D]=this[D]||{})[e];if(null!=s){var c,u=x(s);try{for(u.s();!(c=u.n()).done;){c.value.fn.apply(this,r)}}catch(e){u.e(e)}finally{u.f()}}}},{key:"waitForCommit",value:function(e){var t=(this[D]=this[D]||{})[e];if(null!=t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a=x(t);try{for(a.s();!(i=a.n()).done;){i.value.waiting=r}}catch(e){a.e(e)}finally{a.f()}}}},{key:"commit",value:function(e){var t=this,n=this[D]=this[D]||{};if(null!=e){var r=n[e];if(null!=r){var o,i=x(r);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=a.waiting;null!=s&&(a.waiting=void 0,this.emit.apply(this,[e].concat(S()(s))))}}catch(e){i.e(e)}finally{i.f()}}}else k(n).forEach(function(e){return t.commit(e)})}},{key:"abortCommit",value:function(e){var t=this,n=this[D]=this[D]||{};if(null!=e){var r=n[e];if(null!=r){var o,i=x(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;null!=a.waiting&&(a.waiting=void 0)}}catch(e){i.e(e)}finally{i.f()}}}else k(n).forEach(function(e){return t.abortCommit(e)})}},{key:"listeners",value:function(e){var t=(this[D]=this[D]||{})[e];return null==t?[]:t.map(function(e){return e.fn})}},{key:"listenerCount",value:function(e){var t=(this[D]=this[D]||{})[e];return null==t?0:t.length}}],[{key:"mixin",value:function(t){!function(e){for(var t=e.prototype,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach(function(e){var n=e.prototype,r=Object.getOwnPropertyDescriptors(n);Object.keys(r).forEach(function(e){Object.defineProperty(t,e,r[e])})})}(t,e)}}]),e}()),F=n(62),G=n.n(F),q=n(110),W=n.n(q),H=n(111);function V(){var e=navigator.userAgent,t=/android/i.test(e)||e.indexOf("Android")>-1||e.indexOf("Adr")>-1,n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return!0===t?B.ANDROID:!0===n?B.IOS:B.PC}function X(){var e=navigator.userAgent.toLowerCase();return/MicroMessenger/i.test(e)}!function(e){e[e.PC=0]="PC",e[e.IOS=1]="IOS",e[e.ANDROID=2]="ANDROID"}(B||(B={}));var J=function(){return{screen_height:window.screen.height,screen_width:window.screen.width,avail_height:window.innerHeight,page_width:document.body.scrollWidth,page_height:document.body.scrollHeight}},Q=function(){return(new H.UAParser).getDevice()},Y=function(){var e=Q(),t=e.vendor,n=e.model,r=void 0===n?"unknown":n,o="";return t&&(o="".concat(t," ")),(o+r).slice(0,64)},z=function(e,t){return window.getComputedStyle?window.getComputedStyle(e).getPropertyValue(t):""},K=function(e){var t=e.target,n=e.clientY,r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.height="".concat(document.documentElement.scrollHeight,"px"),r.style.zIndex="-9999999";var o=t.cloneNode();o.style.position="absolute";var i=document.getElementById("root")||document.body;r.appendChild(o),i.appendChild(r);var a=parseInt(z(o,"top"),10),s=n-t.offsetTop;return i.removeChild(r),a+s},$=function(e){for(var t=e.event,n=e.y,r=e.isTouched,o=r?t.changedTouches[0].target||t.changedTouches[0].srcElement:t.target||t.srcElement,i=n;o&&o!==document.body;){if("fixed"===z(o,"position")){var a=o.style.bottom,s=o.style.top;if(""!==a){i=document.documentElement.scrollHeight-(window.innerHeight-(r?t.changedTouches[0].clientY:t.clientY));break}if(""!==s){i=r?t.changedTouches[0].clientY:t.clientY;break}if(""===s&&""===a){i=K({target:o,clientY:r?t.changedTouches[0].clientY:t.clientY});break}}o=null===o||void 0===o?void 0:o.parentElement}return i},Z=function(){function e(t){var n=this;d()(this,e),this.option=t,this.baseHashValue=100,this.isTouchMoving=!1,this.touchStart=function(){n.isTouchMoving=!1},this.touchMove=function(){n.isTouchMoving=!0},this.touchFinish=function(e){var t=e;if(!n.isTouchMoving&&0!==t.changedTouches.length){var r=t.changedTouches[0].pageX,o=$({event:t,y:t.changedTouches[0].pageY,isTouched:!0}),i=J(),a=i.screen_width,s=i.screen_height,c=i.page_width,u=i.page_height,l=i.avail_height;r=Math.floor(r*n.baseHashValue/a),o=Math.floor(o*n.baseHashValue/a);var d={timestamp:v(),heatmapData:{click_offset_x:r,click_offset_y:o,scroll_top:h(),page_width:c,page_height:u,avail_height:l,screen_height:s,screen_width:a}};n.option.onClick(d)}},document.documentElement.addEventListener("touchstart",this.touchStart),document.documentElement.addEventListener("touchmove",this.touchMove),document.documentElement.addEventListener("touchend",this.touchFinish),document.documentElement.addEventListener("touchcancel",this.touchFinish)}return f()(e,[{key:"dispose",value:function(){document.documentElement.removeEventListener("touchstart",this.touchStart),document.documentElement.removeEventListener("touchmove",this.touchMove),document.documentElement.removeEventListener("touchend",this.touchFinish),document.documentElement.removeEventListener("touchcancel",this.touchFinish)}}]),e}(),ee=function(){function e(){d()(this,e)}return f()(e,null,[{key:"createSubject",value:function(t){var n=t.subject,r=n.id,o=n.events,i=new U({id:r,events:o});return e.registerSubject(i),i}},{key:"disposeSubject",value:function(t){delete e.subjectMap[t.id]}},{key:"getSubjectInstance",value:function(t){return t?e.subjectMap[t]||null:e.getSubjects().filter(function(e){return e.id!==i})[0]||null}},{key:"updatePageCtx",value:function(t){Object.keys(t).forEach(function(n){var r,o,i=t[n];n===s&&(i&&!e.pageContext.back.enabled?function(e){var t;if(null!=(null===(t=null===window||void 0===window?void 0:window.history)||void 0===t?void 0:t.pushState)){window.addEventListener("popstate",e,!1);var n=document.URL.includes("?")?"&":"?",r=document.URL.includes(a)?document.URL:"".concat(document.URL).concat(n).concat(a);window.history.pushState(null,"",r)}else console.warn("error: current userAgent not support history.pushState!")}(e.onPageBack):!i&&e.pageContext.back.enabled?(r=e.onPageBack,null==(null===(o=null===window||void 0===window?void 0:window.history)||void 0===o?void 0:o.back)&&console.warn("error: current userAgent not support history.back!"),window.removeEventListener("popstate",r),document.URL.includes(a)&&window.history.back()):console.warn("warn: not allow set same value, skip!")),G()(e.pageContext,n,i)})}},{key:"executeSubjectTicker",value:function(){e.getSubjects().forEach(function(t){t.isAllEventExecuted()||t.executeTickerEvents(e.pageContext)})}},{key:"getPageContext",value:function(){return e.pageContext}},{key:"initial",value:function(){var t;if(!e.pageContext.initialed){var n=null===(t=null===performance||void 0===performance?void 0:performance.timing)||void 0===t?void 0:t.domContentLoadedEventEnd;e.pageContext.initialed=!0,e.pageContext.timestamp.start=n||v(),e.ticker(),document.addEventListener("scroll",W()(e.scrollHandler,200)),e.updateScrollTop(),new Z({onClick:function(t){e.pageContext.click.heatmapList.push(t)}})}}},{key:"registerSubject",value:function(t){e.subjectMap[t.id]=t}},{key:"updateScrollTop",value:function(){e.pageContext.scroll.scrollTop=h()}},{key:"scrollHandler",value:function(){e.updateScrollTop(),e.pageContext.scroll.scrolled=!0,e.pickThrottleScrollInfo()}},{key:"pickThrottleScrollInfo",value:function(){var t,n=h(),r=(null===(t=e.pageContext.scroll.scrollTopThrottleList.slice(-1)[0])||void 0===t?void 0:t.scrollTop)||0;Math.abs(n-r)>=50&&e.pageContext.scroll.scrollTopThrottleList.push({timestamp:v(),scrollTop:n})}},{key:"ticker",value:function(){var t;e.executeSubjectTicker(),e.pageContext.duration=m(e.pageContext.duration+.1,1),t=e.ticker,setTimeout(t,100)}},{key:"onPageBack",value:function(){e.getSubjects().forEach(function(t){t.isAllEventExecuted()||t.executePageBackEvents(e.pageContext)})}}]),e}();ee.pageContext={timestamp:{start:v()},duration:0,transform:{executed:!1},scroll:{scrolled:!1,scrollTop:0,scrollTopThrottleList:[]},initialed:!1,back:{enabled:!1},click:{heatmapList:[]}},ee.subjectMap={},ee.getSubjects=function(){return Object.keys(ee.subjectMap).map(function(e){return ee.subjectMap[e]})};var te=window.LANDING_PAGE_ACTION_ANALYZER_SINGLETON?window.LANDING_PAGE_ACTION_ANALYZER_SINGLETON:("loading"===document.readyState?window.addEventListener("DOMContentLoaded",function(){setTimeout(function(){ee.initial()},0)}):ee.initial(),window.LANDING_PAGE_ACTION_ANALYZER_SINGLETON=ee,ee),ne=n(30),re=n.n(ne),oe=n(63),ie=n.n(oe),ae=n(112),se=n.n(ae);String.prototype.escHtmlEp=function(){return this.replace(/[&'"<>/\\\-\x00-\x1f\x80-\xff]/g,function(e){return"&#".concat(e.charCodeAt(0),";")})},String.prototype.escHtml=function(){return this.replace(/[&'"<>/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g,function(e){return"&#".concat(e.charCodeAt(0),";")}).replace(/\r\n/g,"<BR>").replace(/\n/g,"<BR>").replace(/\r/g,"<BR>").replace(/ /g,"&nbsp;")},String.prototype.escScript=function(){return this.replace(/[\\"']/g,function(e){return"\\".concat(e)}).replace(/%/g,"\\x25").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\x01/g,"\\x01")},String.prototype.escUrl=function(){return escape(this).replace(/\+/g,"%2B")},String.prototype.escHrefScript=function(){return this.escScript().escMiniUrl().escHtmlEp()},String.prototype.escRegexp=function(){return this.replace(/[\^$*+?{}.()[]]/g,function(e){return"\\".concat(e)})};var ce=function(){var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},o="";window.location.search&&"function"==typeof window.location.search.substring&&(o=window.location.search.substring(1));var i={};if(""===o)return{};for(e=n.exec(o);e;)i[r(e[1])]=r(e[2]),e=n.exec(o);try{Object.keys(i).forEach(function(e){var t;["qz_gdt","gdt_vid"].indexOf(e)>-1&&(i[e]=(t=i[e],t=(t=(t=(t=(t=(t=(t=(t=(t=encodeURIComponent(t)).replace(/~/g,"%7E")).replace(/!/g,"%21")).replace(/\*/g,"%2A")).replace(/\(/g,"%28")).replace(/\)/g,"%29")).replace(/'/g,"%27")).replace(/\?/g,"%3F")).replace(/;/g,"%3B")))})}catch(e){console.error(e)}return i};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var le=function(e){var t,n,r=ce(),o=r.qz_gdt,i=r.gdt_vid,a=r.isPrivateTraffic,s=r.code,c=V(),u=e.ei,l=void 0===u?0:u,d=e.vl,p=void 0===d?1:d,f=e.traceid,m=e.os,h=void 0===m?c:m,v=e.sdk_st,g=void 0===v?10:v,y=e.events,A=e.pageid,_=e.action_type,b=e.status,w=e.weChatOpenId,T={ei:l,vl:p,ts:e.ts||(null===y||void 0===y?void 0:y.ts)||(new Date).getTime(),biz:{traceid:f||o||i||""},ext:{pageid:(null===(t=null===y||void 0===y?void 0:y.ext)||void 0===t?void 0:t.pageid)||A,action_type:(null===(n=null===y||void 0===y?void 0:y.ext)||void 0===n?void 0:n.action_type)||_,status:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach(function(t){re()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isPrivateTraffic:a,isWeChat:X(),weChatAuthCode:!!s,trace_url:location.href,weChatOpenId:w},b)}};return{os:h,sdk_st:g,events:se()({},T,y)}},de=function(e){var t=[];return Array.isArray(e)?t.push.apply(t,ie()(e.map(function(e){return le(e)}))):t.push(le(e)),t},pe=function(e){var t=e.os,n=e.sdk_st,r=e.events;return null==t?{status:"fail",msg:'reportData validate fail: "os" must number, current: '.concat(t)}:null==n?{status:"fail",msg:'reportData validate fail: "sdk_st" must number, current: '.concat(n)}:null==(null===r||void 0===r?void 0:r.ts)?{status:"fail",msg:'reportData validate fail: "events.ts" must number, current: '.concat(null===r||void 0===r?void 0:r.ts)}:{status:"success"}};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach(function(t){re()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var he={id:i,events:[{type:"page-env",condition:"$page.duration > 0 && $page.timestamp.start !== 0 && !$page.pageEnvReported",loop:!0},{type:"keepalive",condition:"($page.duration >= 1 && $page.duration <= 30 && $page.duration % 2 === 1) || ($page.duration >= 30 && $page.duration <= 60 && $page.duration % 3 === 0) || ($page.duration > 60 && $page.duration <= 120 && $page.duration % 10 === 0)",loop:!0},{type:"per-second",condition:"$page.duration % 1 === 0",loop:!0}]},ve=function(e){var t=te.getSubjectInstance(i)||te.createSubject({subject:he}),n=e.report,r=n.instance,o=n.data,a=o.pageid,s=o.status;return t.addListener("page-env",function(){var e,t,n;te.updatePageCtx({pageEnvReported:!0});var o=(null===(e=null===performance||void 0===performance?void 0:performance.timing)||void 0===e?void 0:e.navigationStart)||0,i=te.getPageContext().timestamp.start,c={};if(o>0&&Object.assign(c,{navigation_start:o}),i>0&&Object.assign(c,{dom_ready:i}),o>0&&i>0&&Object.assign(c,{dom_ready_duration:i-o}),(null===(t=window.viewerData)||void 0===t?void 0:t.actionSetId)&&Object.assign(c,{actionSetId:window.viewerData.actionSetId}),null===(n=window.viewerData)||void 0===n?void 0:n.clickTime){var u=parseInt(String(i-window.viewerData.clickTime),10);u>=0&&u<=3e4&&Object.assign(c,{click_to_dom_ready_duration:u})}r.report(de({pageid:a,action_type:"page_env",status:me({accountId:s.accountId},c)}),{force:!0})}),t.addListener("keepalive",function(e){var t;(null===(t=window.viewerData)||void 0===t?void 0:t.actionSetId)&&Object.assign(s,{actionSetId:window.viewerData.actionSetId}),r.report(de({pageid:a,action_type:"page_heartbeat",status:me({duration:e.duration},s)}),{force:!0})}),t.addListener("per-second",function(e){var t,n=(null===(t=e.prev)||void 0===t?void 0:t.timestamp)||0,o=e.timestamp,i=function(e,t,n){var r=n.filter(function(n){return n.timestamp>=e&&n.timestamp<=t}).map(function(e){return{timestamp:e.timestamp,scroll_top:e.scrollTop}});return me(me({},J()),{},{behavior:r})}(n,o,e.pageCtx.scroll.scrollTopThrottleList);if(i.behavior.length){var c={pageid:a,action_type:"page_scroll",status:me(me({},s),{},{page:i})};r.report(de(c),{force:!0})}var u=function(e,t,n){return n.filter(function(n){return n.timestamp>=e&&n.timestamp<=t}).slice(-5)}(n,o,e.pageCtx.click.heatmapList);if(u.length){var l=u.map(function(e){return{ts:e.timestamp,pageid:a,action_type:"page_heatmap_click",status:me(me({},s),{},{page:e.heatmapData})}});r.report(de(l),{force:!0})}}),t},ge=n(64),ye=n.n(ge),Ae=function(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest;for(var i in o.open(t.method||"get",e,!0),t.headers)o.setRequestHeader(i,t.headers[i]);function a(){var e,t=[],n=[],r={};return o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(o,i,a){t.push(i=i.toLowerCase()),n.push([i,a]),r[i]=(e=r[i])?e+","+a:a}),{ok:2==(o.status/100|0),status:o.status,statusText:o.statusText,url:o.responseURL,clone:a,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}o.withCredentials="include"==t.credentials,o.onload=function(){n(a())},o.onerror=r,o.send(t.body||null)})},_e=["method"];function be(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Ee=function(){function e(t){d()(this,e),this.postReportDataList=[],this.waitingPromise=null;var n=t.method,r=ye()(t,_e);this.createReporterOption=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach(function(t){re()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({method:n.toLocaleLowerCase()},r)}return f()(e,[{key:"report",value:function(e,t){var n,o,i=this.createReporterOption,a=i.method,s=i.url,c=(t||{}).force,u=void 0!==c&&c,l=Array.isArray(e)?e:[e],d=be(l);try{for(d.s();!(n=d.n()).done;){var p=n.value,f=pe(p);if("fail"===f.status)return console.error(f.msg),Promise.reject(f.msg);G()(p,"events.ext.status.sdk_version",r)}}catch(e){d.e(e)}finally{d.f()}return"get"===a?s.includes("data=")?Promise.reject("fetal error: requestUrl should not includes data=, current is: ".concat(s)):this.reportByGet(l):"post"===a?((o=this.postReportDataList).push.apply(o,ie()(l)),this.reportByPost({force:u})):Promise.reject("fetal error: method not support, current is: ".concat(a))}},{key:"flush",value:function(){return this.reportByPost({force:!0})}},{key:"getPostReportList",value:function(){return this.postReportDataList}},{key:"reportByPost",value:function(e){var t=this;if(0===this.postReportDataList.length)return Promise.resolve([]);var n=this.createReporterOption,r=n.url,o=n.headers,i=n.useBeacon,a=n.delayConfig,s=void 0!==a&&a,l=s||{},d=l.maxCount,p=void 0===d?c:d,f=l.delay,m=void 0===f?u:f,h=e.force;if(!(void 0!==h&&h||!1===s||this.postReportDataList.length>=p))return this.waitingPromise?this.waitingPromise:(this.waitingPromise=new Promise(function(e,n){setTimeout(function(){t.reportByPost({force:!0}).then(e).catch(n)},m)}),this.waitingPromise);this.waitingPromise=null;var v=this.postReportDataList;return this.postReportDataList=[],i&&"function"==typeof navigator.sendBeacon?(navigator.sendBeacon(r,JSON.stringify({list:v})),Promise.resolve([])):Promise.all([Ae(r,{method:"post",headers:o,body:JSON.stringify({list:v})}).then(function(e){return e.json()})])}},{key:"reportByGet",value:function(e){var t=this.createReporterOption,n=t.url,r=t.headers,o=n.includes("?")?"&":"?";return Promise.all(e.map(function(e){var t="".concat(n).concat(o,"data=").concat(encodeURIComponent(JSON.stringify(e)));return Ae(t,{method:"get",headers:r}).then(function(e){return e.json()})}))}}]),e}(),Se=["id"];function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Ie=function(){function e(){d()(this,e)}return f()(e,null,[{key:"create",value:function(e){var t=e.id,n=ye()(e,Se),r=t||L(),o=new Ee(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(t){re()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},n));return this.reporterMap[r]=o,o}}]),e}();Ie.reporterMap={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SMART_PHONE_TYPE=t.SMART_ONLINE_TYPE=t.REPORT_TYPE_MAPS=t.REPORT_TYPE=t.PHONE_TYPE=t.ONLINE_TYPE=t.DOWNLOAD_STATUS_SDK=t.DOWNLOAD_ACTION_TYPE_LIST=t.ACT_CODE=t.ACTION_TYPE=t.ACTION_ID=void 0;var r=t.REPORT_TYPE={DOWNLOAD_CLICK:"DOWNLOAD_CLICK",RESERVATION:"RESERVATION",CUSTOM:"CUSTOM",LANDING_PAGE_CLICK:"LANDING_PAGE_CLICK",COMPLETE_ORDER:"COMPLETE_ORDER",NAVIGATE:"NAVIGATE",VIEW_CONTENT:"VIEW_CONTENT",PLATFORM_VIEW:"PLATFORM_VIEW",CONSULT:"CONSULT",CLAIM_OFFER:"CLAIM_OFFER",GIFT_CLAIM_OFFER:"GIFT_CLAIM_OFFER",LINK:"LINK",COUPON_CARD_CLICK:"COUPON_CARD_CLICK",GIFT_CLICK:"GIFT_CLICK",LOTTERY_CLICK:"LOTTERY_CLICK",QUICK_APP:"XJ_QUICK_APP",XJ_QUICK_APP_SUCCESS:"XJ_QUICK_APP_SUCCESS",XJ_QUICK_APP_FAIL:"XJ_QUICK_APP_FAIL",XJ_QUICK_APP_HUAWEI:"XJ_QUICK_APP_HUAWEI",XJ_QUICK_APP_CLICK:"XJ_QUICK_APP_CLICK",AUTO_DOWNLOAD:"XJ_AUTO_DOWNLOAD",LOGIN:"LOGIN",XJ_QUICK_APP_QQ_LOCATION:"XJ_QUICK_APP_QQ_LOCATION",XJ_QUICK_APP_QQ_IFRAME:"XJ_QUICK_APP_QQ_IFRAME",XJ_QUICK_APP_QQ_ROUTE:"XJ_QUICK_APP_QQ_ROUTE",XJ_QUICK_APP_QQ_INVOKE:"XJ_QUICK_APP_QQ_INVOKE",XJ_QUICK_APP_LOCATION:"XJ_QUICK_APP_LOCATION",XJ_QUICK_APP_IFRAME:"XJ_QUICK_APP_IFRAME",XJ_QUICK_APP_ROUTE:"XJ_QUICK_APP_ROUTE",SMART_COMPONENT_CLICK:"SMART_COMPONENT_CLICK",WX_ID_COPY:"WX_ID_COPY",XJ_WX_OPEN:"XJ_WX_OPEN"};t.DOWNLOAD_ACTION_TYPE_LIST=[r.DOWNLOAD_CLICK,r.AUTO_DOWNLOAD],t.REPORT_TYPE_MAPS={JUMP_THEN_RETURN:{setPaths:{"actions[0].action_type":"RETURN"}},JUMP_TO_WX:{setPaths:{"actions[0].action_type":"SCANCODE"}},NEW_GAME_ORDER:{setPaths:{"actions[0].action_type":"LANDING_PAGE_CLICK"}},ALITA_RESERVATION_CHECK:{setPaths:{"actions[0].action_type":"RESERVATION_CHECK"}}},t.PHONE_TYPE="MAKE_PHONE_CALL",t.ONLINE_TYPE="ONLINE_CONSULT",t.SMART_PHONE_TYPE="INTELLIGENT_PHONE",t.SMART_ONLINE_TYPE="INTELLIGENT_TOOL",t.ACTION_ID={USE_MARKET:4001035,OVER_FLOW:4001036,MARKET_ENABLE:4001037,GO_MARKET_FAIL:4001038,GET_DEVICE_INFO:4001039,GET_DEVICE_INFO_SUCCESS:4001040,GO_MARKET_START:4001041,GO_MARKET_SUCCESS:4001042},t.ACTION_TYPE={USE_MARKET:"xj_downloader_btn_click",OVER_FLOW:"xj_downloader_priority_churn",MARKET_ENABLE:"xj_downloader_start",GO_MARKET_FAIL:"xj_downloader_fail",GET_DEVICE_INFO:"xj_downloader_get_deviceinfo",GET_DEVICE_INFO_SUCCESS:"xj_downloader_get_deviceinfo_success",GO_MARKET_START:"xj_downloader_request_port",GO_MARKET_SUCCESS:"xj_downloader_success"},t.ACT_CODE={DEEPLINK:401,DOWNLOADING:402,DOWNLOAD_COMPLETE:403,NOT_MATCH:404,GET_DEVICE_INFO_FAIL:405,NOT_MATCH_MARKET:406,GO_MARKET_FAIL:407,GO_MARKET_OVERTIME:408,MULT_APP:409},t.DOWNLOAD_STATUS_SDK={DEFAULT:0,INSTALLED:1,DOWNLOAD_CREATED:2,DOWNLOADING:3,DOWNLOAD_COMPLETE:4,DOWNLOAD_FAILED:5,DOWNLOAD_PAUSED:6,DOWNLOAD_CANCEL:7,DOWNLOAD_TIMEOUT:8,FILE_HAS_DELETED:9}},function(e,t,n){var r=n(179),o=n(180),i=n(181);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n(3));var o=r(n(4)),i=r(n(5)),a=r(n(32)),s=r(n(1)),c=n(2),u=n(323),l=r(n(122)),d=r(n(20)),p=n(12),f=n(15),m=n(2),h=n(132),v=r(n(19)),g=n(118),y=r(n(326)),A=n(11),_=n(41),b=n(7),w=n(22),T=r(n(69)),E=r(n(115)),S=n(88),O=r(n(37)),I=n(11),C=n(41),P=n(13);var k=new p.Report,x=v.default&&v.default.getSceneEnv&&v.default.getSceneEnv()||{},N=function(){function e(t){var n=this;(0,o.default)(this,e),this.marketEnable=!1,this.cancelEnable=!1,this.downloadButtonDoms=null,this.downloadButtons={},this.isDistributeEnd=!1,this.defaultSyncButton=null,this.syncButtons=[],this.listener={},this.downloaderState={},this.afterClickMoment=!1,this.DOWNLOAD_STATUS=a.default.DOWNLOAD_STATUS,this._tips=null,this.state={downloadStatus:null,statusText:null,downloadPercentage:null,hasClick:!1},this.getState=function(){return n.state},this.initDownloader=function(e){(0,g.isQLive)()?n.QLiveInitDownloader(e):n.genericInitDownloader(e)},this.genericInitDownloader=function(e){x.isFrame&&(document.domain="qq.com"),n.id,n.appData,n.spaDownloader=new a.default({id:n.id,singletone:"singletone"===n.id,appData:n.appData,autoDownload:e,autoInstall:!x.disableAutoInstall,isFrame:x.isFrame,reporter:A.standardReport});var t=(0,P.parseUrl)().forceCancel;"development"===s.default.env||"1"===t?(console.warn("cancelEnable force set to true"),n.cancelEnable=!0):n.cancelEnable=(0,f.checkMediaCancelDownloadEnable)()&&n.spaDownloader.checkCancelEnable(),(0,u.addSpaDownloaderReportEvent)(n.spaDownloader)},this.QLiveInitDownloader=function(e){e?(0,g.disableAutoDownloadForHuaWei)(function(t){n.genericInitDownloader(!t&&e)},function(){n.genericInitDownloader(e)}):n.genericInitDownloader(e)},this._triggerDOMList=[],this._appendFirstScreenButtonTimer=null,this._hasFirstScreenButtonInit=!1,this._longestWaitTime=0,this.fetchMarketSymbol=function(){var e=s.default.pageType,t=(0,c.getParameter)(location.href,"ad_id"),r=(0,c.getParameter)(location.href,"xj_ad_type");if(!t||"default-h5"===e)return!1;var o=b.backendUrl+"/page/creativeId";window.sfetch(o,{method:"post",body:JSON.stringify({tid:t,xjAdType:r}),mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(0===e.code){var t=parseInt(e.data.creativeData.union_market_switch,10);n.marketEnable=1===t||2===t}}).catch(function(e){return"fetch ".concat(o," error"),!1})},this.checkMarketEnable=function(){var e=s.default.marketDownloadEnable,t=void 0!==e&&e,r=s.default.mediaName,o=s.default.multApp,i=n.state,c=i.downloadPercentage,u=i.downloadStatus,l=(0,m.parseClickExt)().mad_enable,d=!0===n.marketEnable||t&&"UnionSDK"===r&&(0,w.getIsGDTUnion)()||1===parseInt(l,10);return!0===d&&(0,A.marketDownloadReport)(c,u),o&&"singletone"!==n.id?((0,A.standardReport)("market_action",{actionId:_.ACTION_ID.OVER_FLOW,actionType:_.ACTION_TYPE.OVER_FLOW,actCode:C.ACT_CODE.MULT_APP}),!1):!(!0!==d||u===a.default.DOWNLOAD_STATUS.DOWNLOADING||u===a.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD||u===a.default.DOWNLOAD_STATUS.COMPLETE_DOWNLOAD||u===a.default.DOWNLOAD_STATUS.INSTALLING||u===a.default.DOWNLOAD_STATUS.INSTALLED||c>0)&&((0,A.standardReport)("market_action",{actionId:_.ACTION_ID.MARKET_ENABLE,actionType:_.ACTION_TYPE.MARKET_ENABLE}),!0)};var r=t||{},i=r.singletone,l=void 0===i||i,d=r.id,p=void 0===d?"singletone":d,h=r.appData,v=void 0===h?null:h;if(this.id=p,this.appData=v||window.viewerData.appData,e["instance_".concat(p)]||(this.init(),e["instance_".concat(p)]=this),!0===l)return e["instance_".concat(p)]}return(0,i.default)(e,[{key:"init",value:function(){var e=this;(0,f.isABTestAdersJumpMobile)(),(0,f.reportDownloadViewContent)(),this.fetchMarketSymbol();var t="1"===(0,c.getParameter)(location.href,"autodownload"),n=(0,f.getExpParams)()||{};if(1!==parseInt(n.qqMarketNoAtd,10)&&1!==parseInt(n.qqYYBNoAtd,10)||(t=!1),(0,g.disableXSAutoDownloadByGdtAdId)()&&(t=!1),((0,f.shouldJumpMobileMarket)(!1)||(0,h.shouldJumpMobileAppMarket)())&&(0,f.beforeUnloadPage)(function(){window.isClickJumpMarket&&(window.isJumpMarketSuccess=!0,window.isClickJumpMarket=!1)}),t&&(0,f.shouldJumpMobileMarket)(!0))(0,f.downloadAppFromMobileMarket)(function(){setTimeout(function(){window.isJumpMarketSuccess?e.initDownloader(!1):(window.isClickJumpMarket=!1,e.initDownloader(!0))},3e3)});else if(t&&(0,h.shouldJumpMobileAppMarket)())(0,h.downloadFromAppMarket)(function(){window.isJumpMarketSuccess?e.initDownloader(!1):(window.isClickJumpMarket=!1,e.initDownloader(!0))});else{var r=t;this.initDownloader(r),t&&k.dmpReport({actionType:p.REPORT_TYPE.AUTO_DOWNLOAD,customAction:p.REPORT_TYPE.AUTO_DOWNLOAD,isStartDownload:this.state.downloadStatus===this.DOWNLOAD_STATUS.DEFAULT||!this.state.downloadStatus,needAutoDownload:r,sample:!0,ratio:.3})}}},{key:"tryAppendDownloadText",value:function(e){var t=e.button,n=e.dom;if(!n.dataset.textModifiedBy){n.dataset.textModifiedBy="components/Common/DownloadManager";var r;switch(t.type){case"downloadButton":-1===(r=n.querySelector(".download-button-text")).innerHTML.indexOf("下载")&&-1===r.innerHTML.indexOf("安装")&&(r.innerHTML="下载APP")}}}},{key:"tryAppendFirstScreenButton",value:function(e){var t=this,n=(e.button,e.dom);if(n&&!(this._triggerDOMList.indexOf(n)>-1)){clearTimeout(this._appendFirstScreenButtonTimer);var r=n.dataset.waitTime||0;this._longestWaitTime=Math.max(r,this._longestWaitTime)+400,this._triggerDOMList.push(n),this._appendFirstScreenButtonTimer=setTimeout(function(){t.executeAppendFirstScreenButton()},this._longestWaitTime)}}},{key:"executeAppendFirstScreenButton",value:function(){this._triggerDOMList,[].some.call(this._triggerDOMList,function(e){return e.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)<=window.innerHeight})||this._hasFirstScreenButtonInit||(new y.default({autoDisplay:!0,onClick:this.handleClick.bind(this,{buttonHasClick:!0}),spaDownloader:this.spaDownloader,DOWNLOAD_STATUS:this.DOWNLOAD_STATUS}),this._hasFirstScreenButtonInit=!0)}},{key:"addDownloadButton",value:function(e,t){var n=this;if(!(e.element||s.default.hasFixProgress&&e.type==d.default.ProgressDownloadButton)){this.downloadButtons[e.type]?this.downloadButtons[e.type].push(e):this.downloadButtons[e.type]=[e],e.init(this.distributeDom(e.type,t));try{this.tryAppendDownloadText({button:e,dom:t})}catch(e){console.warn(e)}"true"==e.element.dataset.sync&&this.addSyncButton(e),this.listenButton(e),this.spaDownloader&&this.spaDownloader.on?this.spaDownloader.on("statusChange",this.onDownloadStatusChange.bind(this),this.id):setTimeout(function(){n.spaDownloader&&n.spaDownloader.on&&n.spaDownloader.on("statusChange",n.onDownloadStatusChange.bind(n),n.id)},g.getObtainDeviceInfoTimeOut+100),this.appData,this.isDistributeEnd}}},{key:"listenButton",value:function(e){e.on(l.default.CLICK,this.handleClick.bind(this))}},{key:"spaDownloaderClick",value:function(){var e=this.state.downloadStatus;if(this.checkMarketEnable()?this.spaDownloader.handleMarketDownload():((0,c.judgeClient)()!==c.judgeClient.SYS.ANDROID||null!==e&&e!==a.default.DOWNLOAD_STATUS.DEFAULT&&e!==a.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD||T.default.show("【".concat(this.appData.name,"】已开始下载，"),"若中断，WIFI网络恢复后将继续下载"),this.spaDownloader.handleDownloadClick(this.id)),this.state.downloadStatus!==this.DOWNLOAD_STATUS.DOWNLOADING){var t=window.innerWidth/window.innerHeight<5/6;(0,I.TdwReportTrigger)({reportName:"xj_play_component"},{action_type:"could_play_ratio|".concat(t)}),E.default.getDownloadTriggerPlayPromise().then(function(e){t&&((0,S.pauseAllVideo)(),e.start())}).catch(function(){}),E.default.getLeadPlayTransformToStartPromise().then(function(e){t&&((0,S.pauseAllVideo)(),e.start())}).catch(function(){})}}},{key:"handleClick",value:function(e,t){var n=this;(this.id,(0,f.handleRewardScanRPT)(e,this.state.downloadStatus),this.state.hasClick=!0,e.type!==d.default.DownloadArea||this.state.downloadStatus!==this.DOWNLOAD_STATUS.DOWNLOADING)&&(k.dmpReport({actionType:p.REPORT_TYPE.DOWNLOAD_CLICK,customAction:p.REPORT_TYPE.DOWNLOAD_CLICK,isStartDownload:this.state.downloadStatus===this.DOWNLOAD_STATUS.DEFAULT||!this.state.downloadStatus,downloadStatus:this.state.downloadStatus}),s.default.permission&&s.default.permission.includes(11)&&k.dmpReport({map:p.REPORT_TYPE_MAPS.NEW_GAME_ORDER}),O.default.sendRPT(O.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),e.type!==d.default.DownloadArea||e.hasProgress?(this.afterClickMoment=!0,setTimeout(function(){n.afterClickMoment=!1},2e3),e.buttonHasClick,this.state.downloadStatus,this.DOWNLOAD_STATUS.DOWNLOADING,(e.buttonHasClick||this.state.downloadStatus!==this.DOWNLOAD_STATUS.DOWNLOADING||t.sync||t.element&&t.element.classList&&t.element.classList.contains("J_InteractiveHiddenButton")>-1)&&this.spaDownloaderClick(),this.addSyncButton(t),this.state.downloadStatus===this.DOWNLOAD_STATUS.DOWNLOADING&&this.syncButtonState(this.state)):this.spaDownloaderClick())}},{key:"syncButtonState",value:function(e){if(this.state.downloadStatus||e.downloadStatus!=this.DOWNLOAD_STATUS.DEFAULT){if(e.downloadStatus==this.DOWNLOAD_STATUS.DOWNLOADING||e.downloadStatus==this.DOWNLOAD_STATUS.PAUSE_DOWNLOAD||e.downloadStatus==this.DOWNLOAD_STATUS.WAITING)this.syncButtons.forEach(function(t){t.updateStatus(e)});else for(var t in this.downloadButtons)t!=d.default.DownloadArea&&this.downloadButtons[t]instanceof Array&&this.downloadButtons[t].forEach(function(t){t.updateStatus(e)});this.state.downloadStatus&&e.downloadStatus==this.DOWNLOAD_STATUS.DEFAULT&&this.reInitSyncButton()}}},{key:"getButtonDomsByType",value:function(e){if(!s.default.hasFixProgress||e!=d.default.ProgressDownloadButton)if(e==d.default.ProgressDownloadButton){var t=document.querySelector("[data-type=".concat(e,"]"));t&&(this.downloadButtonDoms[e]=[t])}else this.downloadButtonDoms[e]=document.querySelectorAll("[data-type=".concat(e,"]"))}},{key:"getAllButtonDoms",value:function(){for(var e in this.downloadButtonDoms={},d.default){var t=d.default[e];this.getButtonDomsByType(t)}}},{key:"distributeDom",value:function(e,t){return this.downloadButtonDoms||this.getAllButtonDoms(),this.downloadButtons[e].length>this.downloadButtonDoms[e].length&&(this.getButtonDomsByType(e),this.defaultSyncButton=null),this.checkDistributeEnd(),e===d.default.ProgressDownloadButton?document.querySelector("[data-type=".concat(e,"]")):t}},{key:"checkDistributeEnd",value:function(){var e=!0;for(var t in d.default){if(!e)break;var n=d.default[t];n!==d.default.MultDownload&&(n!==d.default.DownloadArea&&(s.default.hasFixProgress&&n==d.default.ProgressDownloadButton||(e=this.downloadButtons[n]?this.downloadButtons[n].length==this.downloadButtonDoms[n].length:!(this.downloadButtonDoms[n]&&this.downloadButtonDoms[n].length))))}this.isDistributeEnd=e}},{key:"addSyncButton",value:function(e){!1===e.sync&&(this.syncButtons.push(e),e.sync=!0)}},{key:"isNeedRecover",value:function(e){return!s.default.hasFixProgress&&!e.hasClick&&e.downloadStatus!=this.DOWNLOAD_STATUS.DEFAULT}},{key:"reInitSyncButton",value:function(){var e=[];this.syncButtons.forEach(function(t){t.type==d.default.DownloadButton&&"true"!==t.element.dataset.sync?t.sync=!1:e.push(t),t.buttonHasClick=!1}),this.syncButtons=e}},{key:"onDownloadStatusChange",value:function(e){if(this.id,window.stayDownloadWindow&&e.downloadStatus==this.DOWNLOAD_STATUS.COMPLETE_DOWNLOAD&&window.stayDownloadWindow.close(),e.downloadStatus==this.DOWNLOAD_STATUS.DEFAULT){if((this.afterClickMoment||this.state.downloadStatus==this.DOWNLOAD_STATUS.DEFAULT)&&!e.force)return;this.state.hasClick=!1}this.state.downloadStatus!=this.DOWNLOAD_STATUS.DOWNLOADING&&e.downloadStatus==this.DOWNLOAD_STATUS.DOWNLOADING&&this._tips&&this._tips.show(),e.downloadStatus!=this.DOWNLOAD_STATUS.DOWNLOADING&&this._tips&&this._tips.hide(),e.hasClick=this.state.hasClick,this.syncButtonState(e),this.state.downloadStatus=e.downloadStatus,this.state.statusText=e.statusText,this.state.downloadPercentage=e.downloadPercentage}}],[{key:"getInstnce",value:function(t){return e["instance_".concat(t)]||null}}]),e}();t.default=N},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getExpParams=function(){var e=p().click_ext;if(!e)return null;var t={};try{var n=window.atob(decodeURIComponent(e))||"{}",r=JSON.parse(n)||{},o=r.exp_param,i=o&&o.split(",")||[];i.forEach(function(e){var n=e.split(":");n[0]&&n[1]&&(t["".concat(n[0])]=n[1])})}catch(e){}return t},t.getTid=t.getParameter=t.getPageGlobalUniqueId=t.getGdtAdId=void 0,t.getTraceId=function(){var e=p(),t=e.qz_gdt,n=e.gdt_vid;return t||n||""},t.isInWechat=function(){var e=navigator.userAgent.toLowerCase();return/MicroMessenger/i.test(e)},t.judgeClient=d,t.parseUrl=p,t.updateReportDuration=void 0;var i=r(n(3)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(75)),s=n(40);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(){var e=navigator.userAgent,t=/android/i.test(e)||e.indexOf("Android")>-1||e.indexOf("Adr")>-1,n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return!0===t?d.SYS.ANDROID:!0===n?d.SYS.IOS:d.SYS.PC}function p(){var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(t," "))},o="";window.location&&window.location.search&&"function"==typeof window.location.search.substring&&(o=window.location.search.substring(1));var i={};if(""===o)return{};for(e=n.exec(o);e;)i[r(e[1])]=r(e[2]),e=n.exec(o);try{Object.keys(i).forEach(function(e){["qz_gdt","gdt_vid"].indexOf(e)>-1&&(i[e]=a&&a.UriComponentEncode(i[e]))})}catch(e){console.error(e)}return i}d.SYS={ANDROID:"Android",IOS:"iOS",PC:"PC"};t.updateReportDuration=function(e){try{if(!s.ActionAnalyzer.getPageContext().initialed)return;if(e&&e.events&&e.events.ext){var t=(new Date).getTime()-s.ActionAnalyzer.getPageContext().timestamp.start;return void(e.events.ext.status=l(l({},e.events.ext.status),{},{duration:t}))}}catch(e){console.warn("updateReportDuration failed!")}console.error("fetal error: reportData.events.ext.status not exist!")};var f=t.getParameter=function(e,t){var n=new RegExp("(\\?|#|&)"+t+"=([^&#]*)(&|#|$)"),r=e.match(n);return r?r[2]:""};t.getGdtAdId=function(){return f(location.href,"gdt_ad_id")+""||""},t.getTid=function(){return f(location.href,"ad_id")+""||""},t.getPageGlobalUniqueId=function(){return window.LANDING_PAGE_GLOBAL_UNIQUE_ID?window.LANDING_PAGE_GLOBAL_UNIQUE_ID:(window.LANDING_PAGE_GLOBAL_UNIQUE_ID=(0,s.guid)(),window.LANDING_PAGE_GLOBAL_UNIQUE_ID)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.STATE_VISIBLE=t.STATE_HIDDEN=void 0;var r=t.STATE_VISIBLE="visible",o=t.STATE_HIDDEN="hidden",i={_latestId:-1,_cache:{},onChange:function(e){var t=this._latestId+1;return this._cache[t]={callback:e,lastTimes:{visible:0,hidden:0}},this._tryBindEvent(),this._latestId=t,t},remove:function(e){delete this._cache[e]},onceChange:function(e){var t,n=this;return t=this.onChange(function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.apply(null,o),n.remove(t)})},_shouldCall:function(e,t,n){var r=n-e.lastTimes[t]>=1e3;return r&&(e.lastTimes[t]=n),r},_hasBindEvent:!1,_tryBindEvent:function(){var e=this;this._hasBindEvent||(window.addEventListener("visibilitychange",function(){var t=document.visibilityState||document.webkitVisibilityState||r,n=(new Date).getTime();for(var o in e._cache)e._shouldCall(e._cache[o],t,n)&&e._cache[o].callback.call(null,t)}),window.mqq&&"function"==typeof window.mqq.addEventListener&&window.mqq.addEventListener("qbrowserVisibilityChange",function(t){var n=t.hidden?o:r,i=(new Date).getTime();for(var a in e._cache)e._shouldCall(e._cache[a],n,i)&&e._cache[a].callback.call(null,n)}),window.jssdk&&"function"==typeof window.jssdk.addEventListener&&window.jssdk.addEventListener("browserVisibilityChange",function(t){var n=t.data.visibility?r:o,i=(new Date).getTime();for(var a in e._cache)e._shouldCall(e._cache[a],n,i)&&e._cache[a].callback.call(null,n)}),this._hasBindEvent=!0)}};t.default=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.WX_APP_ID_MAP=t.QLiveMediumIds=t.JSAPI_URL=t.DISABLE_UA_IOS_UNION_VERSION=void 0,t.checkQLiveVersion=function(e,t){var n="0.0.0";if(C()){var r=_.match(/QQLiveBrowser\/(([\d]+).)+/i);if(r&&r.length>0){var o=r[0].split("/");o.length>1&&(n=o[1])}var i=t[e];if(i&&n&&"0.0.0"!==n&&(0,m.default)(n.trim(),i)>=0)return!0}return!1},t.delay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(t){setTimeout(t,e)})},t.generateMiniGamePath=function(){return I.apply(this,arguments)},t.getJumpMiniTips=void 0,t.isQLive=C,t.judgeClient=E,t.loadSDK=function(e){var t=e||b;if(w[t])return(0,p.default)(w[t],{returnPromise:!0});return Promise.resolve()},t.mediaName=void 0;var o=r(n(14)),i=r(n(42)),a=r(n(21)),s=r(n(3)),c=n(13),u=n(2),l=n(25),d=r(n(1)),p=r(n(10)),f=r(n(73)),m=r(n(28)),h=n(7),v=(0,c.parseUrl)(),g=(0,u.parseClickExt)(),y=v&&v.gdt_media_id,A=v&&v.siteset,_=window&&window.navigator&&window.navigator.userAgent,b=t.mediaName=(0,l.getMediaName)({mediaId:y,siteSet:A,userAgent:_,clickExt:g}),w=(t.DISABLE_UA_IOS_UNION_VERSION="4.10.65",t.JSAPI_URL=(0,s.default)((0,s.default)((0,s.default)((0,s.default)((0,s.default)((0,s.default)((0,s.default)((0,s.default)({},l.MEDIA_NAME.QNEWS,"//mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1"),l.MEDIA_NAME.UNION_SDK,"//qzs.gdtimg.com/union/res/union_sdk/page/unjs/un.js"),l.MEDIA_NAME.IOS_UNION_SDK,"//".concat(d.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js")),l.MEDIA_NAME.IOS_UNSURE_MEDIA,"//".concat(d.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js")),l.MEDIA_NAME.IOS_GDT_UNION_SDK,"//".concat(d.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js")),l.MEDIA_NAME.QQ,"//open.mobile.qq.com/sdk/qqapi.wk.js?_bid=152"),l.MEDIA_NAME.IOSQQ,"//open.mobile.qq.com/sdk/qqapi.wk.js?_bid=152"),"".concat(l.MEDIA_NAME.UNION_SDK,"_Android"),"//".concat(d.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/universal-jsapi.js"))),T=t.QLiveMediumIds=["10402353684611","40803343280609"];t.WX_APP_ID_MAP=(0,s.default)((0,s.default)({},l.MEDIA_NAME.QQ,"wxf0a80d0ac2e82aa7"),l.MEDIA_NAME.IOSQQ,"wxf0a80d0ac2e82aa7");function E(){var e=navigator.userAgent,t=/android/i.test(e)||e.indexOf("Android")>-1||e.indexOf("Adr")>-1,n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return!0===t?E.SYS.ANDROID:!0===n?E.SYS.IOS:E.SYS.PC}function S(){return O.apply(this,arguments)}function O(){return(O=(0,a.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,u.getParameter)(location.href,"ad_id")){e.next=3;break}return e.abrupt("return","");case 3:return e.abrupt("return",window.sfetch("".concat(h.backendUrl,"/page/creativeId"),{method:"post",body:JSON.stringify({tid:t}),mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var t="";return 0===e.code&&(t=e.data.creativeData.monitor_query_string||""),0===t.indexOf("?")?t=t.replace("?","&"):t.indexOf("&")>0&&(t="&".concat(t)),t}).catch(function(e){return console.error("getADMinGameMonitorQuery error:",e),""}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){return(I=(0,a.default)(o.default.mark(function e(){var t,n,r,a,s,c,l,d,p,m,h,v=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},n=(0,u.getTraceId)(),r="?qz_gdt=".concat(n,"&gdt_vid=").concat(n,"&aid=").concat((0,u.getGdtAdId)(),"&weixinadinfo=").concat((0,u.getGdtAdId)(),".").concat(n,".0.0"),a=t.monitorText,!t.useMonitor||!a){e.next=9;break}for(s=f.default.parse(a.slice(1)),c=0,l=Object.entries(s);c<l.length;c++)d=(0,i.default)(l[c],2),p=d[0],m=d[1],r+="&".concat(p,"=").concat(m);e.next=13;break;case 9:return e.next=11,S();case 11:(h=e.sent)&&(r+=h);case 13:return console.warn("generateMiniGamePath==",r),e.abrupt("return",r);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(){if(/QQLiveBrowser/i.test(navigator.userAgent)){var e=g.medium_id;if(!T.includes(e))return!1;var t=E();return"QQLiveBrowser_".concat(t)}return!1}E.SYS={ANDROID:"Android",IOS:"iOS",PC:"PC"};var P={adScene:{miniProgram:{disableMedia:"当前流量暂不支持小程序跳转",disableVersion:"当前客户端版本较低，暂不支持小程序跳转，请升级至更高版本",default:"小程序跳转失败"},miniGame:{disableMedia:"当前流量暂不支持小游戏跳转",disableVersion:"当前客户端版本较低，暂不支持小游戏跳转，请升级至更高版本",default:"小游戏跳转失败"}},previewScene:{miniProgram:{disableMedia:"当前流量暂不支持小程序跳转，请用手机QQ体验跳转效果",disableVersion:"当前客户端版本较低，暂不支持小程序跳转，请升级至更高版本",default:"小程序跳转失败"},miniGame:{disableMedia:"当前流量暂不支持小游戏跳转，请用手机QQ体验跳转效果",disableVersion:"当前客户端版本较低，暂不支持小游戏跳转，请升级至更高版本",default:"小游戏跳转失败"}}};t.getJumpMiniTips=function(e){var t=e.data,n=e.jumpRes,r=!(0,u.isPreviewPage)()&&(0,u.getTraceId)()?"adScene":"previewScene",o=t.linkType,i=!1===n.enableMedia?"disableMedia":!1===n.enableVersion?"disableVersion":"default";return P[r][o][i||"default"]}},function(e,t,n){var r=n(137),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Confirm",{enumerable:!0,get:function(){return r.Confirm}}),Object.defineProperty(t,"closeConfirm",{enumerable:!0,get:function(){return r.closeConfirm}}),Object.defineProperty(t,"openConfirm",{enumerable:!0,get:function(){return r.openConfirm}});var r=n(201)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(84));t.default={init:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o.default.create(o.default,e,t)},initMult:function(e,t){o.default.createMult(o.default,e,t)}}},function(e,t,n){var r=n(70)(Object,"create");e.exports=r},function(e,t,n){var r=n(91);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(175);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";var r=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var c=function(){throw new i},u=s?function(){try{return arguments.callee,c}catch(e){try{return s(arguments,"callee").get}catch(e){return c}}}():c,l=n(218)(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?void 0:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?d(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(76),g=n(221),y=v.call(Function.call,Array.prototype.concat),A=v.call(Function.apply,Array.prototype.splice),_=v.call(Function.call,String.prototype.replace),b=v.call(Function.call,String.prototype.slice),w=v.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,S=function(e,t){var n,o=e;if(g(h,o)&&(o="%"+(n=h[o])[0]+"%"),g(m,o)){var s=m[o];if(s===p&&(s=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=d(o.prototype))}return m[t]=n,n}(o)),void 0===s&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:s}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===w(/^%?[^%]*%?$/g,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=b(e,0,1),n=b(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return _(e,T,function(e,t,n,r){o[o.length]=n?_(r,E,"$1"):t||e}),o}(e),o=n.length>0?n[0]:"",a=S("%"+o+"%",t),c=a.name,u=a.value,l=!1,d=a.alias;d&&(o=d[0],A(n,y([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var h=n[p],v=b(h,0,1),O=b(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===O||"'"===O||"`"===O)&&v!==O)throw new r("property names with quotes must have matching quotes");if("constructor"!==h&&f||(l=!0),g(m,c="%"+(o+="."+h)+"%"))u=m[c];else if(null!=u){if(!(h in u)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=n.length){var I=s(u,h);u=(f=!!I)&&"get"in I&&!("originalValue"in I.get)?I.get:u[h]}else f=g(u,h),u=u[h];f&&!l&&(m[c]=u)}}return u}},function(e,t,n){"use strict";e.exports=n(96)()?Object.setPrototypeOf:n(97)},function(e,t,n){"use strict";e.exports=n(260)()?globalThis:n(261)},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===o}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===o)||!1}},function(e,t,n){"use strict";var r=n(292),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,c=n(294)(),u=s&&c,l=function(e,t,n,r){var o;t in e&&("function"!=typeof(o=r)||"[object Function]"!==i.call(o)||!r())||(u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)l(e,i[s],t[i[s]],n[i[s]])};d.supportsDescriptors=!!u,e.exports=d},function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a="[object Function]",s="[object GeneratorFunction]",c="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,v="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,y=v||g||Function("return this")();var A,_=Array.prototype,b=Function.prototype,w=Object.prototype,T=y["__core-js_shared__"],E=(A=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",S=b.toString,O=w.hasOwnProperty,I=w.toString,C=RegExp("^"+S.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=y.Symbol,k=_.splice,x=W(y,"Map"),N=W(Object,"create"),D=P?P.prototype:void 0,R=D?D.toString:void 0;function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e,t,n){var r=e[t];O.call(e,t)&&Q(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function U(e,t){for(var n=e.length;n--;)if(Q(e[n][0],t))return n;return-1}function F(e){return!(!z(e)||E&&E in e)&&(function(e){var t=z(e)?I.call(e):"";return t==a||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:m).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function G(e,t,n,r){if(!z(e))return e;for(var o=-1,i=(t=function(e,t){if(Y(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||K(e))return!0;return l.test(e)||!u.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return Y(e)?e:V(e)}(t)).length,a=i-1,s=e;null!=s&&++o<i;){var c=X(t[o]),d=n;if(o!=a){var p=s[c];void 0===(d=r?r(p,c,s):void 0)&&(d=z(p)?p:H(t[o+1])?[]:{})}B(s,c,d),s=s[c]}return e}function q(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function W(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return F(n)?n:void 0}function H(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||h.test(e))&&e>-1&&e%1==0&&e<t}j.prototype.clear=function(){this.__data__=N?N(null):{}},j.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},j.prototype.get=function(e){var t=this.__data__;if(N){var n=t[e];return n===r?void 0:n}return O.call(t,e)?t[e]:void 0},j.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:O.call(t,e)},j.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?r:t,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(e){var t=this.__data__,n=U(t,e);return!(n<0||(n==t.length-1?t.pop():k.call(t,n,1),0))},L.prototype.get=function(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]},L.prototype.has=function(e){return U(this.__data__,e)>-1},L.prototype.set=function(e,t){var n=this.__data__,r=U(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},M.prototype.clear=function(){this.__data__={hash:new j,map:new(x||L),string:new j}},M.prototype.delete=function(e){return q(this,e).delete(e)},M.prototype.get=function(e){return q(this,e).get(e)},M.prototype.has=function(e){return q(this,e).has(e)},M.prototype.set=function(e,t){return q(this,e).set(e,t),this};var V=J(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(K(e))return R?R.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var n=[];return d.test(e)&&n.push(""),e.replace(p,function(e,t,r,o){n.push(r?o.replace(f,"$1"):t||e)}),n});function X(e){if("string"==typeof e||K(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function J(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(J.Cache||M),r}function Q(e,t){return e===t||e!=e&&t!=t}J.Cache=M;var Y=Array.isArray;function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function K(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&I.call(e)==c}e.exports=function(e,t,n){return null==e?e:G(e,t,n)}}).call(this,n(45))},function(e,t,n){var r=n(193),o=n(194),i=n(195),a=n(196);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(197);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.XJComponent=t.TdwStandardReport=void 0;var o=r(n(3)),i=r(n(4)),a=r(n(5)),s=r(n(1)),c=n(121),u=n(2);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=n(44),f=p.judgeClient,m=p.isInWechat,h=p.parseUrl,v=p.updateReportDuration,g=p.getGdtAdId,y=p.getTid;var A={PC:0,iOS:1,Android:2},_=["XJRiskTip","XJAPPInfo"],b=["XJWeChatAttention","XJWebForm","XJWechatService"],w=(t.TdwStandardReport=function(){function e(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,i.default)(this,e),this.componentList=[],this.waitReportList=[],this.clickReport=this.clickReport.bind(this),this.reportAsync=this.reportAsync.bind(this),s.default.isLite||this.init()}return(0,a.default)(e,[{key:"getXjComponent",value:function(e){return new w(e)}},{key:"init",value:function(){var e,t,n,r=this;try{var o=document.querySelectorAll(".xj-component-report");Array.from(o).forEach(function(e){r.componentList.push(r.getXjComponent(e))}),document.addEventListener("scroll",(e=this.scrollHandler.bind(this),t=1e3,n=null,function(){n&&clearTimeout(n),n=setTimeout(e,t)})),setTimeout(function(){r.scrollHandler()},1e3),window.addEventListener("beforeunload",this.reportAsync),window.addEventListener("unload",this.reportAsync)}catch(e){console.error("tdwStandardReport init error: ",e)}}},{key:"reportAsync",value:function(){var e=this.waitReportList;e&&e.length>0&&(this.report(e),this.waitReportList=[])}},{key:"generatorParams",value:function(e){var t=s.default.pageId,n=h(),r=n.qz_gdt,o=n.gdt_vid,i=n.isPrivateTraffic,a=n.code,c=f(),u=A[c]||0,l=e.status||{};return{os:u,sdk_st:10,events:{ei:e.ei||"",vl:1,ts:(new Date).getTime(),biz:Object.assign({traceid:r||o,cmp_type:e.cmp_type||e.name,cmp_id:e.cmp_id||e.id,is_auto_save:e.is_auto_save,submit_fail_reason:e.submit_fail_reason},e.biz),ext:{pageid:t,formid:e.formid||0,action_type:e.action_type||"",functype:e.functype||void 0,status:d({isPrivateTraffic:i,weChatAuthCode:!!a,isWeChat:m(),weChatOpenId:s.default.wxUserOpenId,trace_url:location.href,accountId:s.default.accountId,ad_id:g(),tid:y()},l)}}}}},{key:"generateMultiParams",value:function(e){var t=[e];switch(e.name){case"XJWebForm":var n=e.dom.querySelector("form").dataset.id;e.formid=n,e.status={state:1},e.hasJumpLink&&(t[0].hasJumpLink=!1,t.push(Object.assign({},e,{hasJumpLink:!0})))}return t}},{key:"processViewActionType",value:function(e){var t,n=d({},e);switch(n.name){case"XJWebForm":n.action_type="view_form";break;case"XJWeChatAttention":(t=e.dom&&e.dom.querySelector(".xj-wx-attention")||"")&&t.dataset&&t.dataset.hasOwnProperty("packagetype")&&"MICRO_PROGRAM"===t.dataset.packagetype?n.action_type="miniapp_forward_h5_view":t&&t.dataset&&"WECOM"===t.dataset.wechattype?n.action_type="etp_attention_xj_view":n.action_type="wechat_attention_view";break;case"XJWechatService":n.action_type="landing_page_view"}return n.hasJumpLink&&(n.action_type="landing_page_view"),n}},{key:"enableReport",value:function(e){return!_.includes(e.name)&&("ios-app-h5"===s.default.pageType||"android-app-h5"===s.default.pageType||"ott-h5"===s.default.pageType||("website-h5"!==s.default.pageType||(!!e.hasJumpLink||b.includes(e.name))))}},{key:"scrollHandler",value:function(){var e=this;try{this.componentList.map(function(t){return!t.hasView&&t.checkEffectiveExposure()&&e.enableReport(t)?e.generateMultiParams(t.getInfo()):null}).flat().filter(function(e){return!!e}).map(function(t){var n=e.processViewActionType(t);return e.generatorParams({ei:"4007000",cmp_id:n.id,cmp_type:n.name,action_type:n.action_type||"view_module",formid:n.formid,status:n.status||{},cmp_jump_type:n.jumpTypes||[]})}).forEach(function(t){e.waitReportList.push(t)}),window.requestIdleCallback(this.reportAsync,{timeout:1500})}catch(e){console.error("页面滚动时间上报粗错: ",e)}}},{key:"report",value:function(e){try{return c.xjCommonReporter.report(e,{force:!0})}catch(e){var t="tdwStandardReport report error: "+e.message;return console.error(t,e),Promise.reject(t)}}},{key:"clickReport",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=e.target&&!e.reportName,o=[];if(r){var i=(0,u.extractParamsFromDom)(e);if(!i||!i.reportId)return void console.error("未从上报列表中提取到信息 ",i,e,t);o=this.componentList.filter(function(e){return e.id==i.reportId})}else e.reportName&&o.push({name:e.reportName,id:e.reportId||"".concat(e.reportName,"_").concat(+new Date)});if(o.length>0){var a=this.generatorParams(Object.assign({},o[0],t));if(v(a),n)return this.report([a]);this.waitReportList.push(a),window.requestIdleCallback(this.reportAsync,{timeout:1500})}else console.error("未找到相应的组件, id: ",o,"param: ",t)}catch(e){console.error("TdwReportTrigger error: ",e)}}}]),e}(),t.XJComponent=function(){function e(t){(0,i.default)(this,e);var n=t.dataset,r=n.reportId,o=n.reportName,a=n.hasJumpLink;try{var s=JSON.parse(a);a=Array.isArray(s)?!!s[0]:!!s}catch(e){a=!1,console.error("enableJumpLink 解析错误")}this.id=r,this.name=o,this.hasView=!1,this.hasJumpLink=a,this.dom=t.querySelector("*")||t,t.dataset.hasOwnProperty("index")&&(this.index=t.dataset.index)}return(0,a.default)(e,[{key:"getInfo",value:function(){return{dom:this.dom,id:this.id,name:this.name,hasView:this.hasView,effectiveExposure:this.checkEffectiveExposure(),index:this.index,hasJumpLink:this.hasJumpLink}}},{key:"checkEffectiveExposure",value:function(){var e=document.documentElement.clientHeight,t=this.dom.getBoundingClientRect(),n=t.bottom>t.height/2&&e-t.top>t.height/2;return n&&(this.hasView=!0),n}}]),e}())},function(e,t,n){var r=n(86),o=n(124),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getAccount=y,t.getAdID=function(){return(0,c.getParameter)(location.href,"gdt_ad_id")||""},t.getAppData=function(){return!(!l.default||!l.default.appData)&&l.default.appData},t.getClickId=void 0,t.getMarket=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Object.keys(e),o=b(r,t);return o||b(r,n)}},t.getMarketPackageNames=function(e){var t=s.MARKET_PACKAGE_NAMES[e];return void 0!==t&&t},t.getMediaId=v,t.getMediaName=void 0,t.getPackageName=function(){if((0,u.getManufacturerDownloadEnable)())return h();return m()},t.getPackageNameByViewerData=h,t.getPackageNameByWhiteList=m,t.isArray=f,t.isAutoDownload=function(){return!1},t.isSupportXSMarket=function(){var e=v();return s.XS_APP_MEDIAS.indexOf(e)>-1},t.marketRPTReport=t.marketGXTReport=void 0,t.openAppStoreFailSetDownloadGlobalValue=function(){window.isJumpMarketSuccess=!1,window.isNeedYYBDownload=!0,window.isClickJumpMarket=!1},t.openAppStoreSuccessSetDownloadGlobalValue=function(){window.isJumpMarketSuccess=!0,window.isNeedYYBDownload=!1},t.reportObtainDeviceInfo=function(e,t){window.tianqinReport&&window.tianqinReport({type:"GXT",data:{attr:e,val:1,count:1,brand:t.brand,model:t.model,manufacturer:t.manufacturer,click_id:g(),account_id:y()}})},t.reportXSMobileMarketGXT=A,t.setLaunchParams=function(e,t,n){var r=[];return!(!f(e)||!f(t))&&(t.forEach(function(t){e.forEach(function(e){r.push({uri:t,package:e})})}),{launch_params:r,time_threshold:n||1e3})};var o=r(n(3)),i=r(n(72)),a=n(13),s=n(68),c=n(2),u=n(15),l=r(n(1)),d=(n(118),["brand","model","manufacturer"]);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(){return l.default.xsOppoABTestAdverId[l.default.accountId]}function h(){return l.default.appData.packageName||""}function v(){return(0,c.getParameter)(location.href,"gdt_media_id")}var g=t.getClickId=function(){var e=(0,a.parseUrl)();return e.qz_gdt||e.gdt_vid||""};function y(){return l.default.accountId}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.brand,r=t.model,a=t.manufacturer,s=(0,i.default)(t,d);window.tianqinReport&&window.tianqinReport({type:"GXT",data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({attr:e,val:1,count:1,click_id:g(),account_id:y(),media_name:_(),experiment_str:(0,c.parseClickExt)().exp_param,brand:n,model:r,manufacturer:a},s)})}t.marketGXTReport=A;t.marketRPTReport=function(e){var t=g();if(e&&t){var n="http://rpt.gdt.qq.com/landing_page_xj?click_id=".concat(t,"&pa=").concat(e);return(new Image).src=n,!0}};var _=t.getMediaName=function(){return l.default.mediaName};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";return t=t.toLowerCase(),e.forEach(function(e){var r=e.toLowerCase();-1!==t.indexOf(r)&&0===n.length&&(n=r)}),n}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaName=t.getMediaAPPToken=t.getMediaAPPName=t.XS_APP_MEDIAS=t.MarketToUri=t.MEDIA_TO_TOKEN_NAME=t.MARKET_PACKAGE_NAMES=t.GENERAL_BRAND_TO_MARKET=void 0;var o=r(n(3)),i=(t.XS_APP_MEDIAS=["40803343280609","10102373586482","90802410847906"],n(89).PAGE_VIEWER),a=(t.GENERAL_BRAND_TO_MARKET=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},"HUAWEI","huawei"),"HONOR","honor"),"OPPO","oppo"),"XIAOMI","xiaomi"),"VIVO","vivo"),t.MARKET_PACKAGE_NAMES={huawei:["com.huawei.appmarket"],honor:["com.huawei.appmarket"],oppo:["com.heytap.market","com.oppo.market"],xiaomi:["com.xiaomi.market"],vivo:["com.bbk.appstore"]},t.MarketToUri=function(e,t){var n=u(),r=s(n),o=c(n),i={huawei:["appmarket://details?id=".concat(t)],honor:["appmarket://details?id=".concat(t)],xiaomi:["mimarket://details?id=".concat(t),"market://details?id=".concat(t)],oppo:["market://details?id=".concat(t,"&caller=").concat(r,"&token=").concat(o,"&atd=true&style=1")],vivo:["market://details?id=".concat(t),"vivomarket://details?id=".concat(t)]}[e];return i||!1},t.MEDIA_TO_TOKEN_NAME={QLIVE:{appName:"com.tencent.qqlive",token:i.QLIVE_TOKEN},QNEWS:{appName:"com.tencent.news",token:i.QNEWS_TOKEN},QQ:{appName:"com.tencent.mobileqq",token:i.QQ_TOKEN}}),s=t.getMediaAPPName=function(e){return a[e].appName},c=t.getMediaAPPToken=function(e){return a[e].token},u=t.getMediaName=function(){return viewerData.mediaName}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(230);var o=r(n(231));t.default=o.default},function(e,t,n){var r=n(158),o=n(161);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(212);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";var r=n(216),o=n(225),i=n(78);e.exports={formats:i,parse:o,stringify:r}},function(e,t,n){var r=n(50).Symbol;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlAttributeEncode=function(e){return e=(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")).replace(/=/g,"&#61;")).replace(/`/g,"&#96;")},t.HtmlEncode=function(e){return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")},t.HtmlUnEncode=function(e){return e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")},t.UriComponentEncode=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=encodeURIComponent(e)).replace(/~/g,"%7E")).replace(/!/g,"%21")).replace(/\*/g,"%2A")).replace(/\(/g,"%28")).replace(/\)/g,"%29")).replace(/'/g,"%27")).replace(/\?/g,"%3F")).replace(/;/g,"%3B")},t.VaildURL=function(e){return!!(/^(https?:\/\/)?[\w\-.]+\.(qq|taotao)\.com($|\/|\\)/i.test(e)||/^[\w][\w\/\.\-_%]+$/i.test(e)||/^[\/\\][^\/\\]/i.test(e))},String.prototype.escHtmlEp=function(){return this.replace(/[&'"<>\/\\\-\x00-\x1f\x80-\xff]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},String.prototype.escHtml=function(){return this.replace(/[&'"<>\/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/\r\n/g,"<BR>").replace(/\n/g,"<BR>").replace(/\r/g,"<BR>").replace(/ /g,"&nbsp;")},String.prototype.escScript=function(){return this.replace(/[\\"']/g,function(e){return"\\"+e}).replace(/%/g,"\\x25").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\x01/g,"\\x01")},String.prototype.escUrl=function(){return escape(this).replace(/\+/g,"%2B")},String.prototype.escHrefScript=function(){return this.escScript().escMiniUrl().escHtmlEp()},String.prototype.escRegexp=function(){return this.replace(/[\\\^\$\*\+\?\{\}\.\(\)\[\]]/g,function(e,t){return"\\"+e})}},function(e,t,n){"use strict";var r=n(220);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(76),o=n(56),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(r,a,arguments);c&&u&&(c(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}));return t};var d=function(){return s(r,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:a}},function(e,t,n){"use strict";var r=n(39),o={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!r(e)&&hasOwnProperty.call(o,typeof e)}},function(e,t,n){"use strict";e.exports=n(251)()?Object.assign:n(252)},function(e,t,n){"use strict";var r,o=n(94),i=n(80),a=n(31),s=n(23),c=n(16),u=n(271),l=n(29),d=Object.defineProperty,p=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");p(this,{__list__:c("w",s(e)),__context__:c("w",t),__nextIndex__:c("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,p(r.prototype,i({_next:c(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:c(function(){return this._createResult(this._next())}),_createResult:c(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:c(function(e){return this.__list__[e]}),_unBind:c(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:c(function(){return"[object "+(this[l.toStringTag]||"Object")+"]"})},u({_onAdd:c(function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)):d(this,"__redo__",c("c",[e])))}),_onDelete:c(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:c(function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,l.iterator,c(function(){return this}))},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=JSON.parse('{"staticVersion":"2.11.08201825","loaderVersion":"1.3.0","iconVersion":"3.0.3","libVersion":6,"downloaderVersion":"1.53.24","spaPageMedias":"1.28.4","spaPageNetworkVersion":"1.6.3","severModifiedTime":"2019092311","webpackOutputSuffix":""}')},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=n(12),s=n(11),c=r(n(32)),u=r(n(43)),l=r(n(126)),d=r(n(122)),p=r(n(20)),f=r(n(1)),m=n(15),h=n(132);n(328);var v=n(13),g=n(51),y=r(n(301)),A=r(n(317)),_=n(2),b=r(n(22)),w=r(n(26)),T=n(114),E=r(n(333)),S=r(n(334)),O=r(n(69)),I=r(n(335)),C=null,P=function(){function e(t){var n=this;(0,o.default)(this,e),this.buttonHasClick=!1,this.downloaderManager=null,this.element=null,this.evts={},this.hasShowProgress=!1,this.reporter=new a.Report,this.id=null,this.sync=!1,this.hasBehavior=!1,this.publishDownloadEvent=function(){n.emit(d.default.CLICK,{buttonHasClick:n.buttonHasClick},n),n.buttonHasClick=!0};var r=t||{},i=r.type,s=void 0===i?p.default.DownloadButton:i,c=r.id,u=void 0===c?"singletone":c;this.type=s,this.id=u,document.addEventListener("touchstart",function(){n.hasBehavior=!0},!0),(0,E.default)({successCallback:function(){n.publishDownloadEvent()}})}return(0,i.default)(e,[{key:"init",value:function(e){e&&(this.element=e,"ZIP_INTERACTION"===f.default.playableType&&"click"!==this.element.dataset.forceDownloadClickType?w.default.on(this.element,"tap",this.onClick.bind(this)):this.element.onclick=this.onClick.bind(this),this.initProgress(e))}},{key:"initProgress",value:function(e){this.progress=new l.default(e)}},{key:"report",value:function(){this.reporter.dmpReport({actionType:a.REPORT_TYPE.DOWNLOAD_CLICK,customAction:a.REPORT_TYPE.DOWNLOAD_CLICK,isFirstClick:!this.buttonHasClick})}},{key:"reportGXTWUJI",value:function(e,t,n){window.tianqinReport&&window.tianqinReport({type:"GXT",data:{attr:"viewer_wuji_rate",wuji_key:"hotAreaDownloadConfirm",val:Date.now()-n,code:e,media_id:t,render_style:"JS"}})}},{key:"hasIframePage",value:function(){var e=!1;try{["HOMEMADE_INTERACTION"].includes(f.default.playableType)&&(e=!0)}catch(e){}return e}},{key:"isForceConfirmAndAndroidApp",value:function(e){try{var t=(e=e||window.event).target||e.srcElement,n=void 0!==this.getClosestDataset(t,"forceConfirm");return this.getMayHasAndroidApp()&&n}catch(e){return!0}}},{key:"isDisbaleCancelTooltip",value:function(e){if("DEFAULT"!==f.default.playableType&&""!==f.default.playableType)return!0;try{return void 0!==this.getClosestDataset(e,"disableCancelTooltip")}catch(e){return!1}}},{key:"getClosestDataset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"xj-margin-wrapper";return void 0!==e.dataset[t]?e.dataset[t]:"BODY"===e.tagName||e.classList.contains(n)?void 0:this.getClosestDataset(e.parentNode,t,n)}},{key:"getMayHasAndroidApp",value:function(){return/android|ott/i.test(window.viewerData.pageType)}},{key:"getHasBehavior",value:function(){return this.hasBehavior}},{key:"shouldConfirmBeforeDownload",value:function(e){var t=this;return new Promise(function(n,r){if("DEFAULT"!==f.default.playableType&&t.getMayHasAndroidApp()&&b.default.getIsGDTUnionMinVersion())t.getHasBehavior()?n(!1):n(!0);else if("yes"===f.default.hotAreaDownloadConfirm||t.isForceConfirmAndAndroidApp(e))n(!0);else if("no"===f.default.hotAreaDownloadConfirm)n(!1);else{var o=Date.now(),i=parseInt((0,v.parseUrl)().gdt_media_id,10);window.sfetch("https://v.qq.com/cache/wuji_public/object/5f4093deaeae1e012933ec2a?appid=xjFrontEnd&schemaid=featureAllowList&schemakey=3c854b6f9e3c452898983669512760c0").then(function(e){return e.json()}).then(function(e){return JSON.parse(e.data.UIDList)}).then(function(e){var t=e.indexOf(i)>-1;(0,_.reportGXTWUJI)(0,o),f.default.hotAreaDownloadConfirm=t?"yes":"no",n(t)}).catch(function(e){(0,_.reportGXTWUJI)(1,o),n(!0)})}})}},{key:"shouldDisplayGiftModal",value:function(){var e=this;return new Promise(function(t,n){u.default.getInstnce(e.id).getState().downloadStatus&&u.default.getInstnce(e.id).getState().downloadStatus!==c.default.DOWNLOAD_STATUS.DEFAULT&&u.default.getInstnce(e.id).getState().downloadStatus!==c.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD?(t(!1),y.default.displayEnable=!1):y.default.displayEnable=!0})}},{key:"shouldEmitOnClick",value:function(){return!0}},{key:"onClick",value:function(e){var t=this,n=(0,v.parseUrl)()||{},r=parseInt(n.xj_pos_type,10);if((0,_.getTraceId)()&&2!==r&&5!==r||(0,S.default)()){try{var o=u.default.getInstnce(this.id),i=!!document.querySelector(".mult-app-panel"),a=o.appData?o.appData.appId:f.default.appData.appId,l=i?f.default.multAppData.findIndex(function(e){return e.appData.appId===a}):-1;(0,s.TdwReportTrigger)(e,{action_type:"click_module",ei:"4007001",status:{isMultApp:i,appid:a,download_status:o.getState().downloadStatus,appIndex:l+1}}),i&&(0,s.TdwReportTrigger)(e,{action_type:"xj_multi_app_click",status:{appid:a,download_status:o.getState().downloadStatus,appIndex:l+1}})}catch(e){console.error("download click report error",e)}if(this.shouldEmitOnClick(e)){var d=e&&e.target&&e.target.className?e.target.className:null;this.shouldConfirmBeforeDownload(e).then(function(n){var r=(0,v.parseUrl)().gdt_media_id;if(n&&(null===u.default.getInstnce(t.id).getState().downloadStatus||u.default.getInstnce(t.id).getState().downloadStatus===c.default.DOWNLOAD_STATUS.DEFAULT||u.default.getInstnce(t.id).getState().downloadStatus===c.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD||void 0!==b.default.getSceneType()&&!t.getHasBehavior())){var o=function(){t.originClick(e)};C?C.refresh({onCancel:o,title:"是否下载".concat(u.default.getInstnce(t.id).appData.name)}):C=new g.Confirm({title:"是否下载".concat(u.default.getInstnce(t.id).appData.name),hideTitle:!1,content:"",closeable:!1,mask:!0,maskCloseAble:!1,visible:!0,zIndex:1e3,okText:"取消",cancelText:"确认",singleAndCoverBtn:!1,wrapClassName:"apple-style-confirm",onCancel:o,onOk:function(){}}),C.open()}else if(u.default.getInstnce(t.id).getState().downloadStatus!==c.default.DOWNLOAD_STATUS.DOWNLOADING&&u.default.getInstnce(t.id).getState().downloadStatus!==c.default.DOWNLOAD_STATUS.WAITING||"xj-download-area"===d)t.originClick(e);else{window.viewerUtils&&window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_STAY_MODAL_EXPOSURE);var i=function(){t.originClick(e),(0,_.gxtReport)("xj_stay_download_modal_rate",{code:1,media_id:r}),window.viewerUtils&&window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_STAY_MODAL_DOWNLOAD_PAUSE)},a=function(){!1!==t._checkCancelEnable()&&u.default.getInstnce(t.id).spaDownloader.handleCancelClick()};window.stayDownloadWindow?window.stayDownloadWindow.refresh({onCancel:i,onHandleFeature:a}):window.stayDownloadWindow=new g.Confirm({hideTitle:!0,content:'<img class="xj-modal-body-icon" src="//'.concat(f.default.cdnHost,'/qzone/biz/gdt/lib/xijing/viewer/cdn/img/download.svg"/><div>确定要放弃吗？</div><div>应用即将完成下载哦~</div>'),closeable:!1,bottomCloseAble:!0,mask:!0,maskCloseAble:!1,visible:!0,zIndex:10001,cancelText:"继续下载",okText:"暂停下载",featureBtnText:t._checkCancelEnable()?"取消下载":null,noHeader:!0,singleAndCoverBtn:!1,wrapClassName:"stay-download-modal",onCancel:i,onClose:function(){(0,_.gxtReport)("xj_stay_download_modal_rate",{code:0,media_id:r}),window.viewerUtils&&window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_STAY_MODAL_CLOSE)},onOk:function(){(0,_.gxtReport)("xj_stay_download_modal_rate",{code:0,media_id:r}),window.viewerUtils&&window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_STAY_MODAL_DOWNLOAD_CONTINUE)},onHandleFeature:a}),window.stayDownloadWindow.open(),t.originClick(e)}})}}}},{key:"_clipboard",value:function(){var e=f.default.clipboardConfig;e&&e.enable&&(0,_.copyText)(e.content,function(){e.toastEnable&&e.toast&&O.default.success(e.toast),e.content},function(){e.content})}},{key:"_checkCancelEnable",value:function(){var e=(0,_.judgeClient)()===_.judgeClient.SYS.ANDROID,t=u.default.getInstnce(this.id).cancelEnable;return console.warn("_checkCancelEnable===",e,t),e&&t}},{key:"originClick",value:function(e){var t=this,n=e.target||e.srcElement,r=(0,T.getDeeplink)(f.default,n),o=r.uLink,i=r.dLink,a=(0,T.getHaplink)(f.default),s=u.default.getInstnce(this.id).getState().downloadStatus,l=s===c.default.DOWNLOAD_STATUS.INSTALLED;this.shouldDisplayGiftModal(),s!==c.default.DOWNLOAD_STATUS.DOWNLOADING&&this._clipboard(),s!==c.default.DOWNLOAD_STATUS.DEFAULT&&s!==c.default.DOWNLOAD_STATUS.PAUSE_DOWNLOAD||this._checkCancelEnable()&&!this.isDisbaleCancelTooltip(n)&&(u.default.getInstnce(this.id)._tips||(u.default.getInstnce(this.id)._tips=new I.default(this.id,e)),u.default.getInstnce(this.id)._tips.init(e)),(o||i)&&(0,T.shouldOpenULink)()&&"singletone"===this.id?(0,T.openLinks)({uLink:o,dLink:i},this.publishDownloadEvent.bind(this)):i&&(0,T.shouldOpenDeeplink)(l)&&"singletone"===this.id?(0,T.openDeeplink)(i,this.publishDownloadEvent.bind(this)):a&&(0,T.shouldOpenHaplink)()&&"singletone"===this.id?(0,T.checkAndJumpQuickApp)({hapLink:a},e,this.publishDownloadEvent.bind(this)):(0,m.shouldJumpMobileMarket)(!0)?(0,m.downloadAppFromMobileMarket)(function(){setTimeout(function(){window.isJumpMarketSuccess||(window.isClickJumpMarket=!1,t.publishDownloadEvent())},3e3)}):(0,h.shouldJumpMobileAppMarket)()?(0,h.downloadFromAppMarket)(function(){window.isJumpMarketSuccess||(window.isClickJumpMarket=!1,t.publishDownloadEvent())}):this.publishDownloadEvent()}},{key:"on",value:function(e,t){this.evts[e]||(this.evts[e]=[]),this.evts[e].push(t)}},{key:"emit",value:function(e,t,n){this.evts[e]&&this.evts[e].forEach(function(e){e(t,n)})}},{key:"updateStatus",value:function(e){this.progress&&this.progress.setState(e)}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new u.default,o=document.querySelectorAll("[data-type=".concat(e.type,"]")),i=r.downloadButtons[e.type];[].forEach.call(o,function(t){var n=i&&function(e,t){for(var n=!1,r=0;r<t.length;r++)if(t[r].element===e){n=!0;break}return n}(t,i);t.dataset.isInit&&n||(r.addDownloadButton(new e({type:e.type,downloadManager:r}),t),t.dataset.isInit="true")});try{var a=document.querySelectorAll("[data-type=".concat(p.default.DownloadButton,"]"));[].forEach.call(a,function(e,n){var r=e.dataset,o=r.giftId,i=r.componentId,a=r.giftModalInited;t&&o&&!a&&(new y.default("[data-type=".concat(p.default.DownloadButton,"][data-component-id='").concat(i,"']"),o),e.dataset.giftModalInited="true")})}catch(e){}try{var s=document.querySelectorAll("[data-type=".concat(e.type,"]")),c=document.querySelector(".mult-app__modal");[].forEach.call(s,function(t,r){var o=t.dataset.componentId;if(n&&c){(e.type===p.default.DownloadArea?t.querySelectorAll(".xj-download-area"):document.querySelectorAll("[data-type=".concat(e.type,"][data-component-id='").concat(o,"']"))).forEach(function(e){e.multAppModalInited||(new A.default(e),e.dataset.multAppModalInited=!0)})}})}catch(e){}}},{key:"createMult",value:function(e,t,n){var r=n.signatureMd5||n.appId;new u.default({id:r,appData:n,singletone:!1}).addDownloadButton(new e({id:r,type:p.default.MultDownload}),t)}}]),e}();P.type=p.default.DownloadButton;t.default=P},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(226));t.default=o.default},function(e,t,n){var r=n(74),o=n(149),i=n(150),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?o(e):i(e)}},function(e,t,n){"use strict";var r=n(0)(n(6)),o={DEFAULT:"DEFAULT",HOMEMADE_INTERACTION:"HOMEMADE_INTERACTION",INTERACTIVE:"MINIGAME_INTERACTION",VIDEO_INTERACTION:"VIDEO_INTERACTION",WEBSITE_INTERACTION:"WEBSITE_INTERACTION",ZIP_INTERACTION:"ZIP_INTERACTION",PLAY_COMPONENT:"PLAY_COMPONENT",CMS_ZIP_INTERACTION:"CMS_ZIP_INTERACTION"},i=function(e){return(e/375*10).toFixed(4)},a={isGamePlayerPage:function(e){return e.toUpperCase()===o.INTERACTIVE},PLAYABLE_TYPE:o,hasAndroidAppPage:function(e){var t=e.toUpperCase();return t.indexOf("ANDROID-APP-H5")>=0||t.indexOf("XJ-DEFAULT-H5")>=0},initUuid:function(e,t){var n,r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(t=t||o.length,e)for(n=0;n<e;n++)i[n]=o[0|Math.random()*t];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",n=0;n<36;n++)i[n]||(r=0|16*Math.random(),i[n]=o[19==n?3&r|8:r]);return i.join("")},pxToRem:i,pxToRemOrVwWithUnit:function(e,t){return t===o.ZIP_INTERACTION?(e/375*100).toFixed(4)+"vw":i(e)+"rem"},nativePxToRem:function(e){return 10*(e/1080).toFixed(4)},floorValue:function(e){return Math.floor(e)},formatNumberToM:function(e,t){return t||(t=2),(Number(e)/1048576).toFixed(t)},formatNumberToChineseUnit:function(e,t){var n=function(e){return e.toString().split(".")[0].length-1},r=function(e,r,o,i){var a=n(e);if(a>3){var s=a%8;return s>=5&&(s=4),Math.round(r/Math.pow(10,s+o-i))/Math.pow(10,t)+"万"}return Math.round(r/Math.pow(10,o-i))/Math.pow(10,i)};t=null==t?2:t;var o=Math.floor(e),i=n(o),a=[];if(i>3){var s=Math.floor(i/8);if(s>=1){var c=Math.round(o/Math.pow(10,8*s));a.push(r(c,e,8*s,t));for(var u=0;u<s;u++)a.push("亿");return a.join("")}return r(o,e,0,t)}return e},caluHeight:function(e,t){return i(375/e*t)},formatPrice:function(e){return Number.parseFloat(e/100).toFixed(2)},getUniqIndex:function(e){try{return"uniq_index_"+(e.index++).toString()}catch(e){return""}},getBreathStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"button",n="";if(!e)return n;if(void 0!==e.type&&"gesture"===e.type)return"";var o=.5;if("object"===(0,r.default)(e)&&e.isOn){if("bubble"===t)return n="animation: bubbleBreath 4s ease-in-out 0s infinite";switch(e.frequency){case"strong":o=.3;break;case"light":o=.8;break;default:o=.5}n="animation: breath "+o+"s ease-in-out 0s infinite alternate;"}return n},getConversionLinkType:function(){return["form","link","landingPage","online","advisory","miniProgram","hapLink","miniGame"]},alwaysShowIcpNumber:function(e){return e&&e.indexOf(16)>-1}};e.exports=a},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECTION=void 0,t.default=function(){var e=document.querySelectorAll(".xj-video"),t=location.pathname.indexOf("/xjviewer/preview")>-1;[].forEach.call(e,function(e,n){if(!e.getAttribute("initialed")){e.setAttribute("initialed","true"),-1===l.default.pageType.toLowerCase().indexOf("website")&&l.default.pageType.toLowerCase().indexOf("h5")>-1&&u.default.init();var r=e.dataset.videoType;if(!t||"local"!==r){var o=e.querySelector(".video-before-init"),i=e.querySelector(".data-video"),s=Number(i.dataset.marginright),d=Number(i.dataset.marginleft),p="xj-video-".concat(n);i.setAttribute("id",p);var f=JSON.parse(i.getAttribute("data-video")),m=JSON.parse(i.getAttribute("enable-super-player")),h=f.vid,v=f.width,g=f.height,A=f.thumbnailUrl,_=f.size,b=f.url,w=f.sourceType,T=f.displayType,E=void 0===T?"normal":T;if(!0!==m){var S=window.innerWidth>450?450-s-d:window.innerWidth-d-s,O="".concat("aspectFit"===E?v:S,"px"),I="".concat(Math.round(O/v*g),"px");window.Txplayer?D({vid:h,containerId:p,playerWidth:O,playerHeight:I,thumbnailUrl:A,videoBeforeInit:o,videoDom:i,videoWrapper:e,size:_,url:b}):(0,a.default)(c.TENCENT_VIDEO_JS_API_V3,function(){D({vid:h,containerId:p,playerWidth:O,playerHeight:I,thumbnailUrl:A,videoBeforeInit:o,videoDom:i,videoWrapper:e,size:_,url:b})})}else new y.SdkVideo({containerId:p,vid:h,url:b,poster:A,sourceType:w,size:_,isPreview:!1,componentType:"video",elVideoBeforeInit:o})}}});var n=0;window.addEventListener("scroll",function(){!function(){var t,r=window.pageYOffset;r>n?t=_.UP:r<n&&(t=_.DOWN);n=r,F(e,function(e){var n=e.videoDom,r=e.player,o=e.containerId;r&&"function"==typeof r.getPlayerState&&U({winInnerHeight:window.innerHeight,direction:t,videoBoundingClientRet:n.getBoundingClientRect(),playerState:r.getPlayerState(),player:r,videoDom:n,containerId:o})})}()}),window.addEventListener("resize",function(){var e=function(){I.forEach(function(e){var t=e.player,n=e.videoWrapper,r=e.videoInfo,o=r.width,i=r.height,a=window.innerWidth>450?450:window.innerWidth,s=a,c=i/(o/a);n.style.width="".concat(s,"px"),n.style.height="".concat(c,"px"),t&&"function"==typeof t.resize&&t.resize({width:s,height:c})})};e();var t=0,n=setInterval(function(){++t<5?e():clearInterval(n)},100)}),m.default.onChange(function(e){e===m.STATE_HIDDEN&&C()}),(0,s.disableSwipeBackGesture)()},t.videoDetectImpl=t.videoDetect=t.playerList=t.pauseAllVideo=t.muteAllVideo=t.loopVideos=t.initVideo=void 0;var i=r(n(6)),a=r(n(10)),s=n(2),c=n(7),u=r(n(52)),l=r(n(1)),d=n(2),p=n(12);n(338);var f=r(n(19)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(47)),h=n(35),v=n(15),g=n(308),y=n(307);function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}var _=t.DIRECTION={DOWN:0,UP:1},b={DEFAULT:-1,FINISHED:0,PLAYING:1,PAUSE:2,BUFFERING:3},w={},T=!1,E={},S="pause-manually",O=function(e,t){var n,r=t.querySelector(".txp_player"),o=document.createElement("img");o.setAttribute("class","xj-mute-button");var i=e.isMute||e.isMuted;n=i()?"mute":"unmute",o.src="//".concat(l.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/").concat(n,".svg"),r.appendChild(o),o.addEventListener("click",function(){i()?(e.unMute(),o.src="//".concat(l.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/unmute.svg")):(e.mute(),o.src="//".concat(l.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/mute.svg"))})},I=t.playerList=[],C=t.pauseAllVideo=function(){I.forEach(function(e){return e.player&&e.player.pause&&e.player.pause()}),h.SdkVideoManager.pauseAllVideo()},P=(t.muteAllVideo=function(){I.forEach(function(e){return e.player&&e.player.pause&&e.player.mute()})},function(e){window.TenvideoJSBridge&&"object"===(0,i.default)(window.TenvideoJSBridge)?e(window.TenvideoJSBridge):document&&"function"==typeof document.addEventListener&&document.addEventListener("onTenvideoJSBridgeReady",function(){e(window.TenvideoJSBridge)},!1)}),k=function(){window.TencentNews&&(void 0===window.TencentNewsCallback&&(window.TencentNewsCallback={}),window.TencentNewsCallback.videoPause=function(){C()}),P(function(e){e.on("onQQLivePlayVideo",function(){C()})})},x=function(){window.TencentNews&&window.TencentNews.adVideoBeginPlay&&"function"==typeof window.TencentNews.adVideoBeginPlay&&window.TencentNews.adVideoBeginPlay(),P(function(e){e.invoke("notifyH5PlayVideo",null,function(e){})})},N=f.default&&f.default.getSceneEnv&&f.default.getSceneEnv(),D=t.initVideo=function(e){var t=e.vid,n=e.containerId,r=e.playerWidth,o=e.playerHeight,i=e.thumbnailUrl,a=e.videoBeforeInit,c=e.videoDom,u=e.videoWrapper,l=e.size,d=e.url,p=e.isMute;N&&N.disableVideoFullScreen&&(0,v.hideFullscreen)(),w[n]=!1;var f=new window.Txplayer({containerId:n,vid:t,width:r,height:o,poster:i,h5loop:!0,showLogo:!1});I.push({player:f,videoWrapper:u,videoInfo:JSON.parse(c.getAttribute("data-video"))}),f.on("ready",function(){c.querySelector("video").setAttribute("loop",!0),p?f.mute():f.unMute(),O(f,c),function(e,t){var n=t.querySelector(".txp_player"),r=t.parentNode.querySelector(".xj-video-float-wrapper");r&&n.appendChild(r)}(0,c),q(c),(0,s.isInOmMedia)()?function(e,t,n,r){P(function(o){o.invoke("isForbiddenVideoAutoPlay",null,function(o){try{var i=JSON.parse(o);!i.errCode&&i.result&&R(e,t,n,r)}catch(e){console.error("error in video callback")}})})}(c,f,n,l):R(c,f,n,l),f.on("playStateChange",function(e){var t;e===b.PAUSE&&E[n]&&E[n].afterClickMoment?(T=!1,c.setAttribute("".concat(S),!0)):c.setAttribute("".concat(S),!1),function(e){var t=e.getAttribute("class");e.setAttribute("class",t.replace(" not-interactive",""))}(c),e===b.PLAYING&&(t=f,I.forEach(function(e){t!==e.player&&e.player.pause()}),x(),h.SdkVideoManager.pauseOtherVideo(n))}),f.on("error",function(e){G(u,d,r,o)}),setTimeout(function(){a.style.display="none"},50),k()}),E[n]||(E[n]={}),E[n].player=f,c.addEventListener("click",function(){E[n].afterClickMoment=!0,setTimeout(function(){E[n].afterClickMoment=!1},200)})},R=function(e,t,n,r){N&&N.disableVideoAutoplay||(r&&r<=2097152?j(e,t,n):window.SPAPageNetwork&&window.SPAPageNetwork.checkNetworkType&&window.SPAPageNetwork.checkNetworkType(function(r){"WIFI"===r&&j(e,t,n)}))},j=function(e,t,n){w[n]=!0,U({winInnerHeight:window.innerHeight,direction:_.DOWN,videoBoundingClientRet:e.getBoundingClientRect(),playerState:t.getPlayerState(),player:t,videoDom:e,containerId:n})},L=function(e){var t=e.player,n=e.playerState;n!==b.PLAYING&&n!==b.BUFFERING||(T=!1,t.pause())},M=function(e){var t=e.player,n=e.playerState,r=e.videoDom,o=e.containerId;function i(){(0,h.reportAutoPlay)(r),(0,g.playDetectMedia)().then(function(){t.play()}).catch(function(){t.mute(),O(t,r),t.play(),setTimeout(function(){-1===[b.PLAYING,b.BUFFERING].indexOf(t.getPlayerState())&&t.play()},400)})}"true"!==r.getAttribute("".concat(S))&&((!w[o]||n!==b.DEFAULT&&n!==b.PAUSE||T)&&(w[o]||n!==b.PAUSE||T)||(T=!0,i()))},B=t.videoDetectImpl=function(e){var t=e.winInnerHeight,n=e.direction,r=e.videoBoundingClientRet,o=e.playerState,i=e.player,a=e.videoDom,s=e.containerId,c=r.top,u=r.bottom,l=r.height*(2/3),d=r.height*(1/3);n===_.DOWN?u-t>l?L({player:i,playerState:o,videoDom:a}):u>d&&M({player:i,playerState:o,videoDom:a,containerId:s}):n===_.UP&&(-c>l?L({player:i,playerState:o,videoDom:a}):t-c>=d&&M({player:i,playerState:o,videoDom:a,containerId:s}))},U=t.videoDetect=function(e){h.SdkVideoManager.findHighLevelVideoPlayingItem([h.ComponentType.LEAD_VIDEO]).then(function(t){t||B(e)})},F=t.loopVideos=function(e,t){[].forEach.call(e,function(e,n){var r=e.querySelector(".data-video");if(r){var o=r.getAttribute("id"),i=(E[o]||{}).player;t({videoDom:r,player:i,containerId:o})}})},G=function(e,t,n,r){var o=document.createElement("video");o.src=t,o.style.zIndex="100",o.controls=!0,o.loop="loop",o.autoplay="autoplay",o.muted=!1,o.style.width=n,o.style.height=r,o.style.position="absolute",o.setAttribute("playsinline",""),e.appendChild(o),o.play()},q=function(e){if(l.default.pageType.toLowerCase().indexOf("website")>-1&&l.default.pageType.toLowerCase().indexOf("h5")>-1){var t=e.querySelector(".xj-video-float-wrapper");if(t){var n={url:t.dataset.url,linkType:t.dataset.linktype,formId:t.dataset.formid,clipboardConfig:JSON.parse(t.dataset.clipboard||"{}")},r=t.querySelector(".xj-video-float-bottom");(0,d.on)(r,"click",function(e){if("link"===n.linkType){var t=new p.Report;t.dmpReport({actionType:p.REPORT_TYPE.LINK,customAction:""}),t.dmpReport({map:p.REPORT_TYPE_MAPS.NEW_GAME_ORDER})}(0,d.jumpLinkCommonFunction)({type:n.linkType,data:n,event:e})})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ADCANVAS_PREVIEW",function(){return r}),n.d(t,"COS_TOKEN",function(){return o}),n.d(t,"SCREENSHOT_COS_TOKEN",function(){return i}),n.d(t,"PAGE_VIEWER",function(){return a}),n.d(t,"PAGE_MAKER",function(){return s});var r={jwtTokenSecretKey:"ZdwGr@8q%#PitPra",foo:1},o={APP_ID:"1258344703",DOMAIN:"xj.gtimg.cn",BUCKET:"".concat("xj.gtimg.cn","-").concat("1258344703"),SECRET_ID:"A".concat("KIDTikhPsRI8jFOJ0v3VoqdUZPzJOFqKKyL"),SECRET_KEY:"IK9l6B2jAJB9qJZY6i5B9rKckOrFc08z"},i={APP_ID:"1258344703",DOMAIN:"file.myqcloud.com",REGION:"ap-guangzhou",BUCKET:"".concat("xj-component-screenshot","-").concat("1258344703"),SECRET_ID:"A".concat("KIDLTnwpU4Ck2pMo5rS7QSK5bsuhEWU20Qa"),SECRET_KEY:"3uSkokRt4zitpV7ZlhMq8UaWDf7JI4cw"},a={PREFETCH_REDIS_PASSWORD:"daFDS!d#1p",TOKEN_AUTH_SECRET:"SSiLav9h0eQ7XvQKKeeIJDqpyatdLXgt",CLIENT_SECRET:"tbvlA4D4vSpFMSa4bqqh3nTh3",QLIVE_TOKEN:"b5ed7b3534b5e072",QNEWS_TOKEN:"94eba577fa4a004d",QQ_TOKEN:"16db9de861a74326",STATIC_API_KEY:"CGJBZ-S4BCJ-65IF4-FU5HM-YM4WQ-KPB2E",PAY_APP_SCERET:"0004caee9d4d42099ebbc4541fbd2b2a",READ_TOKEN:"3bb44fdf3a12e41b",QB_TOKEN:"fc59930648b730e4"},s={ZIP_COS_ID:"",ISV_ZIP_COS_ID:"Ur0f97N8tb6n7WH42o4QOn3p"}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.JSAPI_URL=void 0,t.buildReportInfo=j,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"null",r=B[A.mediaName]||B.default;console.error("UA:   ",navigator.userAgent),console.error("media name: ",A.mediaName),console.error("link: ",e),v.default.marketDownloadEnable&&(0,y.standardReport)("market_action",{actionId:g.ACTION_ID.OVER_FLOW,actionType:g.ACTION_TYPE.OVER_FLOW,actCode:g.ACT_CODE.DEEPLINK});O().then(r.bind(null,e,t,n)).catch(t)},t.detectJumpoutByVisibility=I,t.loadSDK=O,t.openMiniProgram=function(e){var t=e.id,n=e.link,r=e.type,o=e.params,i=e.callback,a=U[r]||U.default;try{a({id:t,link:n,params:o,type:r,callback:i})}catch(e){console.error("调用跳转小程序发生错误: ",e),i({code:999})}},t.preloadMiniProgram=function(e){var t=e.id,n=e.link,r=e.type,o=e.params,i=e.callback,a=F[r];try{a({id:t,link:n,params:o,type:r,callback:i})}catch(e){console.error("调用预加载小程序发生错误: ",e),i({code:999})}};var o=r(n(6)),i=r(n(3)),a=n(25),s=r(n(32)),c=n(13),u=n(2),l=r(n(47)),d=r(n(10)),p=r(n(28)),f=r(n(22)),m=r(n(19)),h=n(215),v=r(n(1)),g=n(41),y=n(11),A=n(49);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var b=m.default&&m.default.getSceneEnv&&m.default.getSceneEnv()||{},w=t.JSAPI_URL=(0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({},a.MEDIA_NAME.QNEWS,"//mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1"),a.MEDIA_NAME.UNION_SDK,"//qzs.gdtimg.com/union/res/union_sdk/page/unjs/un.js"),a.MEDIA_NAME.IOS_UNION_SDK,"//".concat(v.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js")),a.MEDIA_NAME.IOS_UNSURE_MEDIA,"//".concat(v.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js")),a.MEDIA_NAME.QQ,"//open.mobile.qq.com/sdk/qqapi.wk.js?_bid=152"),a.MEDIA_NAME.IOSQQ,"//open.mobile.qq.com/sdk/qqapi.wk.js?_bid=152"),T=function(){return v.default.pageType.indexOf("WEBSITE")>=0},E=function(){return v.default.pageType.indexOf("IOS")>=0},S=function(e){return{mediaName:A.mediaName,message:e}};function O(e){var t=e||A.mediaName;return T&&w[t]?(0,d.default)(w[t],{returnPromise:!0}):E&&t===a.MEDIA_NAME.IOS_UNSURE_MEDIA?(0,d.default)(w[a.MEDIA_NAME.IOS_UNSURE_MEDIA],{returnPromise:!0}):Promise.resolve()}function I(e){var t,n;t=setTimeout(function(){l.default.remove(n),e&&e(new S("visibilitychange 检测跳转失败"))},1e3),n=l.default.onChange(function(r){l.default.remove(n),"hidden"===r&&(clearTimeout(t),e&&e())})}function C(e){var t=e.id,n=e.link,r=e.callback;if(window.TenvideoJSBridge){var o=n.includes("?")?"".concat(n,"&gdt_vid=").concat((0,u.getTraceId)()):"".concat(n,"?gdt_vid=").concat((0,u.getTraceId)()),i={platform:"wx",path:o,username:t,extMsg:{pathType:2,invokeData:JSON.stringify({ad_trace_data:{click_id:(0,u.getTraceId)()}})}};return console.error("开始跳转: ",o,i),void window.TenvideoJSBridge.invoke("openMiniProgram",i,function(e){console.error("result is: ",e);var t=e;if("string"==typeof e)try{t=JSON.parse(t)}catch(e){console.error("解析跳转小程序结果出错： ",e)}console.error("调用结果： ",t),0==t.errCode||0==t.code?r():r({code:t.errCode||e.errCode||999,mediaName:"QQLiveBrowser"})})}r({code:999})}function P(e){var t=e.id,n=e.link,r=e.callback,o={platform:"wx",path:n.includes("?")?"".concat(n,"&gdt_vid=").concat((0,u.getTraceId)()):"".concat(n,"?gdt_vid=").concat((0,u.getTraceId)()),userName:"".concat(t),wxAppId:"",extMsg:{pathType:2,invokeData:JSON.stringify({traceData:{click_id:(0,u.getTraceId)()}})},traceData:JSON.stringify({click_id:(0,u.getTraceId)()})};window.IOSUnionBridge.invoke("jumpToWXMiniProgram",o,function(e){console.error("result is: ",e);var t=e;if("string"==typeof e)try{t=JSON.parse(t)}catch(e){console.error("解析跳转小程序结果出错： ",e)}0==t.errCode||0==t.code?r():r({code:t.errCode||t.code||999,mediaName:a.MEDIA_NAME.IOS_UNION_SDK})})}function k(e){var t=e.id,n=e.link,r=e.params,o=e.callback,i=r.wxAppId,a=r.preloadType,s=r.executeType,c={platform:"wx",path:n.includes("?")?"".concat(n,"&gdt_vid=").concat((0,u.getTraceId)()):"".concat(n,"?gdt_vid=").concat((0,u.getTraceId)()),userName:"".concat(t),wxAppId:i,preloadType:a,extMsg:{pathType:2,invokeData:JSON.stringify({traceData:{click_id:(0,u.getTraceId)()}})},traceData:JSON.stringify({click_id:(0,u.getTraceId)()})};function l(e){e&&0===e.code?o():o({code:e.code||999,mediaName:A.mediaName})}"preload"===s?h.universalAndroidBridge._invoke("preloadWXMiniProgram",c,l):h.universalAndroidBridge._invoke("jumpToWXMiniProgram",c,l)}function x(e){var t=e.id,n=e.link,r=e.params,o=e.type,i=e.callback;function s(e){var t=e;t&&"string"==typeof t&&(t=JSON.parse(t)),0==t.code?i():i({code:t.code||999,mediaName:o})}O(a.MEDIA_NAME.UNION_SDK).then(function(){var e=r.preloadType,o=r.executeType,i=n.includes("?")?"".concat(n,"&gdt_vid=").concat((0,u.getTraceId)()):"".concat(n,"?gdt_vid=").concat((0,u.getTraceId)());"preload"===o?window.unjs.wx.preloadMiniProgram&&window.unjs.wx.preloadMiniProgram({path:i,username:t,ad_trace_data:{click_id:(0,u.getTraceId)()},preload_type:e},s):window.unjs.wx.launchMiniProgram({path:i,username:t,ad_trace_data:{click_id:(0,u.getTraceId)()}},s)}).catch(function(e){i({code:999,mediaName:o})})}function N(e){var t=e.id,n=e.link,r=e.params,o=e.callback,i=n.includes("?")?"".concat(n,"&gdt_vid=").concat((0,u.getTraceId)()):"".concat(n,"?gdt_vid=").concat((0,u.getTraceId)());window.mqq&&window.mqq.invoke("qq_gdt_ad","openWechatMiniApp",{options:{wechatAppId:r.wxAppId,wechatUserName:t,wechatPath:i,wechatAdTraceData:JSON.stringify({click_id:(0,u.getTraceId)()}),posId:r.posId}},function(e){0===e.error_code?o():o({code:e.error_code||999,mediaName:A.mediaName})})}function D(e,t){var n=e.uLink,r=void 0===n?null:n,o=e.dLink,i=void 0===o?null:o;function a(e){console.error("ios 通用sdk 调用结果:  ",e),0===e.code?t():t(new S("IOS通用SDK调用jumpToApp方法失败"))}console.error("开始调用iOS通用sdk： ",{uLink:r,dLink:i}),f.default._getSDKVersionPromise().then(function(e){(0,p.default)(e,"4.390.0")>=-1?(console.error("版本符合，触发调用: ",e),r?window.IOSUnionBridge.invoke("jumpToApp",{universal_link:r},a):i?window.IOSUnionBridge.invoke("jumpToApp",{scheme:i},a):(console.error("IOS通用SDK版本无法执行数据为空的调用"),t(new S("IOS通用SDK版本无法执行数据为空的调用")))):(console.error("IOS通用SDK版本太低，不支持jumpToApp"),t(new S("IOS通用SDK版本太低，不支持jumpToApp")))}).catch(function(e){t(new S("调用通用sdk获取版本号错误: ".concat(e)))})}function R(e){var t=e.id,n=e.link,r=(e.params,e.type),o=e.callback,i=n.includes("?")?"".concat(n,"&gdt_vid=").concat((0,u.getTraceId)()):"".concat(n,"?gdt_vid=").concat((0,u.getTraceId)()),a=(0,u.judgeClient)()===u.judgeClient.SYS.IOS?JSON.stringify({click_id:(0,u.getTraceId)()}):{click_id:(0,u.getTraceId)()};window.TencentNews.invoke("openMiniProgram",{name:t,path:i,type:0,extMsg:{invokeData:JSON.stringify({ad_trace_data:a})},onCallback:function(e){0==e.errCode?o():o({code:e.errCode||999,mediaName:r})}})}function j(){return{bizInfo:(e=(0,c.parseUrl)(),t=e.tid,n=e.wx_aid,r=e.aid,o=e.wx_traceid,i=e.traceid,a=e.gdt_ad_id,s=e.gdt_vid,u=e.qz_gdt,l=o||s||i||t||u||"","".concat(n||a||r||t||0,"|").concat(l,"||||||||||")),sourceInfo:{xjad:{source:1,packageName:v.default.appData?v.default.appData.packageName:""}}};var e,t,n,r,o,i,a,s,u,l}function L(e,t,n){if("hapLink"!==n)try{window.WeixinJSBridge&&window.WeixinJSBridge.invoke("launchApplication",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({schemeUrl:e},j()),function(e){var n=e.err_msg;n.indexOf("fail")>-1&&t(new S("wechat直达调用失败")),n.indexOf("ok")>-1&&t&&t()})}catch(e){console.error("openInWechat error",e),t&&t(e)}else M(e,t)}function M(e,t){I(t);var n=document.createElement("div");n.style.visibility="hidden",n.innerHTML='<iframe src = "'+e+'"  scrolling = "no" width = "1" height = "1"></iframe>',document.body.appendChild(n)}var B=(0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({},a.MEDIA_NAME.QNEWS,function(e,t){function n(e){0==e.errCode?t&&t():t(new S("腾讯新闻安卓调用TencentNews.invoke方法失败， errMsg: ".concat(e.errCode)))}window.TencentNews.invoke("getAppInfo",{onCallback:function(r){var o=r.version||"";(0,p.default)(o,"6.5.67")>-1?window.TencentNews.invoke("openDeepLink",{url:e,onCallback:n}):(I(t),window.TencentNews.invoke("openUrl",{url:e,onCallback:function(){}}))}})}),a.MEDIA_NAME.QLIVE,function(e,t){var n=(0,c.parseUrl)(),r=n.gdt_product_id,o=n.qz_gdt,i="http://t.gdt.qq.com/conv/src/61/conv?client=61&cuser=src&product_id=".concat(r,"&clickid=__CLICK_ID__&actionid=__ACTION_ID__");window.TenvideoJSBridge.invoke("launch3rdApp",{pkgUrl:e,adParam:{adSource:"gdt",clickId:o||"",effectUrl:i}},function(e){var n=JSON.parse(e);n.errCode?t(new S("腾讯视频调用launch3rdApp方法失败，errMsg: ".concat(n.errMsg))):t()})}),a.MEDIA_NAME.UNION_SDK,function(e,t){console.error("开始调用跳转： ",e);var n=window.unjs.package.openApp({url:e});console.error("result is: ",n,(0,o.default)(n)),0==n?(console.error("跳转成功了。。。。"),t()):(console.error("跳转失败了，走兜底逻辑",(0,o.default)(n)),t(new S("安卓联盟调用openApp方法失败")))}),a.MEDIA_NAME.IOS_UNION_SDK,D),a.MEDIA_NAME.IOSQQ,function(e,t){var n=e.uLink,r=void 0===n?null:n,o=e.dLink,i=void 0===o?null:o;window.mqq&&window.mqq.invoke&&window.mqq.compare("8.8.23")>=0?window.mqq.invoke("qq_gdt_ad","launchAppWithDeeplink",{deeplink:i,universalLink:r,traceId:(0,u.getTraceId)()},function(e){0===e.error?t():t(new S("ios qq调用launchAppWithDeeplink失败"))}):t(new S("ios qq版本不支持调用launchAppWithDeeplink方法"))}),a.MEDIA_NAME.QQ,function(e,t){if(window.mqq&&window.mqq.invoke){if(window.mqq.compare("8.8.17")>=0)return void window.mqq.invoke("qq_gdt_ad","launchAppWithDeeplink",{deeplink:e,traceId:(0,u.getTraceId)()},function(e){0===e.error?t():t(new S("qq调用launchAppWithDeeplink失败"))});if(window.mqq.compare("8.0.5")>=0)return I(t),void window.mqq.invoke("Gdt","Openlink",{openlink:e,businessId:"biz_src_ads"},function(e){})}t(new S("qq版本不支持调用launchAppWithDeeplink"))}),a.MEDIA_NAME.IOS_GDT_UNION_SDK,function(e,t){var n=e.uLink,r=void 0===n?null:n,o=e.dLink,i=void 0===o?null:o;try{new s.default({appData:window.viewerData.appData,autoDownload:!1,autoInstall:!b.disableAutoInstall,isFrame:b.isFrame,reporter:y.standardReport}).handleLinkDownload({uLink:r,dLink:i})}catch(e){console.error("openInIOSGDTUNIONSDK error",e),t&&t(e)}}),a.MEDIA_NAME.IOS_UNSURE_MEDIA,function(e,t){var n=e.uLink,r=void 0===n?null:n,o=e.dLink,i=void 0===o?null:o;(0,u.isInWechat)()?L(i,t):f.default._getSDKVersionPromise().then(function(e){"0.0.0"!==e&&(0,p.default)(e,A.DISABLE_UA_IOS_UNION_VERSION)>=0?D({uLink:r,dLink:i},t):M(i,t)}).catch(function(e){t(new S("IOS unsure media 下获取版本号错误: ".concat(e," ")))})}),a.MEDIA_NAME.WECHATAD,L),"default",M),U=(0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({QQLiveBrowser_Android:C,QQLiveBrowser_iOS:C},a.MEDIA_NAME.IOS_UNION_SDK,P),a.MEDIA_NAME.IOS_UNSURE_MEDIA,P),a.MEDIA_NAME.QQ,N),a.MEDIA_NAME.IOSQQ,N),a.MEDIA_NAME.UNION_SDK,k),"".concat(a.MEDIA_NAME.QNEWS,"_Android"),R),"".concat(a.MEDIA_NAME.QNEWS,"_iOS"),R),"GDT_".concat(a.MEDIA_NAME.UNION_SDK),x),a.MEDIA_NAME.IOS_GDT_UNION_SDK,x),"default",function(e){return(0,e.callback)({res:!1})}),F=(0,i.default)((0,i.default)((0,i.default)({},a.MEDIA_NAME.UNION_SDK,k),"".concat(A.mediaName,"_Android"),function(e){var t=e.id,n=e.link,r=e.params,o=e.callback,i=n.includes("?")?"".concat(n,"&gdt_vid=").concat((0,u.getTraceId)()):"".concat(n,"?gdt_vid=").concat((0,u.getTraceId)()),a=r.preloadType;window.TencentNews.invoke("preloadMiniProgram",{name:t,path:i,preloadType:a,extData:{ad_trace_data:(0,u.getTraceId)()},onCallback:function(e){0==e.errCode?o():o({code:e.errCode||999,mediaName:"".concat(A.mediaName,"_").concat((0,u.judgeClient)())})}})}),"GDT_".concat(a.MEDIA_NAME.UNION_SDK),x)},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(78),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:u}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,o,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===r.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,r)),i(t)&&i(n)?(n.forEach(function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t},a)}}},function(e,t,n){"use strict";var r=n(23);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";var r=n(243),o=Math.max;e.exports=function(e){return o(0,r(e))}},function(e,t,n){"use strict";var r=Object.create,o=Object.getPrototypeOf,i={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||r;return"function"==typeof e&&o(e(t(null),i))===i}},function(e,t,n){"use strict";var r,o,i,a,s=n(247),c=n(23),u=Object.prototype.isPrototypeOf,l=Object.defineProperty,d={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(c(e),null===t||s(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=(o=function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}())?(2===o.level?o.set?(a=o.set,i=function(e,t){return a.call(r(e,t),t),e}):i=function(e,t){return r(e,t).__proto__=t,e}:i=function e(t,n){var o;return r(t,n),(o=u.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,o&&l(e.nullPolyfill,"__proto__",d),t},Object.defineProperty(i,"level",{configurable:!1,enumerable:!1,writable:!1,value:o.level})):null,n(248)},function(e,t,n){"use strict";var r=n(249),o=/^\s*class[\s{/}]/,i=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!o.test(i.call(e))}},function(e,t,n){"use strict";var r=n(38),o=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return o.call(arguments,function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){"use strict";e.exports=n(256)()?String.prototype.contains:n(257)},function(e,t,n){"use strict";var r=n(263);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";var r=n(267);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var r=n(39),o=n(79),i=n(273),a=n(274),s=function(e,t){return e.replace("%v",a(t))};e.exports=function(e,t,n){if(!o(n))throw new TypeError(s(t,e));if(!r(e)){if("default"in n)return n.default;if(n.isOptional)return null}var a=i(n.errorMessage);throw r(a)||(a=t),new TypeError(s(a,e))}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";e.exports=function(e){return e!=e}},function(e,t,n){"use strict";var r=n(105);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},function(e){e.exports=JSON.parse('{"name":"@tencent/landing-page-action-analyzer","version":"0.0.21","main":"lib/index.js","module":"es/index.js","typings":"lib/index.d.ts","dependencies":{"@babel/runtime":"7.18.3","@tencent/glue-util-emitter":"0.4.6","lodash.debounce":"4.0.7","lodash.merge":"4.6.2","lodash.set":"4.3.2","ua-parser-js":"1.0.34","unfetch":"4.0.0"},"devDependencies":{"@types/lodash.debounce":"4.0.7","@types/lodash.merge":"4.6.7","@types/lodash.set":"4.3.7","@types/ua-parser-js":"0.7.36"},"umdBundles":[{"name":"analyzer","libraryName":"LANDING_PAGE_ACTION_ANALYZER","entry":"./src/index.ts"},{"name":"actionReporter","libraryName":"LANDING_PAGE_ACTION_REPORTER","entry":"./src/helpers/actionReporter/index.ts"}],"gitHead":"1eb841862defc92fda2eec420b3e6f4d2ab1f8e4"}')},function(e,t,n){var r=n(189);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(190).default,o=n(191);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){var n="Expected a function",r=NaN,o="[object Function]",i="[object GeneratorFunction]",a="[object Symbol]",s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,p=Object.prototype.toString,f=Math.max,m=Math.min;function h(){return Date.now()}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==a}(e))return r;if(v(e)){var t=function(e){var t=v(e)?p.call(e):"";return t==o||t==i}(e.valueOf)?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):c.test(e)?r:+e}e.exports=function(e,t,r){var o,i,a,s,c,u,l=0,d=!1,p=!1,y=!0;if("function"!=typeof e)throw new TypeError(n);function A(t){var n=o,r=i;return o=i=void 0,l=t,s=e.apply(r,n)}function _(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-l>=a}function b(){var e=h();if(_(e))return w(e);c=setTimeout(b,function(e){var n=t-(e-u);return p?m(n,a-(e-l)):n}(e))}function w(e){return c=void 0,y&&o?A(e):(o=i=void 0,s)}function T(){var e=h(),n=_(e);if(o=arguments,i=this,u=e,n){if(void 0===c)return function(e){return l=e,c=setTimeout(b,t),d?A(e):s}(u);if(p)return c=setTimeout(b,t),A(u)}return void 0===c&&(c=setTimeout(b,t)),s}return t=g(t)||0,v(r)&&(d=!!r.leading,a=(p="maxWait"in r)?f(g(r.maxWait)||0,t):a,y="trailing"in r?!!r.trailing:y),T.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},T.flush=function(){return void 0===c?s:w(h())},T}},function(e,t,n){var r;!function(o,i){"use strict";var a="model",s="name",c="type",u="vendor",l="version",d="mobile",p="tablet",f="smarttv",m=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},h=function(e,t){return"string"==typeof e&&-1!==v(t).indexOf(v(e))},v=function(e){return e.toLowerCase()},g=function(e,t){if("string"==typeof e)return e=e.replace(/^\s\s*/,""),void 0===t?e:e.substring(0,350)},y=function(e,t){for(var n,r,o,i,a,s,c=0;c<t.length&&!a;){var u=t[c],l=t[c+1];for(n=r=0;n<u.length&&!a&&u[n];)if(a=u[n++].exec(e))for(o=0;o<l.length;o++)s=a[++r],"object"==typeof(i=l[o])&&i.length>0?2===i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3===i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4===i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s||void 0;c+=2}},A=function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(h(t[n][r],e))return"?"===n?void 0:n}else if(h(t[n],e))return"?"===n?void 0:n;return e},_={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},b={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,l],[/opios[\/ ]+([\w\.]+)/i],[l,[s,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[l,[s,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[s,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[l,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure Browser"],l],[/\bfocus\/([\w\.]+)/i],[l,[s,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[l,[s,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[s,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[l,[s,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 Browser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,l],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,"Facebook"],l],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[s,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,"Chrome WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[l,A,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[s,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[s,l],[/(cobalt)\/([\w\.]+)/i],[s,[l,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",v]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",v]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",v]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[u,"Samsung"],[c,p]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[a,[u,"Samsung"],[c,d]],[/\((ip(?:hone|od)[\w ]*);/i],[a,[u,"Apple"],[c,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[u,"Apple"],[c,p]],[/(macintosh);/i],[a,[u,"Apple"]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[u,"Sharp"],[c,d]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[a,[u,"Huawei"],[c,p]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[a,[u,"Huawei"],[c,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[a,/_/g," "],[u,"Xiaomi"],[c,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[a,/_/g," "],[u,"Xiaomi"],[c,p]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[u,"OPPO"],[c,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[u,"Vivo"],[c,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[a,[u,"Realme"],[c,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[u,"Motorola"],[c,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[u,"Motorola"],[c,p]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[u,"LG"],[c,p]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[u,"LG"],[c,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[a,[u,"Lenovo"],[c,p]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[a,/_/g," "],[u,"Nokia"],[c,d]],[/(pixel c)\b/i],[a,[u,"Google"],[c,p]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[u,"Google"],[c,d]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[u,"Sony"],[c,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[u,"Sony"],[c,p]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[u,"OnePlus"],[c,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[u,"Amazon"],[c,p]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[u,"Amazon"],[c,d]],[/(playbook);[-\w\),; ]+(rim)/i],[a,u,[c,p]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[u,"BlackBerry"],[c,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[u,"ASUS"],[c,p]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[u,"ASUS"],[c,d]],[/(nexus 9)/i],[a,[u,"HTC"],[c,p]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[u,[a,/_/g," "],[c,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[u,"Acer"],[c,p]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[u,"Meizu"],[c,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,a,[c,d]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,a,[c,p]],[/(surface duo)/i],[a,[u,"Microsoft"],[c,p]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[u,"Fairphone"],[c,d]],[/(u304aa)/i],[a,[u,"AT&T"],[c,d]],[/\bsie-(\w*)/i],[a,[u,"Siemens"],[c,d]],[/\b(rct\w+) b/i],[a,[u,"RCA"],[c,p]],[/\b(venue[\d ]{2,7}) b/i],[a,[u,"Dell"],[c,p]],[/\b(q(?:mv|ta)\w+) b/i],[a,[u,"Verizon"],[c,p]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[a,[u,"Barnes & Noble"],[c,p]],[/\b(tm\d{3}\w+) b/i],[a,[u,"NuVision"],[c,p]],[/\b(k88) b/i],[a,[u,"ZTE"],[c,p]],[/\b(nx\d{3}j) b/i],[a,[u,"ZTE"],[c,d]],[/\b(gen\d{3}) b.+49h/i],[a,[u,"Swiss"],[c,d]],[/\b(zur\d{3}) b/i],[a,[u,"Swiss"],[c,p]],[/\b((zeki)?tb.*\b) b/i],[a,[u,"Zeki"],[c,p]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],a,[c,p]],[/\b(ns-?\w{0,9}) b/i],[a,[u,"Insignia"],[c,p]],[/\b((nxa|next)-?\w{0,9}) b/i],[a,[u,"NextBook"],[c,p]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],a,[c,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],a,[c,d]],[/\b(ph-1) /i],[a,[u,"Essential"],[c,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[a,[u,"Envizen"],[c,p]],[/\b(trio[-\w\. ]+) b/i],[a,[u,"MachSpeed"],[c,p]],[/\btu_(1491) b/i],[a,[u,"Rotor"],[c,p]],[/(shield[\w ]+) b/i],[a,[u,"Nvidia"],[c,p]],[/(sprint) (\w+)/i],[u,a,[c,d]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,"Microsoft"],[c,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[u,"Zebra"],[c,p]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[u,"Zebra"],[c,d]],[/smart-tv.+(samsung)/i],[u,[c,f]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,"Samsung"],[c,f]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,"LG"],[c,f]],[/(apple) ?tv/i],[u,[a,"Apple TV"],[c,f]],[/crkey/i],[[a,"Chromecast"],[u,"Google"],[c,f]],[/droid.+aft(\w)( bui|\))/i],[a,[u,"Amazon"],[c,f]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[a,[u,"Sharp"],[c,f]],[/(bravia[\w ]+)( bui|\))/i],[a,[u,"Sony"],[c,f]],[/(mitv-\w{5}) bui/i],[a,[u,"Xiaomi"],[c,f]],[/Hbbtv.*(technisat) (.*);/i],[u,a,[c,f]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[u,g],[a,g],[c,f]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,f]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,a,[c,"console"]],[/droid.+; (shield) bui/i],[a,[u,"Nvidia"],[c,"console"]],[/(playstation [345portablevi]+)/i],[a,[u,"Sony"],[c,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[u,"Microsoft"],[c,"console"]],[/((pebble))app/i],[u,a,[c,"wearable"]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[a,[u,"Apple"],[c,"wearable"]],[/droid.+; (glass) \d/i],[a,[u,"Google"],[c,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[a,[u,"Zebra"],[c,"wearable"]],[/(quest( 2| pro)?)/i],[a,[u,"Facebook"],[c,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[c,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[a,[c,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[a,[c,p]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,p]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,d]],[/(android[-\w\. ]{0,9});.+buil/i],[a,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,l],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[l,A,_]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[l,A,_]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,l],[/\(bb(10);/i],[l,[s,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[s,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[s,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[l,[s,"watchOS"]],[/crkey\/([\d\.]+)/i],[l,[s,"Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[s,"Chromium OS"],l],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,l],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,l]]},w=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof w))return new w(e,t).getResult();var n=void 0!==o&&o.navigator?o.navigator:void 0,r=e||(n&&n.userAgent?n.userAgent:""),i=n&&n.userAgentData?n.userAgentData:void 0,a=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(b,t):b;return this.getBrowser=function(){var e,t={};return t.name=void 0,t.version=void 0,y.call(t,r,a.browser),t.major="string"==typeof(e=t.version)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,n&&n.brave&&"function"==typeof n.brave.isBrave&&(t.name="Brave"),t},this.getCPU=function(){var e={architecture:void 0};return y.call(e,r,a.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return y.call(e,r,a.device),!e.type&&i&&i.mobile&&(e.type=d),"Macintosh"==e.model&&n&&void 0!==n.standalone&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e.model="iPad",e.type=p),e},this.getEngine=function(){var e={name:void 0,version:void 0};return y.call(e,r,a.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return y.call(e,r,a.os),!e.name&&i&&"Unknown"!=i.platform&&(e.name=i.platform.replace(/chrome os/i,"Chromium OS").replace(/macos/i,"Mac OS")),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r="string"==typeof e&&e.length>350?g(e,350):e,this},this.setUA(r),this};w.VERSION="1.0.34",w.BROWSER=m([s,l,"major"]),w.CPU=m(["architecture"]),w.DEVICE=m([a,u,c,"console",d,f,p,"wearable","embedded"]),w.ENGINE=w.OS=m([s,l]),void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=w),t.UAParser=w):n(192)?void 0===(r=function(){return w}.call(t,n,t,e))||(e.exports=r):void 0!==o&&(o.UAParser=w);var T=void 0!==o&&(o.jQuery||o.Zepto);if(T&&!T.ua){var E=new w;T.ua=E.getResult(),T.ua.get=function(){return E.getUA()},T.ua.set=function(e){E.setUA(e);var t=E.getResult();for(var n in t)T.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=800,a=16,s=9007199254740991,c="[object Arguments]",u="[object AsyncFunction]",l="[object Function]",d="[object GeneratorFunction]",p="[object Null]",f="[object Object]",m="[object Proxy]",h="[object Undefined]",v=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[c]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y[l]=y["[object Map]"]=y["[object Number]"]=y[f]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var A="object"==typeof e&&e&&e.Object===Object&&e,_="object"==typeof self&&self&&self.Object===Object&&self,b=A||_||Function("return this")(),w=t&&!t.nodeType&&t,T=w&&"object"==typeof n&&n&&!n.nodeType&&n,E=T&&T.exports===w,S=E&&A.process,O=function(){try{var e=T&&T.require&&T.require("util").types;return e||S&&S.binding&&S.binding("util")}catch(e){}}(),I=O&&O.isTypedArray;var C,P,k,x=Array.prototype,N=Function.prototype,D=Object.prototype,R=b["__core-js_shared__"],j=N.toString,L=D.hasOwnProperty,M=(C=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",B=D.toString,U=j.call(Object),F=RegExp("^"+j.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=E?b.Buffer:void 0,q=b.Symbol,W=b.Uint8Array,H=G?G.allocUnsafe:void 0,V=(P=Object.getPrototypeOf,k=Object,function(e){return P(k(e))}),X=Object.create,J=D.propertyIsEnumerable,Q=x.splice,Y=q?q.toStringTag:void 0,z=function(){try{var e=be(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),K=G?G.isBuffer:void 0,$=Math.max,Z=Date.now,ee=be(b,"Map"),te=be(Object,"create"),ne=function(){function e(){}return function(t){if(!De(t))return{};if(X)return X(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=this.__data__=new oe(e);this.size=t.size}function se(e,t){var n=Ce(e),r=!n&&Ie(e),o=!n&&!r&&ke(e),i=!n&&!r&&!o&&je(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!L.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||we(u,c))||s.push(u);return s}function ce(e,t,n){(void 0===n||Oe(e[t],n))&&(void 0!==n||t in e)||de(e,t,n)}function ue(e,t,n){var r=e[t];L.call(e,t)&&Oe(r,n)&&(void 0!==n||t in e)||de(e,t,n)}function le(e,t){for(var n=e.length;n--;)if(Oe(e[n][0],t))return n;return-1}function de(e,t,n){"__proto__"==t&&z?z(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}re.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},re.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re.prototype.get=function(e){var t=this.__data__;if(te){var n=t[e];return n===o?void 0:n}return L.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return te?void 0!==t[e]:L.call(t,e)},re.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=te&&void 0===t?o:t,this},oe.prototype.clear=function(){this.__data__=[],this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0||(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,0))},oe.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return le(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(ee||oe),string:new re}},ie.prototype.delete=function(e){var t=_e(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return _e(this,e).get(e)},ie.prototype.has=function(e){return _e(this,e).has(e)},ie.prototype.set=function(e,t){var n=_e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ae.prototype.clear=function(){this.__data__=new oe,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var o=n.__data__;if(!ee||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(o)}return n.set(e,t),this.size=n.size,this};var pe,fe=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[pe?a:++r];if(!1===t(o[s],s,o))break}return e};function me(e){return null==e?void 0===e?h:p:Y&&Y in Object(e)?function(e){var t=L.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch(e){}var o=B.call(e);r&&(t?e[Y]=n:delete e[Y]);return o}(e):function(e){return B.call(e)}(e)}function he(e){return Re(e)&&me(e)==c}function ve(e){return!(!De(e)||M&&M in e)&&(xe(e)?F:v).test(function(e){if(null!=e){try{return j.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ge(e){if(!De(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Te(e),n=[];for(var r in e)("constructor"!=r||!t&&L.call(e,r))&&n.push(r);return n}function ye(e,t,n,r,o){e!==t&&fe(t,function(i,a){if(o||(o=new ae),De(i))!function(e,t,n,r,o,i,a){var s=Ee(e,n),c=Ee(t,n),u=a.get(c);if(u)return void ce(e,n,u);var l=i?i(s,c,n+"",e,t,a):void 0,d=void 0===l;if(d){var p=Ce(c),m=!p&&ke(c),h=!p&&!m&&je(c);l=c,p||m||h?Ce(s)?l=s:Re(_=s)&&Pe(_)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):m?(d=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=H?H(n):new e.constructor(n);return e.copy(r),r}(c,!0)):h?(d=!1,v=c,g=!0?(y=v.buffer,A=new y.constructor(y.byteLength),new W(A).set(new W(y)),A):v.buffer,l=new v.constructor(g,v.byteOffset,v.length)):l=[]:function(e){if(!Re(e)||me(e)!=f)return!1;var t=V(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&j.call(n)==U}(c)||Ie(c)?(l=s,Ie(s)?l=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?de(n,s,c):ue(n,s,c)}return n}(e,Le(e))}(s):De(s)&&!xe(s)||(l=function(e){return"function"!=typeof e.constructor||Te(e)?{}:ne(V(e))}(c))):d=!1}var v,g,y,A;var _;d&&(a.set(c,l),o(l,c,r,i,a),a.delete(c));ce(e,n,l)}(e,t,a,n,ye,r,o);else{var s=r?r(Ee(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),ce(e,a,s)}},Le)}function Ae(e,t){return Se(function(e,t,n){return t=$(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=$(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ue),e+"")}function _e(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ve(n)?n:void 0}function we(e,t){var n=typeof e;return!!(t=null==t?s:t)&&("number"==n||"symbol"!=n&&g.test(e))&&e>-1&&e%1==0&&e<t}function Te(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||D)}function Ee(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Se=function(e){var t=0,n=0;return function(){var r=Z(),o=a-(r-n);if(n=r,o>0){if(++t>=i)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ue);function Oe(e,t){return e===t||e!=e&&t!=t}var Ie=he(function(){return arguments}())?he:function(e){return Re(e)&&L.call(e,"callee")&&!J.call(e,"callee")},Ce=Array.isArray;function Pe(e){return null!=e&&Ne(e.length)&&!xe(e)}var ke=K||function(){return!1};function xe(e){if(!De(e))return!1;var t=me(e);return t==l||t==d||t==u||t==m}function Ne(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Re(e){return null!=e&&"object"==typeof e}var je=I?function(e){return function(t){return e(t)}}(I):function(e){return Re(e)&&Ne(e.length)&&!!y[me(e)]};function Le(e){return Pe(e)?se(e,!0):ge(e)}var Me,Be=(Me=function(e,t,n){ye(e,t,n)},Ae(function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Me.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!De(n))return!1;var r=typeof t;return!!("number"==r?Pe(n)&&we(t,n.length):"string"==r&&t in n)&&Oe(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Me(e,a,n,o)}return e}));function Ue(e){return e}n.exports=Be}).call(this,n(45),n(128)(e))},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.addFromParamInUrl=void 0,t.camelToSymbol=g,t.detectJumpByVisibility=v,t.fillSmartUrl=t.fillSecondJumpUrl=void 0,t.getAdId=function(){var e=(0,s.parseUrl)(),t=e.gdt_ad_id,n=e.uxinfo;if(t)return t;if(n){var r=decodeURIComponent(n).split("|");return r[0]}return""},t.getClickId=d,t.getMptraceId=h,t.getXjUi=function(){var e=(0,s.parseUrl)(),t=e.xj_ui,n=e.wx_xj_ui;return t||n||""},t.h5PhoneReporter=function(e){var t=e.targetName,n=e.actionType,r=e.formId,o=e.state,i=e.reportId,a=e.reportName;(0,c.TdwReportTrigger)({reportName:a||t,reportId:i},{action_type:n,status:{state:o},formid:r,functype:1})},t.isMpPreviewPage=function(){return"1"===viewerData.mpRender&&void 0!==(0,s.parseUrl)().token},t.litePolyfill=function(){!window.fetch&&window.sfetch&&(window.fetch=window.sfetch);(0,u.attachPolyfill)()},t.secondJumpCommonFunc=function(e){var t=e.initUrl,n=e.reportName,r=e.type,a=e.deepLink,s=void 0===a?"":a,u=e.reportId,l=void 0===u?"":u,d=e.ppId,p=void 0===d?"":d,h=t;m.includes(r)||(h=f(t));var y=g(r),A=[y];(0,c.TdwReportTrigger)({reportName:n,reportId:l},{eiName:"".concat(y,"-start"),jumpTypes:A});var _=v(function(){(0,c.TdwReportTrigger)({reportName:n,reportId:l},{eiName:"".concat(y,"-success"),jumpTypes:A})},function(){(0,c.TdwReportTrigger)({reportName:n,reportId:l},{eiName:"".concat(y,"-fail"),jumpTypes:A})}),b=(0,o.default)(_,2),w=b[0];b[1];(0,i.secondJumpCommonFunction)(h,s,p,{reportName:n,reportId:l,failCallbackId:w,jumpTypes:A})},t.smartConsult=function(e,t,n){if(!e)return;var r=p(e);setTimeout(function(){(0,c.TdwReportTrigger)({reportName:n,reportId:t},{eiName:"connect-fail",jumpTypes:["connect"]})},l.WAIT_DMP_REPORT_TIME),location.href=r};var o=r(n(42)),i=n(2),a=r(n(47)),s=n(13),c=n(11),u=n(133),l=n(7);function d(){return"1"===viewerData.mpRender?h():(0,i.getTraceId)()}var p=t.fillSmartUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!viewerData)return"";var n=viewerData,r=n.scene,o=n.commonPageId,a=n.pageId,c=n.accountId,u=r===l.LANDING_PAGE_SCENE.INTEGRATION,d=(0,i.getAppId)(u,t),p=u?o:a,f=(0,s.parseUrl)().page_owner_uid,m=e;(void 0===f?"":f)||(m="".concat(m,"&page_owner_uid=").concat("__PAGEOWNERUID__"));var v=t?h():(0,i.getTraceId)();return"".concat(m.replace("__CLICKID__",v).replace("__PAGEID__",p).replace("__APPID__",d).replace("__PAGEOWNERUID__",c)).concat((0,i.getConsultParams)())},f=(t.addFromParamInUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xjhalf";if(e){var n="".concat(e,"&from=").concat(t);return p(n)}},t.fillSecondJumpUrl=function(e){var t=d();(0,i.addParamsToUrl)("clickId",t,e);return(0,i.addParamsToUrl)("qz_gdt",t,e)});var m=["weixinCustomerService"];function h(){var e=(0,s.parseUrl)().uxinfo;return(e?decodeURIComponent(e).split("|"):[])[1]||""}function v(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return n=setTimeout(function(){a.default.remove(r),t&&t()},o),r=a.default.onChange(function(t){a.default.remove(r),"hidden"===t&&(clearTimeout(n),e&&e())}),[n,r]}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e?e.replace(/([A-Z])/g,"".concat(t,"$1")).toLowerCase():""}},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.AutoJumpQuickApp=void 0,t.checkAndJumpQuickApp=z,t.checkAndPreloadMiniProgram=function(e,t,n){return Q.apply(this,arguments)},t.getDeeplink=function(e,t){var n=function(e){if(!e)return{ulink:null,deeplink:null};try{for(;!Array.from(e.classList).includes("xj-margin-wrapper");){var t=e.dataset,n=t.linkType,r=t.deeplink,o=t.useDeeplink,i=t.ulink;if("deeplink"===n&&"true"===o)return{ulink:i&&"undefined"!==i?i:null,deeplink:r&&"undefined"!==r?r:null};e=e.parentElement}}catch(e){return{ulink:null,deeplink:null}}return{ulink:null,deeplink:null}}(t),r=n.ulink,o=n.deeplink;if(r||o)return"dLink is : ".concat(o),"uLink is :".concat(r),{uLink:(0,f.addTraceParamsToUD)(r)||"",dLink:(0,f.addTraceParamsToUD)(o)||""};var i=e.deeplinkConfig;if(i&&i.use&&"deep"===i.linkType&&(i.uLink||i.deeplink))return"dLink is : ".concat(i.deeplink),"uLink is :".concat(i.uLink),{uLink:(0,f.addTraceParamsToUD)(i.uLink)||"",dLink:(0,f.addTraceParamsToUD)(i.deeplink)||""};return{uLink:"",dLink:""}},t.getDeeplinkLite=function(e){var t={uLink:"",dLink:""},n=e.deepLink;if(!n)return t;var r=n.enableDeepLinkIOS,o=n.deepLinkUrlIOS,i=n.enableDeepLinkAndroid,a=n.deepLinkUrlAndroid,s=(0,f.judgeClient)();s===f.judgeClient.SYS.ANDROID&&!0===i&&(t.dLink=(0,f.addTraceParamsToUD)(a));s===f.judgeClient.SYS.IOS&&!0===r&&(t.dLink=(0,f.addTraceParamsToUD)(o));return t},t.getHaplink=function(e){var t=e.deeplinkConfig;if(t&&t.use&&"hap"===t.linkType&&t.haplink)return t.haplink;if(e.deepLink)return(0,f.addTraceParamsToUD)(e.deepLink);return""},t.jumpMiniProgramByOpenSDK=function(e,t,n){return J.apply(this,arguments)},t.jumpStandbyLink=function(e,t){e.miniProgram_standby_link?(e.url=e.miniProgram_standby_link,(0,f.jumpLinkCommonFunction)({type:"link",data:e,forceJumpWithoutClickId:!0})):g.default.info(t||"当前场景下暂不支持跳转小程序")},t.openDeeplink=function(e,t){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DEEPLINK_TRIGGER),O.dmpReport(null),(0,d.default)(e,function(e){if(e)return window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DEEPLINK_FAIL),void t();window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DEEPLINK_SUCCESS)})},t.openHapLink=function(e,t){(0,d.default)(e,function(e){if(e)return O.dmpReport({actionType:m.REPORT_TYPE.QUICK_APP,customAction:m.REPORT_TYPE.XJ_QUICK_APP_FAIL}),void t();O.dmpReport({actionType:m.REPORT_TYPE.QUICK_APP,customAction:m.REPORT_TYPE.XJ_QUICK_APP_SUCCESS})},"hapLink")},t.openLinks=function(e,t){var n=e.uLink,r=void 0===n?null:n,o=e.dLink,i=void 0===o?null:o;e.hapLink;window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DEEPLINK_TRIGGER),O.dmpReport(null),(0,d.default)({uLink:r,dLink:i},function(e){if(e)return window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DEEPLINK_FAIL),void t();window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DEEPLINK_SUCCESS)})},t.shouldOpenDeeplink=function(e){if((0,f.judgeClient)()===f.judgeClient.SYS.IOS)return!0;if((0,f.judgeClient)()===f.judgeClient.SYS.ANDROID&&(e||"WECHATAD"===y.default.mediaName&&"ott-h5"===y.default.pageType))return!0;(0,f.judgeClient)()!==f.judgeClient.SYS.ANDROID||e||window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DEEPLINK_DOWNLOAD);return!1},t.shouldOpenULink=t.shouldOpenHaplink=void 0;var i=r(n(14)),a=r(n(4)),s=r(n(5)),c=r(n(21)),u=r(n(42)),l=r(n(3)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(90)),p=n(49),f=n(2),m=n(12),h=n(11),v=r(n(28)),g=r(n(85)),y=r(n(1)),A=n(25),_=r(n(22)),b=n(2),w=r(n(26)),T=n(15),E=r(n(10));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}var O=new m.Report,I=(0,b.parseClickExt)(),C=null,P=null,k=null,x=((0,T.getExpParams)()||{}).IsHapAutoJump,N=1;x&&(x=parseInt(x,10)),N&&(N=parseInt(N,10));var D=(0,f.parseUrl)(),R=D.testEnv,j=D.gdt_ad_id,L=void 0===j?"":j,M="//".concat("1"===R?"test-h5.gdt.qq.com":y.default.backendHost,"/player"),B=(0,l.default)((0,l.default)((0,l.default)((0,l.default)((0,l.default)((0,l.default)((0,l.default)((0,l.default)((0,l.default)({QQLiveBrowser_Android:"8.4.35",QQLiveBrowser_iOS:"8.4.40"},A.MEDIA_NAME.IOS_UNION_SDK,"4.410.0"),A.MEDIA_NAME.IOS_UNSURE_MEDIA,"4.410.0"),A.MEDIA_NAME.UNION_SDK,"8.420.2590.0"),A.MEDIA_NAME.QQ,"8.8.80"),A.MEDIA_NAME.IOSQQ,"8.8.85"),"".concat(A.MEDIA_NAME.QNEWS,"_Android"),"6.7.50"),"".concat(A.MEDIA_NAME.QNEWS,"_iOS"),"6.7.50"),"GDT_".concat(A.MEDIA_NAME.UNION_SDK),"4.460.1330"),A.MEDIA_NAME.IOS_GDT_UNION_SDK,"4.13.60"),U=(0,l.default)((0,l.default)((0,l.default)((0,l.default)({},A.MEDIA_NAME.IOSQQ,"8.8.90"),A.MEDIA_NAME.QQ,"8.8.90"),A.MEDIA_NAME.UNION_SDK,"8.455.2731.0"),A.MEDIA_NAME.IOS_UNION_SDK,"4.455.0"),F=(0,l.default)((0,l.default)((0,l.default)({},A.MEDIA_NAME.IOSQQ,!0),A.MEDIA_NAME.QQ,!0),A.MEDIA_NAME.UNION_SDK,!0);function G(){var e=navigator.userAgent.indexOf("("),t=navigator.userAgent.slice(e).indexOf(")");return t&&void 0!==e&&t>e?navigator.userAgent.slice(e,t):navigator.userAgent.slice(0,200)}t.shouldOpenHaplink=function(){return(0,f.judgeClient)()===f.judgeClient.SYS.ANDROID},t.shouldOpenULink=function(){var e=y.default.mediaName||"";return(0,f.judgeClient)()===f.judgeClient.SYS.IOS&&["IOSUNIONSDK","IOSQQ","IOSGDTUNIONSDK","IOSUnsureMedia"].indexOf(e)>-1};function q(e){var t=e.type,n=e.versionMap,r=e.mediaName,o=e.userAgent,i=e.miniType,a="0.0.0";return new Promise(function(e,s){if("QQLiveBrowser_Android"!==t&&"QQLiveBrowser_iOS"!==t){var c="miniGame"===i?U[t]:n[t];switch(console.error("min ver is: ",c),r){case A.MEDIA_NAME.IOS_UNION_SDK:case A.MEDIA_NAME.IOS_UNSURE_MEDIA:if((0,f.judgeClient)()===f.judgeClient.SYS.IOS){if(/qqnews\//i.test(o))return void(0,d.loadSDK)(A.MEDIA_NAME.QNEWS).then(function(){window.TencentNews.invoke("getAppInfo",{onCallback:function(t){(0,v.default)(t.version,n.QNEWS_iOS)>=0?e(!0):e(!1)}})})}_.default.getIsXQIOSUnionMinVersionAsync(c,function(){return e(!0)},function(){return e(!1)});break;case A.MEDIA_NAME.QQ:case A.MEDIA_NAME.IOSQQ:(0,d.loadSDK)().then(function(){window.mqq,window.mqq.compare(c),window.mqq&&window.mqq.compare&&window.mqq.compare(c)>=0?e(!0):e(!1)});break;case A.MEDIA_NAME.UNION_SDK:if(_.default.getIsXQUnionMinVersion(c))return void e(!0);if(_.default.getIsGDTUnionMinVersion(n[t],{major:!1,minor:!1}))return void e(!0);e(!1);break;case A.MEDIA_NAME.IOS_GDT_UNION_SDK:_.default.getIsGDTUnionMinVersion(n[t])?e(!0):e(!1);break;case A.MEDIA_NAME.QNEWS:(0,d.loadSDK)().then(function(){window.TencentNews&&window.TencentNews.invoke("getAppInfo",{onCallback:function(r){(0,v.default)(r.version,n[t])>=0?e(!0):e(!1)}})});break;default:e(!1)}}else{var u=o.match(/QQLiveBrowser\/(([\d]+).)+/i);if(u&&u.length>0){var l=u[0].split("/");l.length>1&&(a=l[1])}var p=B[t];p&&a&&"0.0.0"!==a&&(0,v.default)(a.trim(),p)>=0?e(!0):e(!1)}})}function W(e,t){return new Promise(function(n){if(/QQLiveBrowser/i.test(e)){var r=t();n({type:"QQLiveBrowser_".concat(r),valid:!0})}else switch(p.mediaName){case A.MEDIA_NAME.IOS_UNION_SDK:case A.MEDIA_NAME.QQ:case A.MEDIA_NAME.IOSQQ:case A.MEDIA_NAME.IOS_GDT_UNION_SDK:n({type:p.mediaName,valid:!0});break;case A.MEDIA_NAME.UNION_SDK:_.default.getIsXQUnionMinVersion("8.420.2590.0")?n({type:p.mediaName,valid:!0}):_.default.getIsGDTUnionMinVersion()?n({type:"GDT_".concat(p.mediaName),valid:!0}):n({type:p.mediaName,valid:!1});break;case A.MEDIA_NAME.IOS_UNSURE_MEDIA:if((0,f.judgeClient)()===f.judgeClient.SYS.IOS){if(/qqnews\//i.test(e))return void n({type:"QNEWS_iOS",valid:!0})}_.default._getSDKVersionPromise().then(function(e){n("0.0.0"===e?{type:p.mediaName,valid:!1}:{type:p.mediaName,valid:!0})}).catch(function(){n({type:p.mediaName,valid:!1})});break;case A.MEDIA_NAME.QNEWS:n({type:"".concat(p.mediaName,"_Android"),valid:!0});break;default:n({type:p.mediaName,valid:!1})}})}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.long_pos_id;return P||(P=new Promise(function(t){e?w.default.fetch("".concat(M,"/service/getWxAppIdByPosId?posId=").concat(e),"GET",{posId:e}).then(function(e){var n=e.code,r=e.data;0===n&&r.wxAppId?t(r.wxAppId):t()}).catch(function(e){console.error("get wxAppId error: ",e),t()}):t()})),P}function V(){return k||(k=new Promise(function(e){if(!L)return e();w.default.fetch("".concat(M,"/page/aid/").concat(L),"GET").then(function(t){var n=t.code,r=t.data;if(0===n&&r){var o=r.split(";"),i=(0,u.default)(o,2),a=(i[0],i[1]);e(a)}else e()}).catch(function(t){console.error("get product_id error: ",t),e()})})),k}function X(e){return C||(C=new Promise(function(t){var n=setTimeout(function(){t({support:!1,preloadType:null})},500);window.sfetch("https://v.qq.com/cache/wuji_public/object?appid=xjFrontEnd&schemaid=preload_switch_list&schemakey=35528a6618354078bd8d76cb26123bcd").then(function(r){200===r.status&&r.json().then(function(r){if(r&&200===r.code){clearTimeout(n);var o=r.data.find(function(t){return t.media_name===e});if(o){var i=JSON.parse(o.settings),a=null;i.env_preload&&(a=1),i.code_package_preload&&(a=2),t({support:!!a,preloadType:a})}}})}).catch(function(e){console.error("setting error: ",e)})})),C}function J(){return(J=(0,c.default)(i.default.mark(function e(t,n,r){var o,a,s,c,l,m,v,g,y,A,_,w,T,E,S,O=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=O.length>3&&void 0!==O[3]&&O[3],a="miniGame"===r?"miniGame":"miniProgram",s="miniGame"===r?["wegame"]:["weapp"],c=t.miniProgram_id,l=t.miniProgram_link,m=t.clipboardConfig,v=I&&I.long_pos_id,g="XIJING_PREVIEW",m&&(0,f.clipBoard)(m),l=Y(l,"weixinadinfo","".concat((0,f.getGdtAdId)(),".").concat((0,b.getTraceId)(),".0.0")),(0,h.TdwReportTrigger)(n,{ei:4006016,eiName:"wegame-start",preload_status_code:0,jumpTypes:s,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}}),e.next=12,W(navigator.userAgent,f.judgeClient);case 12:if(y=e.sent,A=y.type,y.valid){e.next=18;break}return(0,h.TdwReportTrigger)(n,{ei:4006018,eiName:"wegame-fail",jumpTypes:s,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}},!0),e.abrupt("return",{res:!1,enableMedia:!1});case 18:return(0,h.TdwReportTrigger)(n,{ei:4006017,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}}),e.next=21,q({type:A,versionMap:B,mediaName:p.mediaName,userAgent:navigator.userAgent,miniType:r});case 21:if(e.sent){e.next=25;break}return(0,h.TdwReportTrigger)(n,{ei:4006020,eiName:"wegame-fail",jumpTypes:s,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}},!0),e.abrupt("return",{res:!1,enableVersion:!1});case 25:if((0,h.TdwReportTrigger)(n,{ei:4006019,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}}),_=[],!F[A]){e.next=41;break}if(I&&I.long_pos_id){e.next=38;break}if(!p.WX_APP_ID_MAP[A]){e.next=34;break}v=g,_.push(function(){return Promise.resolve(p.WX_APP_ID_MAP[A])}),e.next=36;break;case 34:return(0,h.TdwReportTrigger)(n,{ei:4006067,eiName:"wegame-fail",jumpTypes:s,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}},!0),e.abrupt("return",{res:!1});case 36:e.next=39;break;case 38:_.push(H);case 39:e.next=42;break;case 41:_.push(function(){return Promise.resolve()});case 42:return"miniGame"===a&&_.push(V),e.next=45,Promise.all(_.map(function(e){return e()}));case 45:if(w=e.sent,T=(0,u.default)(w,2),E=T[0],S=T[1],!F[A]||E){e.next=52;break}return(0,h.TdwReportTrigger)(n,{ei:4006067,eiName:"wegame-fail",jumpTypes:s,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}}),e.abrupt("return",{res:!1});case 52:return S&&"miniGame"===a&&(l+="&wxgamepro=".concat(S)),(0,h.TdwReportTrigger)(n,{ei:4006025,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}}),e.abrupt("return",new Promise(function(e){(0,d.openMiniProgram)({id:c,link:l,type:A,params:{posId:v,wxAppId:E},callback:function(t){return t?((0,h.TdwReportTrigger)(n,{ei:4006027,eiName:"wegame-fail",jumpTypes:s,biz:{wx_sdk_method:3,origin_error_code:t&&t.code||999,rpt_from:t&&t.mediaName,jump_type:a,standby_jump:o}},!0),e({res:!1,msg:"跳转失败",productId:S})):((0,h.TdwReportTrigger)(n,{ei:4006026,eiName:"wegame-success",jumpTypes:s,biz:{wx_sdk_method:3,jump_type:a,standby_jump:o}},!0),e({res:!0}))}})}));case 55:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(){return(Q=(0,c.default)(i.default.mark(function e(t,n,r){var o,a,s,c,u,l,m,v,g,y,w;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.delay)(3e3);case 2:return o="miniGame"===r?"miniGame":"miniProgram",e.next=5,new Promise(function(e){switch(p.mediaName){case A.MEDIA_NAME.UNION_SDK:_.default.getIsXQUnionMinVersion("8.420.2590.0")?e({type:p.mediaName,valid:!0}):_.default.getIsGDTUnionMinVersion()?e({type:"GDT_".concat(p.mediaName),valid:!0}):e({type:p.mediaName,valid:!1});break;case A.MEDIA_NAME.QNEWS:e({valid:!0,type:"".concat(A.MEDIA_NAME.QNEWS,"_Android")});break;default:e({valid:!1,type:p.mediaName})}});case 5:if(a=e.sent,s=a.type,c=a.valid){e.next=10;break}return e.abrupt("return");case 10:return u=t.miniProgram_id,l=Y(l=t.miniProgram_link,"weixinadinfo","".concat((0,f.getGdtAdId)(),".").concat((0,b.getTraceId)(),".0.0")),e.next=14,X(s);case 14:return m=e.sent,v=m.support,g=m.preloadType,e.next=19,q({type:s,versionMap:B,mediaName:p.mediaName,userAgent:navigator.userAgent,miniType:r});case 19:if(y=e.sent,w="",!F[s]){e.next=31;break}if(I&&I.long_pos_id){e.next=25;break}return(0,h.TdwReportTrigger)(n,{ei:4006044,biz:{wx_sdk_method:g,preload_type:o}},!0),e.abrupt("return");case 25:return e.next=27,H(I&&I.long_pos_id);case 27:if(w=e.sent){e.next=31;break}return(0,h.TdwReportTrigger)(n,{ei:4006044,biz:{wx_sdk_method:g,preload_type:o}},!0),e.abrupt("return");case 31:c&&y&&v&&((0,h.TdwReportTrigger)(n,{ei:4006025,biz:{wx_sdk_method:g,preload_type:o}}),(0,d.preloadMiniProgram)({id:u,link:l,type:s,params:{posId:I&&I.long_pos_id,preloadType:g,wxAppId:w,executeType:"preload"},callback:function(e){e?(0,h.TdwReportTrigger)(n,{ei:4006027,biz:{wx_sdk_method:g,origin_error_code:e&&e.code||999,rpt_from:e.mediaName,preload_type:o}}):(0,h.TdwReportTrigger)(n,{ei:4006026,biz:{wx_sdk_method:g,preload_type:o}})}}));case 32:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t,n){var r=e;return e.includes("?")?r+="&".concat(t,"=").concat(n):r+="?".concat(t,"=").concat(n),r}function z(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;e.clipboardConfig&&(0,f.clipBoard)(e.clipboardConfig),(new K).showLoading(),(0,h.TdwReportTrigger)(t,{action_type:"xj_quick_app_click",status:{param:x,jumpType:r,trace_url:location.href,jumpUseJsApi:N},eiName:"haplink-start",jumpTypes:["haplink"]},!0),O.dmpReport({actionType:m.REPORT_TYPE.QUICK_APP,customAction:m.REPORT_TYPE.XJ_QUICK_APP_CLICK});var o=function(e){if(!e)return"";if(!e.includes("?"))return"".concat(e,"?qz_gdt=").concat((0,b.getTraceId)());return"&"===e[e.length-1]?"".concat(e,"qz_gdt=").concat((0,b.getTraceId)()):"".concat(e,"&qz_gdt=").concat((0,b.getTraceId)())}(e.hapLink),i=function(e){var t=e.hapLink,n=e.jumpType,r=e.event;return new T.CallChain(function(){var e=(0,T.extractHapLink)(t),o=e.packageName,i=e.path,a=e.params;return new Promise(function(e){if(!o)return e("nextSuccessor");(0,E.default)("//statres.quickapp.cn/quickapp/js/routerinline.min.js",{returnPromise:!0}).then(function(){window.appRouter?setTimeout(function(){console.error("调用方式: appRouter, 调用参数: ".concat(o," ").concat(i," ").concat(a,", 优先级是: ").concat(2)),(0,d.detectJumpoutByVisibility)(function(t){t?e("nextSuccessor"):(O.dmpReport({actionType:m.REPORT_TYPE.QUICK_APP,customAction:m.REPORT_TYPE.XJ_QUICK_APP_SUCCESS}),(new K).hideLoading(),(0,h.TdwReportTrigger)({reportName:"jump_quick_app"},{action_type:"xj_quick_app_success_inner",status:{manufacturer:G(),jtype:"url",priority:2,device:null,param:x,trace_url:location.href,jumpType:n,jumpUseJsApi:N}},!0),(0,h.TdwReportTrigger)(r,{eiName:"haplink-success",jumpTypes:["haplink"]}),e())}),o?window.appRouter(o,i,a):e("nextSuccessor")},100):e("nextSuccessor")}).catch(function(t){console.error("跳转快应用加载sdk失败: ",t),e("nextSuccessor")})})})}({hapLink:o,jumpType:r,event:t}),a=function(e){var t=e.hapLink,n=e.jumpType,r=e.event;return new T.CallChain(function(){return new Promise(function(e){console.error("调用方式: deeplink, 调用参数: ".concat(t,", 优先级是: ").concat(1,", 这是jsapi")),(0,h.TdwReportTrigger)({reportName:"jump_quick_app"},{ei:"4008012",status:{manufacturer:G(),jtype:"jsapi",priority:1,device:null,jumpType:n,trace_url:location.href,jumpUseJsApi:N}}),(0,d.default)(t,function(t){t?((0,h.TdwReportTrigger)({reportName:"jump_quick_app"},{ei:"4008014",status:{manufacturer:G(),jtype:"jsapi",priority:1,device:null,trace_url:location.href,jumpUseJsApi:N}},!0),e("nextSuccessor")):(O.dmpReport({actionType:m.REPORT_TYPE.QUICK_APP,customAction:m.REPORT_TYPE.XJ_QUICK_APP_SUCCESS}),(0,h.TdwReportTrigger)({reportName:"jump_quick_app"},{action_type:"xj_quick_app_success_inner",status:{manufacturer:G(),jtype:"jsapi",priority:1,device:null,jumpType:n,trace_url:location.href,jumpUseJsApi:N}},!0),(0,h.TdwReportTrigger)({reportName:"jump_quick_app"},{ei:"4008013",status:{manufacturer:G(),jtype:"jsapi",priority:1,device:null,jumpType:n,trace_url:location.href,jumpUseJsApi:N}},!0),(0,h.TdwReportTrigger)(r,{eiName:"haplink-success",jumpTypes:["haplink"]}),e())})})})}({hapLink:o,jumpType:r,event:t}),s=function(e){var t=e.hapLink,n=e.jumpType,r=e.event;return new T.CallChain(function(){return new Promise(function(e){var o=1===N?2:1;console.error("调用方式: deeplink 点众方案, 调用参数: ".concat(t,", 优先级是: ").concat(o)),(0,d.detectJumpoutByVisibility)(function(t){t?e("nextSuccessor"):(O.dmpReport({actionType:m.REPORT_TYPE.QUICK_APP,customAction:m.REPORT_TYPE.XJ_QUICK_APP_SUCCESS}),(new K).hideLoading(),(0,h.TdwReportTrigger)({reportName:"jump_quick_app"},{action_type:"xj_quick_app_success_inner",status:{manufacturer:G(),jtype:"deeplink_dz",priority:o,device:null,param:x,trace_url:location.href,jumpType:n,jumpUseJsApi:N}},!0),(0,h.TdwReportTrigger)(r,{eiName:"haplink-success",jumpTypes:["haplink"]}),e())}),location.href=t})})}({hapLink:o,jumpType:r,event:t}),c=function(e){var t=e.data,n=e.event,r=e.callBack,o=e.jumpType;return new T.CallChain(function(){return new Promise(function(e,i){if(console.error("调用方式: standby, 调用参数: ".concat(t.hapLink_standby_link,", 优先级是: 3")),O.dmpReport({actionType:m.REPORT_TYPE.QUICK_APP,customAction:m.REPORT_TYPE.XJ_QUICK_APP_FAIL}),(new K).hideLoading(),(0,h.TdwReportTrigger)({reportName:"jump_quick_app"},{action_type:"xj_quick_app_success_inner",status:{manufacturer:G(),jtype:"standby",priority:3,device:null,param:x,trace_url:location.href,jumpType:o,jumpUseJsApi:N}},!0),(0,h.TdwReportTrigger)(n,{eiName:"haplink-fail",jumpTypes:["haplink"]}),r)return r();t.url=t.hapLink_standby_link,(0,f.jumpLinkCommonFunction)({type:"link",data:t,event:n})})})}({data:e,event:t,callBack:n,jumpType:r});1===N?(a.setNextSuccessor(s),s.setNextSuccessor(c),a.passRequest()):(s.setNextSuccessor(i),i.setNextSuccessor(c),s.passRequest())}var K=function(){function e(){return(0,a.default)(this,e),void 0===e.prototype.instance&&(e.prototype.instance=this,this.wrapper=null,this.init()),e.prototype.instance}return(0,s.default)(e,[{key:"init",value:function(){this.wrapper?this.wrapper.style.display="block":(this.createDom(),this.bindCloseEvent())}},{key:"createDom",value:function(){var e='\n            <div style="\n                width: '.concat(this.remToPx(4.3),";\n                height: ").concat(this.remToPx(3.5),';\n                position: absolute;\n                left: 0;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                margin: auto;\n            ">\n                <div style="\n                    position: relative;\n                    left: 0;\n                    top: 0;\n                    padding: ').concat(this.remToPx(.44)," 0 ").concat(this.remToPx(.4),";\n                    background-color: #fff;\n                    border-radius: ").concat(this.remToPx(.18),';\n                    box-sizing: border-box;\n                ">\n                    <div id="quick-app-close-btn" style="\n                        position: absolute;\n                        right: 0;\n                        top: ').concat(this.remToPx(-.6),";\n                        height: ").concat(this.remToPx(.45),";\n                        width: ").concat(this.remToPx(.45),";\n                        background: url('//qzs.qq.com/ams-web/public/playable/kuaishou/04/images/close.png') no-repeat center center;\n                        background-size: 100%;\n                        border-radius: ").concat(this.remToPx(.3),';\n                    "></div>\n                    <div style="\n                        margin: 0 auto;\n                        width: ').concat(this.remToPx(2.13),";\n                        height: ").concat(this.remToPx(2.13),";\n                        background: url('//xj.gdtimg.com/xjimg/0/54456739ce9fc24879d72ebf9288de947e6e9eda.gif/0') no-repeat 0 0;\n                        background-size: 100%;\n                    \"></div>\n                    <div style=\"\n                        display: block;\n                        margin: auto;\n                        height: ").concat(this.remToPx(.6),";\n                        width: ").concat(this.remToPx(2.5),";\n                        color: rgba(0,0,0,0.5);\n                        text-align: center;\n                        line-height: ").concat(this.remToPx(.6),";\n                        border-radius: ").concat(this.remToPx(.36),";\n                        font-size: ").concat(this.remToPx(.32),';\n                    ">内容加载中...</div>\n                </div>\n            </div>\n        '),t=document.createElement("div");t.style.position="fixed",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.style.backgroundColor="rgba(0,0,0,.6)",t.style.zIndex="1800",t.innerHTML=e,document.body.appendChild(t),this.wrapper=t}},{key:"bindCloseEvent",value:function(){var e=this,t=document.getElementById("quick-app-close-btn");t&&w.default.on(t,"tap",function(t){e.hideLoading(t)})}},{key:"showLoading",value:function(){this.wrapper&&(this.wrapper.style.display="block")}},{key:"hideLoading",value:function(e){this.wrapper&&(this.wrapper.style.display="none"),e&&(e.stopPropagation(),e.preventDefault())}},{key:"remToPx",value:function(e){return(e*(window.innerWidth/375*37.5)).toFixed(4)+"px"}}]),e}();t.AutoJumpQuickApp=function(){function e(t,n){return(0,a.default)(this,e),void 0===e.prototype.instance&&(e.prototype.instance=this,this.hapLink=t,this.componentName=n,this.init()),e.prototype.instance}return(0,s.default)(e,[{key:"init",value:function(){(0,h.TdwReportTrigger)({reportName:this.componentName},{action_type:"xj_quick_pv",status:{param:x,trace_url:location.href}},!0),1===x&&("loading"===document.readyState&&document.addEventListener?document.addEventListener("DOMContentLoaded",this.autoJump.bind(this)):this.autoJump())}},{key:"autoJump",value:function(){var e=(0,c.default)(i.default.mark(function e(){var t=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){z(t.hapLink,{reportName:t.componentName},null,1)},300);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"CommonHelpers",function(){return g});var r=n(21),o=n.n(r),i=n(3),a=n.n(i),s=n(14),c=n.n(s),u=n(1),l=n.n(u),d=n(20),p=n.n(d),f=n(2),m=n(15),h=(n(322),{DOWNLOAD:"download",WECHAT:"wechat",LINK:"link",FORM:"form",MINIPROGRAM:"miniProgram",HAPLINK:"hapLink",MINIGAME:"miniGame",FLOATFORM:"floatForm"}),v={liteExpInfo:null,downloadTriggerPlayPromise:null,downloadTriggerPlayHasStart:!1,transformToStartPromise:null},g={isDownloadPage:function(){return["android-app-h5","ios-app-h5","default-h5"].indexOf(l.a.pageType)>-1},getDownloadButtonDOM:function(){var e;return Object.keys(p.a).some(function(t){var n=p.a[t];if(e=document.querySelector("[data-type=".concat(n,"]")))return!0}),e},_LinkButtonDOMCache:null,recordLinkButtonDOM:function(e){this._LinkButtonDOMCache||(this._LinkButtonDOMCache=e)},getLinkButtonDOM:function(){return this._LinkButtonDOMCache},isPortraitWebview:function(){return window.innerWidth/window.innerHeight<5/6}};t.default={isSDKReadyPromise:function(){return this.sdkCache?this.sdkCache:(this.sdkCache=new Promise(function(e){window.XJ_PLAY_COMPONENT?e():window.loadjs("//".concat(l.a.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/sdk/interactive/play.component.core.min.js"),function(){e()})}),this.sdkCache)},initLeadPlay:function(e,t,r,o,i,a,s){if(o=o||h.DOWNLOAD,i=i||{useDeeplink:!1,deeplink:"",transformText:""},o!==h.DOWNLOAD||g.isDownloadPage())if(g.isPortraitWebview()){var c=g.getDownloadButtonDOM();if(o!==h.DOWNLOAD||c){var u=n(127),l=(u.bindDownloadStatusChange,u.TransformManage);e.style.opacity="0",this.isSDKReadyPromise().then(function(){var n,c=new l({transformType:o,componentUid:e.dataset.componentUid,transformConfig:i});n=function u(){return window.XJ_PLAY_COMPONENT.init({container:e,businessId:"XJ|derive",ruleId:a,componentId:t,previewToken:s,transformText:i.transformText,getTraceId:f.getTraceId,onTransform:function(){c.transformStart(n),o!==h.WECHAT&&o!==h.FORM&&o!==h.FLOATFORM||(e.innerHTML="",e.setAttribute("style",""),setTimeout(function(){u()},50))},onEntryLoaded:function(){},onLoaded:function(){e.style.opacity="1"},onClose:function(){e.parentNode&&e.parentNode.removeChild(e)},triggerConfig:r?{y:r.y}:null})}(),c.extraProcess({transformType:o,uniqId:n})})}else console.warn("没有下载按钮，跳过初始化轻互动")}else console.warn("非常规竖屏，跳过初始化轻互动");else console.warn("非下载类页面，跳过初始化轻互动")},getLeadPlayTransformToStartPromise:function(e,t,r,o,i){var a=this;if(!v.transformToStartPromise){if(!e||!t&&!i)return Promise.reject();var s=this;e.style.opacity="0",e.style.zIndex="-1",v.transformToStartPromise=new Promise(function(c,u){a.isSDKReadyPromise().then(function(){var a=window.XJ_PLAY_COMPONENT.init({container:e,businessId:"XJ|deriveTransformToStart",componentId:t,previewToken:i,ruleId:o,getTraceId:f.getTraceId,autoStart:!1,onEntryLoaded:function(){c({start:function(){v.downloadTriggerPlayHasStart||(s.showPlayDownloadTips(),setTimeout(function(){window.XJ_PLAY_COMPONENT.start(a),v.downloadTriggerPlayHasStart=!0,e.style.zIndex="1000",e.style.opacity="1"},500),setTimeout(function(){s.hidePlayDownloadTips()},2e3))}})},onLoaded:function(){},triggerConfig:r?{y:r.y}:null,onClose:function(){e.parentNode&&e.parentNode.removeChild(e)}}),u=n(127),l=u.bindDownloadStatusChange;u.TransformManage;l(a)})})}return v.transformToStartPromise},initPlayLiteExp:function(){function e(){if(v.liteExpInfo)return v.liteExpInfo;var e={GAME:1,INTERNET_SERVICE:11},t=a()(a()({},e.GAME,{whitelist:"//v.qq.com/cache/wuji_public/object/".concat(l.a.accountId,"?appid=xjFrontEnd&schemaid=play_cmp_lite_whitelist&schemakey=5f5d7298d660425cbf4f5b91fa0b0ded")}),e.INTERNET_SERVICE,{whitelist:"//v.qq.com/cache/wuji_public/object/".concat(l.a.accountId,"?appid=xjFrontEnd&schemaid=play_cmp_lite_whitelist_internet_service&schemakey=5f5d7298d660425cbf4f5b91fa0b0ded")}),n=Object(m.getExpParams)()||{},r=parseInt(n.withPlayComponent,10),o=[e.GAME,e.INTERNET_SERVICE].indexOf(r)>-1;return v.liteExpInfo={isInExp:o,whitelistURL:o?t[r].whitelist:""},v.liteExpInfo}if(e().isInExp&&!l.a.isLite){var t=g.getDownloadButtonDOM(),r=g.getLinkButtonDOM();(t||r)&&window.loadjs&&window.loadjs("//xj.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/js/sdk/interactive/play.component.lite.min.js",function(){window.sfetch(e().whitelistURL,{method:"GET"}).then(function(e){return e.json()}).then(function(e){if(e.data){var o=JSON.parse(e.data.options),i="default-h5"!==l.a.pageType?"".concat(l.a.pageId):"default",a=o[i];if(a)if(window.innerWidth/window.innerHeight>5/6&&!a.showForce)console.warn("webview比例不合适，跳过");else{var s=window.XJ_PLAY_COMPONENT_LITE.init({getTraceId:function(){return Object(f.getTraceId)()},onTransform:function(){t?t.click():r&&r.click()},tempExpOptions:a});if(t)try{(new(0,n(43).default)).spaDownloader.on("statusChange",function(e){window.XJ_PLAY_COMPONENT.updateTransformStatus({targetUniqId:s,statusType:"download",status:e})})}catch(e){}}else console.warn("该落地页无对应配置，key: ".concat(i))}}).catch(function(e){})})}},getDownloadTriggerPlayPromise:function(){var e=this;return v.downloadTriggerPlayPromise?v.downloadTriggerPlayPromise:(v.downloadTriggerPlayPromise=new Promise(function(){var t=o()(c.a.mark(function t(n,r){var o,i,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(111===parseInt((Object(m.getExpParams)()||{}).withPlayComponent,10)){t.next=4;break}return r(),t.abrupt("return");case 4:if(-1!=["android-app-h5","default-h5"].indexOf(l.a.pageType)){t.next=7;break}return r(),t.abrupt("return");case 7:if(l.a.appData&&l.a.appData.appId){t.next=10;break}return r(),t.abrupt("return");case 10:return t.next=12,window.sfetch("//v.qq.com/cache/wuji_public/object/".concat(l.a.appData.appId,"?appid=xjFrontEnd&schemaid=play_cmp_lite_whitelist_download_trigger&schemakey=5f5d7298d660425cbf4f5b91fa0b0ded"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){if(!e.data)return-1;var t=JSON.parse(e.data.options);return t.all&&t.all.componentId?t.all.componentId:-1});case 12:if(-1!==(o=t.sent)){t.next=16;break}return r(),t.abrupt("return");case 16:i=e,a=function(){var e=document.createElement("div");e.classList.add("XJ_PLAY_COMPONENT-container"),document.body.appendChild(e),Object.assign(e.style,{position:"fixed",zIndex:"-1",opacity:"0",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"});var t=window.XJ_PLAY_COMPONENT.init({container:e,businessId:"expDownloadTrigger",componentId:o,getTraceId:f.getTraceId,autoStart:!1,onEntryLoaded:function(){n({start:function(){v.downloadTriggerPlayHasStart||(i.showPlayDownloadTips(),setTimeout(function(){window.XJ_PLAY_COMPONENT.start(t),v.downloadTriggerPlayHasStart=!0,e.style.zIndex="1000",e.style.opacity="1"},500),setTimeout(function(){i.hidePlayDownloadTips()},2e3))}})},onLoaded:function(){}})},window.XJ_PLAY_COMPONENT?a():window.loadjs&&window.loadjs("//".concat(l.a.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/sdk/interactive/play.component.core.min.js"),function(){a()});case 19:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),v.downloadTriggerPlayPromise)},showPlayDownloadTips:function(){this.$tips=document.createElement("div"),this.$tips.classList.add("xj-play-download-tips"),this.$tips.innerHTML='\n            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgIHRpZmY6T3JpZW50YXRpb249IjEiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz4iLqjnAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ6SURBVHgBxVdNaxRBFKxZJ+bLRGNEBCP4AYoHUREUFMSD/yEgePSnedaLB6+CNz1IQBGiHgQTJJuPzdeS7MykKv16Zxh2N8mw0ymodJbt6ar3uvvtmwjHRJZl4xzukbfJa+RNcp5skg+jKFpHBcRHTaDwDIfn5GNykmyQZ8g5csr4gnyPCogHCI9xeGnikQl7rJCLxiajryQOW7iX+AUOb8iLJqx5y+RXcoGCqxgS4h7iVzi8IqfJlGyTHyj6BTUgLokr8nkTz8jf5FuKt1ETyhl4jTzybxR+h5rRNcDodeCmTHwxhHjXAMUV9SMT3yQ/IhB8Bp6ZuE77p6pFpZIBRj/K8S7codug+AICQnf8lokn5GcEhrbgKlz6hb8IDBmYhYt+j+lvITC0BfqBUQb+4xQgAyPIS25wxCauQ7iLQODN03UXs4YJy8QkwsEbaMhA6xQMKPNqaiIZaJqBCabmHGqGpV/ihw2O/iyZAV3FOdQPL941oOLTNhM3UD9U+n2LlzRYfPb4zy8zMM0UXUdN4Npn4a69xDvUznyj+dMMiPc5cQRDBteU1gTyrlqBu32gk+2CCX35BMOHmh0fvcp+2jVg+E5umYlZOn6AIcF6zXHTyyzgQ0SliUrRU5us6viP/MEHKlVJS/sl5OW+Q65yvaSnAXvoPFx7NmYPya16xCWcTFwpn/EfyX24l5j94rx+LybKgM7BKPLDKSN/4Lqmdp/nFKl/XYtNODXx5WLkAw0UFrwD9yKaFpjYgps2dkzMl9e0xDVy3R+6ExkwE9oKFajLBQPpACZGCa9RuDNo/SMNFIz47kktvLbIXymJSUTbsgN3k1r9Ii7jAM5N5GLcwprHAAAAAElFTkSuQmCC" />\n            <span>全力下载中...请稍候</span>\n        ',document.body.appendChild(this.$tips)},hidePlayDownloadTips:function(){document.body.removeChild(this.$tips)}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fullSmartConsult=function(e){var t=e.getAttribute("smart-link"),n='<iframe class="iframe-consult-layer" src="'.concat(s(u(t)),'" style="width: 100%; height: 100%;border: none;"></iframe>');e.innerHTML=n},t.openSmartConsultLayer=void 0,t.smartConsult=function(e){if(!e)return;var t=s(e);location.href=t},t.smartConsultPostMessage=d;var o=r(n(1)),i=n(2),a=n(51),s=(n(13),n(2),function(e){return"".concat(e.replace("__CLICKID__",(0,i.getTraceId)()).replace("__PAGEID__",o.default.pageId).replace("__APPID__","landing_page_xj"),"&page_owner_uid=").concat(o.default.accountId).concat((0,i.getConsultParams)())}),c=function(e){return"".concat(e,"&from=xjhalf")},u=function(e){return"".concat(e,"&from=xjfull")};var l=function(e){return["fmc.gdt.qq.com","fmc.qq.com","fmc.test.qq.com"].some(function(t){return e.indexOf(t)>-1})};function d(e){var t=e.iframeInitTime;window.addEventListener("message",function(e){if(e&&e.origin&&l(e.origin)&&e.data){console.error("咨询postMessage事件: ",e.data);var n={};try{n=JSON.parse(e.data)}catch(e){n={}}switch(n.type){case"tel":n.url&&(window.location.href="tel:".concat(n.url));break;case"performance":e.source.postMessage(JSON.stringify({type:"performance",data:{navigationStart:performance&&performance.timing&&performance.timing.navigationStart||0,serverTimestamp:window.serverTimestamp,iframeInitTime:t}}),"*");break;case"jump":default:n.url&&(window.location.href=n.url)}}})}t.openSmartConsultLayer=function(){var e=null,t="",n=!1;function r(){if(!n){if(e.$ref.style.height="80%",document.body.classList.add("body-Lock-scroll-Class-Name"),!document.querySelector(".m-consultmodal .xj-modal-mask")){var t=document.createElement("div");t.className="xj-modal-mask",e.$ref.insertBefore(t,document.querySelector(".m-consultmodal .xj-modal-wrap"))}var r=document.querySelector(".m-consultmodal .maskbody");r&&document.querySelector(".m-consultmodal .xj-modal-body").removeChild(r),n=!0}}function o(t){if(n||t){e.$ref.style.height="40%",document.body.classList.remove("body-Lock-scroll-Class-Name");var o=document.querySelector(".m-consultmodal .xj-modal-mask");if(o&&e.$ref.removeChild(o),!document.querySelector(".m-consultmodal .maskbody")){var i=document.querySelector(".m-consultmodal .xj-modal-body"),a=document.createElement("div");a.className="maskbody",a.addEventListener("touchstart",r),i.appendChild(a)}n=!1}}return function(i,u){if(!e){var l='<iframe class="iframe-consult-layer" src="'.concat(s(c(i)),'" width="100%"></iframe>');e=new a.Confirm({title:"客服在线为您服务",hideTitle:!1,content:l,closeable:!0,mask:!1,cover:!0,singleAndCoverBtn:!0,maskCloseAble:!1,noFooter:!0,visible:!1,zIndex:101,hideCancelBtn:!0,wrapClassName:"m-consultmodal",onClose:function(){var e=document.querySelector(".xj-website-connect--collapse");e&&(e.style.display="")}}),t=i,e.$ref&&e.$ref.addEventListener("click",function(e){"xj-modal-close-x"!==e.target.className&&(n?o():r())}),(f=document.querySelector(".m-consultmodal .xj-modal-header"))&&(f.addEventListener("touchstart",function(e){var t=e.changedTouches[0];p=t.clientY}),f.addEventListener("touchmove",function(e){e.stopPropagation(),e.preventDefault()}),f.addEventListener("touchend",function(e){if(0!==p){var t=e.changedTouches[0].clientY-p;p=0,t>10?o():t<-10&&r()}}),f.addEventListener("touchcancel",function(){p=0})),d({iframeInitTime:+new Date}),window.addEventListener("message",function(e){e.origin.includes("fmc.gdt.qq.com")&&e.data&&"user_input"===e.data.type&&!n&&r()},!1)}var p,f;i!==t&&(document.querySelector(".iframe-consult-layer").src=c(s(i)),t=i);e.open(),u?o(u):r();var m=document.querySelector(".iframe-consult-layer");m&&m.contentWindow.postMessage("scrollToBottom","*")}}()},function(e,t){e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XS_QLIVE_MEDIAS=t.XS_APP_MEDIAS=t.BRAND=void 0,t.disableAutoDownloadForHuaWei=function(e,t){var n=setTimeout(function(){t&&t(),(0,r.marketGXTReport)(u.huawei_disabled_qlive_auto_download_timeout)},s);(0,i.JSBridgeObtainDeviceInfo)(function(o){var i=JSON.parse(o);if(clearTimeout(n),i&&0===i.errCode&&i.result){var a=i.result.brand,s=i.result.manufacturer,l=d(a,s)===c.honor||d(a,s)===c.huawei;l?((0,r.marketGXTReport)(u.huawei_disabled_qlive_auto_download),e&&e(!0)):((0,r.marketGXTReport)(u.other_market_disabled_qlive_auto_download),e&&e(!1))}else(0,r.marketGXTReport)(u.disabled_qlive_auto_download_get_brand_failed),t&&t()})},t.disableXSAutoDownloadByGdtAdId=function(){if(!f())return!1;return-1!==(e=viewerData.xsDisabledAutoDownloadByGdtAdId,e&&"string"==typeof e?e.split(","):[]).map(function(e){return e.toString()}).indexOf((0,o.getParameter)(location.href,"gdt_ad_id")+""||"");var e},t.getObtainDeviceInfoTimeOut=void 0,t.isQLive=function(){var e=(0,r.getMediaId)();return a.indexOf(e)>-1},t.isSupportXSAutoDownload=f;var r=n(67),o=n(2),i=n(213),a=t.XS_QLIVE_MEDIAS=["40803343280609","90802410847906"],s=t.getObtainDeviceInfoTimeOut=300,c=t.BRAND={huawei:"huawei",honor:"honor"},u={huawei_disabled_qlive_auto_download:"huawei_disabled_qlive_auto_download",other_market_disabled_qlive_auto_download:"other_market_disabled_qlive_auto_download",disabled_qlive_auto_download_get_brand_failed:"disabled_qlive_auto_download_get_brand_failed",huawei_disabled_qlive_auto_download_timeout:"huawei_disabled_qlive_auto_download_timeout"};function l(e){var t=Object.keys(c),n="";return!!e&&(e=e.toLowerCase(),t.forEach(function(t){var r=t.toLowerCase();-1!==e.indexOf(r)&&0===n.length&&(n=r)}),n)}function d(e,t){return l(e)?l(e):l(t)?l(t):void 0}var p=t.XS_APP_MEDIAS=["40803343280609","10605338183892","20205430044969","90802410847906"];function f(){var e=(0,r.getMediaId)();return p.indexOf(e)>-1}},,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=n(25),a=n(310),s=n(306);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u={},l=0;window._InteractiveGameHelper=window._InteractiveGameHelper||{_eventQueueMap:{},wxAttentionDialog:document.querySelector(".xj-qa-content"),wxAttentionOption:document.querySelector(".xj-qa-option"),websiteFormLayer:document.querySelector(".xj-website-form"),websiteConnectLayer:document.querySelector(".xj-website-connect"),_isGameFinished:!1,setExtraData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u[e]=t,l++,(0,s.qaTdwReport)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({key:e,value:t,qaFrom:1,qaCount:l},n))},getExtraDataAll:function(){return u},resetExtraDataAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(u).forEach(function(e){delete u[e]}),Object.assign(u,e)},getVideoProp:function(){return-1!==[i.MEDIA_NAME.QB,i.MEDIA_NAME.QSPORTS].indexOf(viewerData.mediaName)?"base64Url":"url"},_pushEventQueue:function(e,t){this._eventQueueMap[e]||(this._eventQueueMap[e]=[]),this._eventQueueMap[e].push(t)},addFallbackGameEndListener:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.slideCount,r=void 0===n?1:n,o=t.touchCount,i=void 0===o?1:o,a=t.requiredPlayTime,s=void 0===a?2e4:a;if(!this._eventQueueMap.fallback){var c=0,u=0;-1!==r&&function(e){document.addEventListener("touchstart",function(e){var i=function(e){return e.touches||e.originalEvent.touches}(e)[0];r=i.clientX,o=i.clientY,t=r,n=o},!0),document.addEventListener("touchmove",function(e){r&&o&&(t=e.touches[0].clientX,n=e.touches[0].clientY)},!0),document.addEventListener("touchend",function(){var i=t-r,a=n-o;(Math.abs(i)>20||Math.abs(a)>20)&&e(),r=0,o=0},!0);var t,n,r=0,o=0}(function(){++c>=r&&e()}),-1!==i&&document.addEventListener("touchstart",function(t){++u>=i&&e()},!0),-1!==s&&setTimeout(function(){return e()},s)}this._pushEventQueue("fallback",e)},_playStartTime:(new Date).getTime(),_playDurationTimer:null,onPlayDurationReady:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).minDuration,n=void 0===t?5e3:t,r=(new Date).getTime()-this._playStartTime;r>=n?e():this._playDurationTimer||(this._playDurationTimer=setTimeout(function(){e()},n-r))},showMiniProgram:function(){window.XJViewer.WebsiteMiniProgramButton.showWebsiteMiniProgram()},jumpMiniProgram:function(){document.querySelector(".xj-mini-program-container").click()},showWxAttention:function(){window.XJViewer.WXAttention.showWxAttention()},triggerWxAttention:function(){document.querySelector(".xj-wx-attention-btn").click()},showFormLayer:function(){this.websiteFormLayer.style.display="",window.XJViewer.XJWebForm&&window.XJViewer.XJWebForm.showFormForInteractive()},showConnect:function(){var e=document.getElementsByClassName("connect-click-button")[0],t=JSON.parse(e&&e.dataset&&e.dataset.commonConfig||"{}");(0,a.triggerConnect)({target:e},e,t)},showPhone:function(){var e=document.querySelector(".xj-phone");window.XJViewer.XJPhone.triggerPhone(e,0,{preventDefault:function(){},target:{className:""}})},showContact:function(){window.XJViewer.XJContact.triggerMainTransform()},setGameFinished:function(e){this._isGameFinished=e},getGameFinished:function(){return this._isGameFinished},showWebsiteHapLink:function(){window.XJViewer.WebsiteHapLinkButton.showWebsiteHapLink()},jumpWebsiteHapLink:function(){document.querySelector(".xj-website-hap-link-button").click()}};t.default=window._InteractiveGameHelper},function(e,t,n){"use strict";n.r(t),n.d(t,"xjCommonReporter",function(){return i});var r=n(40),o=n(7),i=r.ActionReporter.create({url:"".concat(o.backendUrl,"/api/commonReport?x_business_id=xijing"),method:"post",headers:{"Content-type":o.CDN_HOSTS.includes(window.location.host)?"text/plain;charset=UTF-8":"application/json;charset=UTF-8"},delayConfig:{delay:500},useBeacon:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={CLICK:"click"}},function(e,t,n){"use strict";var r,o,i;n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),function(e){e.EOF="eof",e.OPERATOR="operator",e.PUNC="punc",e.NUM="num",e.STRING="string",e.NAME="name"}(r||(r={})),function(e){e.UNARY="unary",e.BINARY="binary",e.LITERAL="literal",e.SYMBOL="symbol",e.CALL="call",e.PARENTHESES="parentheses"}(o||(o={})),function(e){e.UNEXPECTED_CHAR="UNEXPECTED_CHAR",e.INVALID_NUMBER="INVALID_NUMBER",e.INVALID_STRING_END="INVALID_STRING_END",e.INVALID_STRING_ESCAPED_CHAR="INVALID_STRING_ESCAPED_CHAR",e.UNEXPECTED_TOKEN="UNEXPECTED_TOKEN",e.UNEXPECTED_COMMA="UNEXPECTED_COMMA",e.UNSUPPORTED_CALL_EXPRESSION="UNSUPPORTED_CALL_EXPRESSION",e.INVALID_EXPRESSION_END="INVALID_EXPRESSION_END"}(i||(i={}))},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(48),o=n(314),i=n(315),a="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){var u,l,d,p,f,m,h=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function A(t){var n=u,r=l;return u=l=void 0,h=t,p=e.apply(r,n)}function _(e){var n=e-m;return void 0===m||n>=t||n<0||g&&e-h>=d}function b(){var e=o();if(_(e))return w(e);f=setTimeout(b,function(e){var n=t-(e-m);return g?c(n,d-(e-h)):n}(e))}function w(e){return f=void 0,y&&u?A(e):(u=l=void 0,p)}function T(){var e=o(),n=_(e);if(u=arguments,l=this,m=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(b,t),v?A(e):p}(m);if(g)return clearTimeout(f),f=setTimeout(b,t),A(m)}return void 0===f&&(f=setTimeout(b,t)),p}return t=i(t)||0,r(n)&&(v=!!n.leading,d=(g="maxWait"in n)?s(i(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),T.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=m=l=f=void 0},T.flush=function(){return void 0===f?p:w(o())},T}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(1)),s=r(n(32)),c=function(){function e(t){var n=this;(0,o.default)(this,e),this.DOWNLOAD_STATUS=s.default.DOWNLOAD_STATUS,this.progressUI={color:"#fff",bg:"#1890ff"},t&&(this.progressBar=t,this.progressBarLeft=this.progressBar.querySelector(".wrap-left"),this.progressBarRight=this.progressBar.querySelector(".wrap-right"),this.progressBarTextLeft=this.progressBar.querySelector(".text-left"),this.progressBarTextRight=this.progressBar.querySelector(".text-right"),this.progressBarText=this.progressBar.querySelector(".download-button-text"),this.progressUI.bg=this.progressBar.dataset.bg||this.progressUI.bg,this.progressUI.color=this.progressBar.dataset.color||this.progressUI.color,this.whiteMoveAnimate=this.progressBar.querySelector(".white-move"),this.adjustButtonStyle(),setInterval(function(){n.adjustButtonStyle.bind(n)()},300),this.state={downloadStatus:null,statusText:null,downloadPercentage:null},this.isShow=!1,this.setProgressUI=this.setProgressUI.bind(this))}return(0,i.default)(e,[{key:"setState",value:function(e){var t=e.downloadStatus,n=e.statusText,r=e.downloadPercentage,o=e.hasClick;if(this.progressBar){switch(this.adjustButtonStyle(),t){case this.DOWNLOAD_STATUS.DEFAULT:this.progressBarText.innerHTML=this.progressBar.getAttribute("data-initText"),this.hide();break;case this.DOWNLOAD_STATUS.DOWNLOADING:"MINIGAME_INTERACTION"===a.default.playableType?(this.progressBarLeft.style.width="100%",this.progressBarRight.style.width="0%"):(this.progressBarLeft.style.width="".concat(100*r,"%"),this.progressBarRight.style.width="".concat(100*(1-r),"%")),this.progressBarTextLeft.innerHTML=n,this.progressBarTextRight.innerHTML=n,this.progressBarText.innerHTML=n,this.progressBar.style.background="transparent",this.show();break;case this.DOWNLOAD_STATUS.PAUSE_DOWNLOAD:1!==r&&0!==r||!o?o||0!==r&&1!==r?(this.progressBarLeft.style.width="".concat(100*r,"%"),this.progressBarRight.style.width="".concat(100*(1-r),"%")):(this.progressBarLeft.style.width="100%",this.progressBarRight.style.width="0%"):0!==r&&1!==r||(this.progressBarLeft.style.width="100%",this.progressBarRight.style.width="0%"),this.progressBarTextLeft.innerHTML=n,this.progressBarTextRight.innerHTML=n,this.progressBarText.innerHTML=n,this.show("pause");break;case this.DOWNLOAD_STATUS.WAITING:this.isShow||(this.progressBarLeft.style.width="100%",this.progressBarRight.style.width="0%"),this.progressBarTextLeft.innerHTML=n,this.progressBarTextRight.innerHTML=n,this.progressBarText.innerHTML=n,this.show("pause");break;default:this.progressBarTextLeft.innerHTML=n,this.progressBarTextRight.innerHTML=n,this.progressBarText.innerHTML=n,this.hide()}this.state={downloadStatus:t,statusText:n,downloadPercentage:r}}}},{key:"show",value:function(e){this.isShow=!0,this.progressBarText.style.display="none",this.progressBarLeft.style.display="block",this.progressBarRight.style.display="block",this.whiteMoveAnimate.style.display="pause"==e?"none":"block"}},{key:"hide",value:function(){this.isShow=!1,this.progressBarText.style.display="",this.progressBarLeft.style.display="none",this.progressBarRight.style.display="none",this.whiteMoveAnimate.style.display="none"}},{key:"setProgressUI",value:function(e){if(e){if(this.progressUI.bg==e.bg&&this.progressUI.color==e.color)return;this.progressUI=e}else e=this.progressUI;if(this.DOWNLOAD_STATUS.DOWNLOADING===(this.state&&this.state.downloadStatus)||this.DOWNLOAD_STATUS.PAUSE_DOWNLOAD===(this.state&&this.state.downloadStatus)?this.progressBar.style.background="transparent":this.progressBar.style.background=e.bg,this.progressBar.style.color=e.color,this.progressBar.style.borderColor=e.bg,this.progressBarRight.style.background=this.progressBar.dataset.progressBg||e.color,this.progressBarRight.style.color=this.progressBar.dataset.progressColor||e.bg,this.progressBarLeft.style.background=e.bg,this.progressBarLeft.style.color=e.color,this.progressBarText.style.color=e.color,this.state&&this.state.downloadStatus&&this.progressBar.dataset&&this.progressBar.dataset.app)switch(this.state.downloadStatus){case this.DOWNLOAD_STATUS.COMPLETE_DOWNLOAD:case this.DOWNLOAD_STATUS.INSTALLED:this.button=this.progressBar.querySelector(".xj-download-button"),this.button.style.background="#fff",this.button.style.border="1px solid ".concat(this.progressUI.bg),this.progressBarText.style.color=this.progressUI.bg}}},{key:"adjustButtonStyle",value:function(e){var t=this.progressBar.clientWidth,n=this.progressBar.getAttribute("data-height");this.progressBar.style.display="none",this.setProgressUI(e),this.progressBarTextLeft.style.width="".concat(t,"px"),this.progressBarTextRight.style.width="".concat(t,"px"),null!==n&&(this.progressBarLeft.style.height=n,this.progressBarLeft.style.lineHeight=n,this.progressBarRight.style.height=n,this.progressBarRight.style.lineHeight=n,this.progressBarTextLeft.style.height=n,this.progressBarTextLeft.style.lineHeight=n,this.progressBarTextRight.style.height=n,this.progressBarTextRight.style.lineHeight=n,this.progressBarText.style.height=n,this.progressBarText.style.lineHeight=n),this.progressBar.style.display="inline-block"}}]),e}();t.default=c},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.TransformTypes=t.TransformManage=void 0,t.bindDownloadStatusChange=l;var o=r(n(4)),i=r(n(5)),a=n(130),s=r(n(120)),c=(r(n(52)),r(n(309)));n(340);var u=t.TransformTypes={DOWNLOAD:"download",WECHAT:"wechat",LINK:"link",FORM:"form",MINIPROGRAM:"miniProgram",HAPLINK:"hapLink",MINIGAME:"miniGame",FLOATFORM:"floatForm"};t.TransformManage=function(){function e(t){(0,o.default)(this,e),this.init(t)}return(0,i.default)(e,[{key:"init",value:function(e){this.transformType=e.transformType,this.transformConfig=e.transformConfig,this.componentUid=e.componentUid}},{key:"transformStart",value:function(e){if(e){var t=window[a.GLOBAL_NAME].getExtraDataAllByUniqId(e);s.default.resetExtraDataAll(t)}if(this.transformType===u.WECHAT)document.querySelector('[data-wx-attention-uid="'.concat(this.componentUid,'"] .xj-wx-attention-btn')).click();else if(this.transformType===u.DOWNLOAD){(new c.default).triggerDownload()}else if(this.transformType===u.FLOATFORM)document.querySelector('[data-float-form-uid="'.concat(this.componentUid,'"] .xj-website-form')).style.display="",window.XJViewer.XJWebForm&&window.XJViewer.XJWebForm.showFormForInteractive(this.componentUid);else if([u.LINK,u.MINIPROGRAM,u.HAPLINK,u.MINIGAME,u.FORM].includes(this.transformType)){document.querySelector('[data-button-uid="'.concat(this.componentUid,'"]')).click()}}},{key:"extraProcess",value:function(e){e.transformType===u.DOWNLOAD&&l(e.uniqId)}}]),e}();function l(e){try{(new(0,n(43).default)).spaDownloader.on("statusChange",function(t){window[a.GLOBAL_NAME].updateTransformStatus({targetUniqId:e,statusType:"download",status:t})})}catch(e){}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=a},function(e,t,n){"use strict";n.r(t),n.d(t,"GLOBAL_NAME",function(){return c}),n.d(t,"GLOBAL_NAME_FOR_LITE",function(){return u}),n.d(t,"COMPONENT_PAGE_HOST",function(){return l}),n.d(t,"BUSINESS",function(){return r}),n.d(t,"BUSINESS_ID_TO_CONFIG",function(){return d});var r,o=n(3),i=n.n(o),a=n(73),s=n.n(a),c="XJ_PLAY_COMPONENT",u="XJ_PLAY_COMPONENT_LITE",l="play.spark-page.com";!function(e){e.TEST="test1234",e.MP_NATIVE_PAGE_WEBVIEW="MP"}(r||(r={}));var d=i()(i()({},r.TEST,{getTraceId:function(){return""},onEndMaps:{default:function(){console.info("[plugin onEnd] test - default")}},transformMaps:{default:function(){console.info("[plugin transform] test - default")}}}),r.MP_NATIVE_PAGE_WEBVIEW,{getTraceId:function(){var e=s.a.parse(location.search,{ignoreQueryPrefix:!0}).uxinfo;return(e?decodeURIComponent(e).split("|"):[])[1]||""},onEndMaps:{default:function(){console.info("[plugin onEnd] mp - default"),window.WeixinJSBridge&&window.WeixinJSBridge.invoke("opAdH5Func",{funcName:"controlFloatComponent",action:"show"},function(e){})}},getAdId:function(){var e=s.a.parse(location.search,{ignoreQueryPrefix:!0}).uxinfo;return(e?decodeURIComponent(e).split("|"):[])[0]||""}})},function(e,t,n){var r=n(169),o=n(170),i=n(171),a=n(172),s=n(173);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"downloadFromAppMarket",{enumerable:!0,get:function(){return r.downloadFromAppMarket}}),Object.defineProperty(t,"shouldJumpMobileAppMarket",{enumerable:!0,get:function(){return r.shouldJumpMobileAppMarket}});var r=n(324)},function(e,t,n){"use strict";n.r(t),n.d(t,"attachPolyfill",function(){return r});var r=function(){n(234),n(290),n(291).shim(),n(298).shim()}},function(e,t,n){var r=n(70)(n(50),"Map");e.exports=r},function(e,t,n){var r=n(144),o=n(91),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(183);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(45))},function(e,t,n){var r=n(71),o=n(184),i=n(185),a=n(151);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(66),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){var r=n(86),o=n(48),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==c}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(204);var r=n(2),o=n(12),i=function(e){return Number(e)-e==0?"".concat((e/37.5).toFixed(4),"rem"):e},a={init:function(e){if(e.id||(e.id=Math.random().toString()),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DIALOG_TRIGGER),!a.hasInit(e.id)){var t=document.createElement("div");t.className="XJ_pop_window",t.id=e.id;var n=a.createContent(e);t.append(n),t.addEventListener("click",function(){a.hide(e.id)}),document.body.append(t)}},createContent:function(e){var t=document.createElement("div");t.className="XJ_pop_window_content",t.style.cssText="background: ".concat(e.style.background||"transparent",";width: ").concat(i(e.style.width||280),";height: ").concat(i(e.style.height||360),";");var n=document.createElement("div");return n.className="XJ_pop_window_close",t.append(n),t.addEventListener("click",function(t){if(e.jumpOnClick&&e.jumpOnClick.enable){var n=new o.Report;n.dmpReport({actionType:o.REPORT_TYPE.LINK,customAction:""}),n.dmpReport({map:o.REPORT_TYPE_MAPS.NEW_GAME_ORDER}),(0,r.jumpLinkCommonFunction)({type:"link",data:e.jumpOnClick})}t.stopPropagation()}),n.addEventListener("click",function(t){t.stopPropagation(),a.hide(e.id)}),e.components.filter(function(e){return e.enable}).map(function(e){switch(e.type){case"XJImages":t.append(a.createImage(e));break;case"XJText":t.append(a.createText(e));break;case"XJWebsiteH5Button":t.append(a.createButton(e))}}),t},createImage:function(e){var t=e.layout,n=t.width,r=t.height,o=t.left,a=t.top,s=document.createElement("img");return s.src=e.config.image.url,s.style.cssText="z-index: 1;position: absolute;top: ".concat(i(a),";left: ").concat(i(o),"; width: ").concat(i(n),"; height: ").concat(i(r),";"),s},createText:function(e){var t=e.layout,n=t.width,r=t.height,o=t.left,a=t.top,s=e.config,c=s.content,u=c.editorType,l=c.richEditor,d=c.basicRich,p=s.style,f=p.backgroundColor,m=p.textAlign,h=p.color,v=p.fontSize,g=document.createElement("span"),y="z-index: 2;position: absolute;top: ".concat(i(a),";left: ").concat(i(o),"; width: ").concat(i(n),"; height: ").concat(i(r),";display: flex;flex-direction: column;justify-content: center;");return"basic"===u?(g.innerHTML=d,g.style.cssText="".concat(y,"line-height: normal;background:").concat(f,";color: ").concat(h,";font-size: ").concat(i(v),";text-align: ").concat(m,";")):(g.innerHTML=l,g.style.cssText="".concat(y,";font-size: ").concat(i(14),";")),g},createButton:function(e){var t=e.layout,n=t.width,r=t.height,o=t.left,a=t.top,s=e.config,c=s.content.text,u=s.style,l=u.backgroundColor,d=u.borderRadius,p=u.color,f=u.fontSize,m=document.createElement("div");return m.innerHTML=c,m.style.cssText="z-index: 3;position: absolute;top: ".concat(i(a),";left: ").concat(i(o),"; width: ").concat(i(n),"; height: ").concat(i(r),";line-height: normal;background:").concat(l,";border-radius: ").concat(i(d),";color: ").concat(p,";font-size: ").concat(i(f),";text-align: center;display: flex;flex-direction: column;justify-content: center;box-sizing: border-box;padding: 0 0.16rem;word-break: break-all;"),m},getDom:function(e){return document.getElementById(e)},hasInit:function(e){return a.getDom(e)},changeVisibility:function(e,t){var n=a.getDom(e);if(!n)return-1;n.style.display=t},show:function(e){-1!==a.changeVisibility(e,"block")&&window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_LANDINGPAGE_DIALOG_MOUNT)},hide:function(e){a.changeVisibility(e,"none")}};t.default=a},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(157);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.channelId=void 0,t.getClickId=A,t.getMaskPhoneInfo=t.getEncryptPhone=void 0,t.getMptraceId=_,t.isChinaMobileAndHasPermi=function(e){return 1==e.carrierType&&i.default.permission&&i.default.permission.includes(13)},t.protocolInfo=void 0;var o=r(n(3)),i=r(n(1)),a=n(13),s=n(2),c=n(7),u=r(n(26)),l=r(n(10));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f,m={DEVELOPMENT:"development",TESTING:"test",PRE_RELEASE:"prerelease",PRODUCTION:"prod",CDN:"cdn"},h=[m.TESTING,m.DEVELOPMENT].includes(i.default.env),v="".concat(c.backendUrl,"/api/form/pcg/getEncryptPhone"),g=t.channelId=h?"Amsxj10010testGrayed":"Amsxj10010",y=function(){return new Promise(function(e,t){if(!window.TXYZ)return t(new Error("not find window.TXYZ"));h&&window.TXYZ.setConfigProcess("test");var n=Date.now();window.TXYZ.getMaskMobile({params:{channelid:g,userid:A(),source:"v4"},success:function(t){console.warn("---------getMaskMobile success--------:",t),console.warn("----------duration:",Date.now()-n),e(t)},error:function(e){console.warn("---------getMaskMobile调用失败--------:",e);var n=new Error("window.TXYZ.getMaskMobile error callback has envoked, response data is: ".concat(JSON.stringify(e)));t(n)}})})};t.getMaskPhoneInfo=(f=null,function(e){return f||(f=(0,l.default)("https://obd.gtimg.com/gateway_mobile/gwpassh5.js",{returnPromise:!0}).then(y)),f}),t.getEncryptPhone=function(){var e=null;return function(t){return e||(e=u.default.fetch(v,"POST",p(p({},t),{},{channelId:g,userId:(0,s.getTraceId)()}))),e}}();function A(){return"1"===i.default.mpRender?_():(0,s.getTraceId)()}function _(){var e=(0,a.parseUrl)().uxinfo;return(e?decodeURIComponent(e).split("|"):[])[1]||(0,s.getTraceId)()}t.protocolInfo={1:{name:"中国移动认证服务条款",link:"https://wap.cmpassport.com/resources/html/contract.html"},2:{name:"联通统一认证服务条款",link:"https://opencloud.wostore.cn/authz/resource/html/disclaimer.html?fromsdk=true"},3:{name:"天翼账号协议",link:"https://e.189.cn/sdk/agreement/show.do?order=2&type=main&appKey=&hidetop=true&returnUrl="}}},function(e,t,n){"use strict";var r=n(374),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){var r=n(162),o=n(174),i=n(176),a=n(177),s=n(178);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),a=r(n(37)),s=n(2),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(22));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){return(0,s.judgeClient)()===s.judgeClient.SYS.ANDROID&&c.default.getIsGDTUnionMinVersion("4.350.1220")&&7===c.default.getSceneType()||(0,s.judgeClient)()===s.judgeClient.SYS.IOS&&c.default.getIsGDTUnionMinVersion("4.12.5")&&7===c.default.getSceneType()||(0,s.judgeClient)()===s.judgeClient.SYS.ANDROID&&c.default.getIsGDTUnionMinVersion("-1.-1.1330",{major:!1,minor:!1})&&1===c.default.getSceneType()||(0,s.judgeClient)()===s.judgeClient.SYS.IOS&&c.default.getIsGDTUnionMinVersion("4.13.60")&&1===c.default.getSceneType()}var d="4.10.85";function p(){return(0,s.judgeClient)()===s.judgeClient.SYS.ANDROID&&c.default.getIsXQUnionMinVersion("4.240.1110")&&5===c.default.getSceneType()||(0,s.judgeClient)()===s.judgeClient.SYS.IOS&&c.default.getIsXQUnionMinVersion(d)&&5===c.default.getSceneType()}var f={viewable:!1,onShow:function(e){function t(){setTimeout(function(){e({isFallback:!0})},0)}l()||p()?c.default.registerGDTUnionCallback("onPageShown",function(){e({isFallback:!1})}):"IOSUnsureMedia"!==i.default.mediaName||5!==c.default.getSceneType()?window.innerWidth&&window.innerHeight?t():this._windowSizeOnShow(function(){e({isFallback:!1})}):c.default.getIsXQIOSUnionMinVersionAsync(d,function(){c.default.registerGDTUnionCallback("onPageShown",function(){e({isFallback:!1})})},t)},onHidden:function(e){function t(){console.warn("该流量不支持监听webview隐藏：".concat(i.default.mediaName))}l()||p()?c.default.registerGDTUnionCallback("onPageHidden",function(){e()}):"IOSUnsureMedia"!==i.default.mediaName||5!==c.default.getSceneType()?t():c.default.getIsXQIOSUnionMinVersionAsync(d,function(){c.default.registerGDTUnionCallback("onPageHidden",function(){e()})},t)},_windowSizeOnShow:function(e){requestAnimationFrame(function t(){window.innerHeight&&window.innerWidth?e():requestAnimationFrame(t)})},hasSendRPT:!1};f.onShow(function(e){e.isFallback||f.hasSendRPT||!a.default.sendRPT||(a.default.sendRPT(a.default.RPTTYPE.WEBVIEW_FIRST_SHOW),f.hasSendRPT=!0),f.viewable=!0}),f.onHidden(function(){return f.viewable=!1});t.default=f},function(e,t,n){var r=n(74),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(152);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(74),o=n(188),i=n(71),a=n(66),s=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(70),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(140),o=n(159),i=n(48),a=n(141),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},function(e,t,n){var r,o=n(160),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(50)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(163),o=n(131),i=n(134);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(164),o=n(165),i=n(166),a=n(167),s=n(168);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(53);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(53),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(53),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(53),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(54),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(54);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(54);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(54);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(55);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(55);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(55);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(55);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(6)),i=r(n(4)),a=r(n(5)),s=r(n(136)),c=r(n(1)),u=n(13),l=n(41),d=n(7),p=r(n(19)),f=n(40);t.default=function(){function e(){(0,i.default)(this,e),this.retryCount=0,this.retryLimit=3}return(0,a.default)(e,[{key:"getDmpFormConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.actionParam,i=e.href,a=e.clickId;return{account_id:t,actions:[{action_time:n,action_type:r,action_param:o,user_action_set_id:e.userSetId,url:i,trace:{click_id:a}}],signature:e.signature}}},{key:"getDmpViewConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.href,i=e.clickId;return{account_id:t,actions:[{action_time:n,action_type:r,user_action_set_id:e.userSetId,url:o,trace:{click_id:i}}],signature:e.signature}}},{key:"getDmpDownloadConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.customAction,i=e.clickId,a=e.userSetId,s=e.signature;return{account_id:t,actions:[{action_time:n,action_type:r,custom_action:o,outer_action_id:s,action_param:e.actionParam,user_action_set_id:a,trace:{click_id:i}}],signature:s}}},{key:"getDmpQuickAppConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.customAction,i=e.clickId,a=e.userSetId,s=e.signature;e.actionParam;return{account_id:t,actions:[{action_time:n,action_type:r,custom_action:o,outer_action_id:s,user_action_set_id:a,trace:{click_id:i}}],signature:s}}},{key:"getDmpWXCardConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.clickId,i=e.userSetId,a=e.signature;return{account_id:t,actions:[{action_time:n,action_type:r,outer_action_id:a,action_param:e.actionParam,user_action_set_id:i,operator_platform:e.operatorPlatform,trace:{click_id:o}}],signature:a}}},{key:"getDmpConsultConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.clickId,i=e.userSetId,a=e.signature;return{account_id:t,actions:[{action_time:n,action_type:r,outer_action_id:a,action_param:e.actionParam,user_action_set_id:i,trace:{click_id:o}}],signature:a}}},{key:"getDmpLinkConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.pageId,o=e.href,i=e.clickId,a=e.userSetId,s=e.signature;return{account_id:t,actions:[{action_time:n,action_type:e.actionType,action_param:{object:"product",page_id:r,page_url:o},trace:{click_id:i},user_action_set_id:a}],signature:s}}},{key:"getDmpShopConfig",value:function(e){var t=e.operatorPlatform,n=e.accountId,r=e.actionTime,o=e.pageId,i=e.href,a=e.clickId,s=e.userSetId,c=e.signature;return{account_id:n,actions:[{action_time:r,action_type:e.actionType,action_param:{page_id:o,page_url:i},operator_platform:t,trace:{click_id:a},user_action_set_id:s}],signature:c}}},{key:"getDmpCouponConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.actionParam,i=e.clickId,a=e.userSetId,s=e.signature;return{account_id:t,actions:[{action_time:n,action_type:r,action_param:o,custom_action:e.customAction,trace:{click_id:i},user_action_set_id:a}],signature:s}}},{key:"getDmpGiftOfferConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.clickId,i=e.userSetId,a=e.signature,s=e.actionParam;e.operatorPlatform;return{account_id:t,actions:[{action_time:n,action_type:r,outer_action_id:a,action_param:s,user_action_set_id:i,trace:{click_id:o}}],signature:a}}},{key:"getDmpLotteryConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.actionParam,i=e.clickId,a=e.userSetId,s=e.signature;return{account_id:t,actions:[{action_time:n,action_type:r,action_param:o,custom_action:e.customAction,trace:{click_id:i},user_action_set_id:a}],signature:s}}},{key:"getDmpWxConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.actionParam,i=e.clickId,a=e.userSetId,s=e.signature;return{account_id:t,actions:[{action_time:n,action_type:r,action_param:o,custom_action:e.customAction,trace:{click_id:i},user_action_set_id:a}],signature:s}}},{key:"getDmpSmartComponentConfig",value:function(e){var t=e.accountId,n=e.actionTime,r=e.actionType,o=e.actionParam,i=e.clickId,a=e.userSetId,s=e.signature;return{account_id:t,actions:[{action_time:n,action_type:r,action_param:o,custom_action:e.customAction,trace:{click_id:i},user_action_set_id:a}],signature:s}}},{key:"getDmpConfig",value:function(e){var t,n=c.default.appData,r=c.default.pageType,i=(new Date).getTime(),a=Math.round(i/1e3),d=(0,u.parseUrl)(),p=d.qz_gdt,f=d.gdt_vid,m=d.gdt_product_id,h=d.autodownload,v=c.default.actionSetId,g=(p||f||"")+i,y=window.location.href,A="ANDROID",_=p||f||(0,u.getMptraceId)()||"";switch("ios"===r.slice(0,r.indexOf("-"))&&(A="IOS"),e.actionType){case l.REPORT_TYPE.RESERVATION:case l.REPORT_TYPE.COMPLETE_ORDER:t=this.getDmpFormConfig({actionParam:e.actionParam,actionTime:a,actionType:e.actionType,signature:g,href:y,accountId:c.default.accountId,clickId:_,userSetId:v});break;case l.REPORT_TYPE.DOWNLOAD_CLICK:t=this.getDmpDownloadConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:{app_id:m,app_name:n&&n.name||"",app_type:A,start_download:e.isStartDownload,auto_download:"1"===h,download_status:e.downloadStatus}});break;case l.REPORT_TYPE.CLAIM_OFFER:t=this.getDmpWXCardConfig({actionTime:a,actionType:e.actionType,signature:g,accountId:c.default.accountId,clickId:_,userSetId:v,operatorPlatform:3});break;case l.REPORT_TYPE.CONSULT:t=this.getDmpConsultConfig({actionTime:a,actionType:e.actionType,signature:g,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:{consult_type:e.consultType}});break;case l.REPORT_TYPE.LINK:t=this.getDmpLinkConfig({actionTime:a,actionType:l.REPORT_TYPE.VIEW_CONTENT,signature:g,accountId:c.default.accountId,clickId:_,userSetId:v,href:y,pageId:c.default.pageId});break;case l.REPORT_TYPE.NAVIGATE:t=this.getDmpShopConfig({actionTime:a,actionType:e.actionType,signature:g,accountId:c.default.accountId,clickId:_,userSetId:v,href:y,pageId:c.default.pageId,operatorPlatform:3});break;case l.REPORT_TYPE.QUICK_APP:t=this.getDmpQuickAppConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v});break;case l.REPORT_TYPE.AUTO_DOWNLOAD:var b=g+l.REPORT_TYPE.AUTO_DOWNLOAD;t=this.getDmpDownloadConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:b,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:{app_id:m,app_name:n&&n.name||"",app_type:A,start_download:e.isStartDownload,need_autoDownload:e.needAutoDownload}});break;case l.REPORT_TYPE.LOGIN:t=this.getDmpDownloadConfig({actionTime:a,actionType:l.REPORT_TYPE.LOGIN,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;case l.REPORT_TYPE.COUPON_CARD_CLICK:var w=g+l.REPORT_TYPE.AUTO_DOWNLOAD;t=this.getDmpCouponConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:w,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;case l.REPORT_TYPE.GIFT_CLAIM_OFFER:t=this.getDmpGiftOfferConfig({actionTime:a,actionType:l.REPORT_TYPE.CLAIM_OFFER,signature:g,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;case l.REPORT_TYPE.GIFT_CLICK:t=this.getDmpCouponConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;case l.REPORT_TYPE.LOTTERY_CLICK:t=this.getDmpLotteryConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;case l.REPORT_TYPE.SMART_COMPONENT_CLICK:t=this.getDmpSmartComponentConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;case l.REPORT_TYPE.WX_ID_COPY:t=this.getDmpWxConfig({actionTime:a,actionType:l.REPORT_TYPE.CUSTOM,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;case l.REPORT_TYPE.XJ_WX_OPEN:t=this.getDmpWxConfig({actionTime:a,actionType:l.REPORT_TYPE.LANDING_PAGE_CLICK,signature:g,customAction:e.customAction,accountId:c.default.accountId,clickId:_,userSetId:v,actionParam:e.actionParam});break;default:var T=e.map,E=e.processor;if("object"!==(0,o.default)(T))return;t={},this.setCommonPayload(t);var S=T.setPaths;Object.keys(S).forEach(function(e){(0,s.default)(t,e,S[e])}),"function"==typeof E&&E(t)}return t}},{key:"setCommonPayload",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=c.default.accountId,n=c.default.actionSetId,r=(new Date).getTime(),o=Math.round(r/1e3),i=(0,u.parseUrl)(),a=i.qz_gdt,s=i.gdt_vid,l=a||s||(0,u.getMptraceId)()||"",d=l+r;Object.assign(e,{account_id:t,actions:[{action_time:o,trace:{click_id:l},user_action_set_id:n}],signature:d})}},{key:"dmpReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=e&&(e.actionType||e.map&&e.map.setPaths["actions[0].action_type"]),r=-1!==l.DOWNLOAD_ACTION_TYPE_LIST.indexOf(n),o=1;r&&7===window.XJADSDK.getSceneEnv().sceneType?o=0:r&&"QQ"!==c.default.mediaName?o=-1:"RETURN"===n&&(o=0),p.default.reportClick({limit:o}),t.disableReportUserClick||p.default.reportUserClick(),f.ActionAnalyzer.updatePageCtx({"transform.executed":!0})}catch(e){console.error(e)}if(e&&!(e.sample&&e.ratio&&Math.random()>e.ratio)){var i=this.getDmpConfig(e),a=d.backendUrl+"/actionset/report",s=(0,u.parseUrl)(),m=s.aidx,h=s.xj_ad_type,v=(0,u.getADGroupId)(),g=c.default.pageType,y=d.backendUrl+"/actionset/reportDault?aid=".concat(m,"&ad_group_id=").concat(v);-1!==g.indexOf("default")&&-1!==d.CDN_HOSTS.indexOf(window.location.host)&&(a=y,1===parseInt(h,10)&&(a+="&xj_ad_type=".concat(h)));var A="application/json;charset=UTF-8";-1!==d.CDN_HOSTS.indexOf(window.location.host)&&(A="text/plain;charset=UTF-8");var _={method:"POST",body:JSON.stringify(i),headers:{"Content-Type":A}};return this.send(a,_)}}},{key:"send",value:function(e,t){var n=this;return window.sfetch(e,t).then(function(r){if(200!==r.status&&(n.retryCount++,n.retryCount<n.retryLimit))return n.send(e,t)}).catch(function(r){if(n.retryCount++,n.retryCount<n.retryLimit)return n.send(e,t)})}},{key:"oldFeatureReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.tianqinReport({type:"GXT",data:{attr:"xj_outdate_feature",type:e,key:t,url:window.location.href,val:1}})}}]),e}()},function(e,t,n){var r=n(135),o=n(138),i=n(143),a=n(48),s=n(139);e.exports=function(e,t,n,c){if(!a(e))return e;for(var u=-1,l=(t=o(t,e)).length,d=l-1,p=e;null!=p&&++u<l;){var f=s(t[u]),m=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(u!=d){var h=p[f];void 0===(m=c?c(h,f,p):void 0)&&(m=a(h)?h:i(t[u+1])?[]:{})}r(p,f,m),p=p[f]}return e}},function(e,t,n){var r=n(71),o=n(66),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(186)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var r=n(187),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(147),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){"@babel/helpers - typeof";return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r=n(92);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(92);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(200),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",h={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(x([])));y&&y!==r&&o.call(y,a)&&(v=y);var A=E.prototype=w.prototype=Object.create(v);T.prototype=A.constructor=E,E.constructor=T,E[c]=T.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(A),e},l.awrap=function(e){return{__await:e}},S(O.prototype),O.prototype[s]=function(){return this},l.AsyncIterator=O,l.async=function(e,t,n,r){var o=new O(_(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(A),A[c]="Generator",A[a]=function(){return this},A.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function _(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=b(e,t,n);if("normal"===c.type){if(r=n.done?m:p,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function T(){}function E(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,a){var s=b(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){c.value=e,i(c)},function(e){return t("throw",e,i,a)})}a(s.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=b(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Confirm=void 0,t.closeConfirm=b,t.openConfirm=w,t.toggleConfirm=T;var o=r(n(5)),i=r(n(4)),a=r(n(3)),s=n(202),c=r(n(26));n(203);var u=r(n(1));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p="open-xj-confirm",f="close-xj-confirm";function m(){document.body.classList.add(s.className.bodyLockClassName)}var h=function(e,t,n){var r=t.icon,o=t.title,i=t.hideTitle,a=void 0!==i&&i,c=t.content,l=t.closeable,p=t.bottomCloseAble,f=void 0!==p&&p,m=t.mask,h=t.okText,v=t.cancelText,g=t.featureBtnText,y=t.hideCancelBtn,A=t.hideOkBtn,_=t.noHeader,b=void 0!==_&&_,w=t.noFooter,T=void 0!==w&&w,E=t.wrapClassName,S=void 0===E?"":E,O=t.singleAndCoverBtn,I=void 0===O||O,C=t.cover,P=void 0!==C&&C,k=s.className.confirmWrapper,x=s.className.close,N=s.className.cancel,D=s.className.ok,R=s.className.coverBtn,j=s.className.confirmCoverWrapper,L=s.className.featureBtn;P&&(t.alignItems="flex-end");var M=function(e){var t=e.style,n=e.width,r=e.visible,o=e.zIndex,i=e.alignItems,a=d(d({},t),{},{display:r?"flex":"none","z-index":o});n&&(a.width=n+"px"||!1),i&&(a["align-items"]=i);var s=[];for(var c in a)a.hasOwnProperty(c)&&s.push("".concat(c,": ").concat(a[c],";"));return s.join(" ")}(t),B=['<div class="xj-modal-header">',r,a?"":'<div class="xj-modal-title">'.concat(o,"</div>"),l?'<button type="button" class="'.concat(x,'"><span class="xj-modal-close-x">×</span></button>'):"","</div>"].join(""),U=['<div class="xj-modal-footer '.concat(g?"xj-modal-footer-column":"xj-modal-footer-row"," ").concat(I?R:"",'">'),y||I?"":'<button type="button" class="xj-btn '.concat(N,'"><span>').concat(v,"</span></button>"),A?"":'<button type="button" class="xj-btn xj-btn-primary '.concat(D,'"><span>').concat(h,"</span></button>"),g?'<button type="button" class="xj-btn '.concat(L,'"><span>').concat(g,"</span></button>"):"","</div>"].join(""),F=['<div class="'.concat(S," ").concat(k," ").concat(P?j:"",'" style="').concat(M,'">'),m?'<div class="'.concat(s.className.mask,'"></div>'):"",'<div class="xj-modal-wrap">',b?"":B,'<div class="xj-modal-body">'.concat(c,"</div>"),T?"":U,f?'<img src="//'.concat(u.default.cdnHost,'/qzone/biz/gdt/lib/xijing/viewer/cdn/img/close.svg" class="xj-modal-close-x--bottom" />'):"","</div>","</div>"].join(""),G=document.createElement("div");return G.innerHTML=F,document.body.appendChild(G),n&&n(e,t,G),e.setDOM(G.querySelector(".".concat(k))),e.getDOM()};function v(e){return e.getDOM()}function g(e,t){e?(t.classList.add(p),t.classList.remove(f)):(t.classList.remove(p),t.classList.add(f))}function y(e){var t=v(e);g(!1,t),setTimeout(function(){t.style.display="none",e.setVisible(!1)},200),document.body.classList.remove(s.className.bodyLockClassName)}function A(e,t,n){var r=t.onOk,o=t.onCancel,i=t.onClose,a=t.maskCloseAble,u=t.onLoad,l=t.onHandleFeature,d=function(e,t){var n=s.className.mask,r=s.className.close,o=s.className.cancel,i=s.className.ok,a=s.className.closeBottom,c=s.className.featureBtn,u=t||v(e);return{$wrapper:u,mask:u.querySelector(".".concat(n)),close:u.querySelector(".".concat(r)),closeBottom:u.querySelector(".".concat(a)),cancel:u.querySelector(".".concat(o)),ok:u.querySelector(".".concat(i)),featureBtn:u.querySelector(".".concat(c))}}(e,n);d.$wrapper&&u&&u(d.$wrapper),d.mask&&a&&c.default.on(d.mask,"tap",function(t){y(e),i&&i(t)}),d.close&&c.default.on(d.close,"tap",function(t){y(e),i&&i(t)}),d.closeBottom&&c.default.on(d.closeBottom,"tap",function(t){y(e),i&&i(t)}),d.cancel&&c.default.on(d.cancel,"tap",function(t){y(e),o&&o(t)}),d.ok&&c.default.on(d.ok,"tap",function(t){y(e),r&&r(t)}),d.featureBtn&&c.default.on(d.featureBtn,"tap",function(t){y(e),l&&l(t)})}var _=(0,o.default)(function e(){var t=this;(0,i.default)(this,e),this.setVisible=function(e,n){t.visible=e,n&&n(e)},this.getVisible=function(){return t.visible},this.setDOM=function(e){return t.$dom=e,t.$dom},this.getDOM=function(){return t.$dom},this.visible=!1,this.$dom=null});function b(e,t){e.setVisible(!1,function(n){if(y(e),c.default.isFunction(t))t();else if(c.default.isObject(t)){var r=t.onClose;r&&r()}})}function w(e,t){e.setVisible(!0,function(n){if(function(e){var t=v(e);g(!0,t),t.style.display="flex",m()}(e),c.default.isFunction(t))t();else if(c.default.isObject(t)){var r=t.onOpen;r&&r()}})}function T(e,t){e.getVisible()?b(e,t):w(e,t)}t.Confirm=(0,o.default)(function e(t){(0,i.default)(this,e),E.call(this),this.props=d(d({},s.defaultParams),t),this.model=new _,this.model.setVisible(this.props.visible),this.$ref=h(this.model,d(d({},t),{},{visible:this.model.getVisible()}),A),this.props.visible&&m()});var E=function(){var e=this;this.update=function(t){e.$ref=h(e.model,d(d({},e.props),{},{content:t,visible:e.model.getVisible()}),A)},this.refresh=function(t){e.$ref=h(e.model,d(d(d({},e.props),t),{},{visible:e.model.getVisible()}),A)},this.close=function(){return b(e.model)},this.toggle=function(){return T(e.model)},this.open=function(){return w(e.model)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParams=t.className=void 0;t.defaultParams={title:"",hideTitle:!1,content:"",closeable:!0,mask:!1,maskCloseAble:!1,style:{},visible:!1,zIndex:1e3,okText:"确认",cancelText:"取消",hideCancelBtn:!1,wrapClassName:"",onOk:function(){},onCancel:function(){},onClose:function(){}},t.className={confirmWrapper:"Confirm-wrapper",mask:"xj-modal-mask",close:"xj-modal-close",closeBottom:"xj-modal-close-x--bottom",cancel:"xj-cancel-btn",ok:"xj-ok-btn",coverBtn:"xj-cover-btn",confirmCoverWrapper:"xj-confirm-cover-wrapper",bodyLockClassName:"body-Lock-scroll-Class-Name",featureBtn:"xj-feature-btn"}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(206)),i=s(n(207));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o}var c=[o,s(n(208)),i,s(n(209)),s(n(210)),s(n(211))];t.default={launch:function(e){var t=e.url,n=e.ppId;this.getLaunchFn()(t,n).then(function(){}).catch(function(){console.error("AppLauncher default exec.");var e=t;n&&(e+="".concat(e.indexOf("?")>-1?"&":"?","ppid=").concat(n)),location.href=e})},getLaunchFn:function(){var e=function(){return Promise.reject()};return c.some(function(t,n){var r=t.judge,o=t.launchAsync;return!0===r()&&(e=o,!0)}),e}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.judge=function(){var e=window.mqq&&window.mqq.compare("7.7.0")>=0;return"IOSQQ"===o.default.mediaName&&e},t.launchAsync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(n,r){var o={reportForClick:!1,appAutoDownload:!1};t&&(o.ppId=t),window.mqq&&window.mqq.invoke("qq_gdt_ad","handleClick",{adInfo:{app_info:{pkg_download_schema:e},dest_info:{dest_type:0,landing_page:e},report_info:{exposure_url:"v.gdt.qq.com",click_url:e,effect_url:"t.gdt.qq.com",landing_page_report_url:"neg.gdt.qq.com",trace_info:{traceid:(0,i.getTraceId)()||"1234567",product_id:"1234567"}},product_type:19},options:o},function(){}),n()})};var o=r(n(1)),i=n(2)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.judge=function(){return[/iPad|iPhone|iPod/,/QQLiveBrowser/i].every(function(e){return e.test(navigator.userAgent)})},t.launchAsync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(n,r){if(window.TenvideoJSBridge&&window.TenvideoJSBridge){var o=setTimeout(function(){console.error("obtainDeviceInfo 未响应，触发兜底跳转"),a({url:e,ppId:t,reject:r,resolve:n})},1e3);console.error("开始调用腾讯视频jsbridge download3rdApp"),window.TenvideoJSBridge.invoke("obtainDeviceInfo",null,function(c){console.error("=obtainDeviceInfo res:",c),o&&clearTimeout(o);var u={},l=!1;try{u=JSON.parse(c),l=u&&0==u.errCode&&u.result&&u.result.appVersion&&s(u.result.appVersion)}catch(e){console.error("parse obtainDeviceInfo error",e)}l?i({url:e,ppId:t,reject:r,resolve:n}):a({url:e,ppId:t,reject:r,resolve:n})})}else r()})};var o=r(n(28));var i=function(e){var t=e.url,n=e.ppId,r=e.reject,o=e.resolve;window.TenvideoJSBridge.invoke("jumpToAppStore",{iTunesUrl:t,ppid:n},function(e){console.error("jumpToAppStoreV2 res:",e),0!=JSON.parse(e).errCode?r():o()})},a=function(e){var t=e.url,n=(e.ppId,e.reject),r=e.resolve;window.TenvideoJSBridge.invoke("download3rdApp",{itunesUrl:t,packageUrl:t},function(e){var t=JSON.parse(e);console.error("jumpToAppStoreV1 res:",e),t.errCode?n():r()})},s=function(e){return e&&(0,o.default)(e,"8.9.15")>-1}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.judge=function(){return[/iPad|iPhone|iPod/,/qqsports/i].every(function(e){return e.test(navigator.userAgent)})},t.launchAsync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(n,r){window.TenvideoJSBridge?(console.error("腾讯体育 开始调用jsbridge: 视频jsapi"),i({url:e,ppId:t,reject:r,resolve:n})):window.TencentSports?(console.error("腾讯体育 开始调用jsbridge: 体育jsapi"),a({url:e,ppId:t,reject:r,resolve:n})):r()})};var o=r(n(28));var i=function(e){var t=e.url,n=e.ppId,r=e.reject,o=e.resolve,i=setTimeout(function(){console.error("obtainDeviceInfo 未响应，触发兜底跳转"),r()},1e3);window.TenvideoJSBridge.invoke("obtainDeviceInfo",null,function(e){console.error("=obtainDeviceInfo res:",e),i&&clearTimeout(i);var a={},c=!1;try{c=(a=JSON.parse(e))&&0==a.errCode&&a.result&&a.result.appVersion&&s(a.result.appVersion)}catch(e){console.error("parse obtainDeviceInfo error",e)}c?window.TenvideoJSBridge.invoke("jumpToAppStore",{iTunesUrl:t,ppid:n},function(e){console.error("jumpToAppStore res:",e),0!=JSON.parse(e).errCode?r():o()}):r()})},a=function(e){var t=e.url,n=e.ppId,r=e.reject,o=e.resolve,i=setTimeout(function(){console.error("obtainDeviceInfo 未响应，触发兜底跳转"),r()},1e3);window.xj_TencentSportsCallback.obtainDeviceInfo=function(e){console.error("=obtainDeviceInfo res:",e),i&&clearTimeout(i);var a={},s=!1;try{s=(a=JSON.parse(e))&&0==a.errCode&&a.result&&a.result.appVersion&&(void 0).checkDownloadEnable(a.result.appVersion)}catch(e){console.error("parse obtainDeviceInfo error",e)}s?(window.xj_TencentSportsCallback.download3rdApp=function(e){console.error("=download3rdApp res:",e),0!=JSON.parse(e).errCode?r():o()},window.TencentSports.download3rdApp({itunesUrl:t,packageUrl:t,ppid:n,callbackName:"window.xj_TencentSportsCallback.download3rdApp"})):r()},window.TencentSports.obtainDeviceInfo({callbackName:"window.xj_TencentSportsCallback.obtainDeviceInfo"})},s=function(e){return e&&(0,o.default)(e,"7.3.30")>-1}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.judge=function(){if((0,i.judgeClient)()===i.judgeClient.SYS.IOS&&o.default.getIsGDTUnionMinVersion("4.12.0"))return!0},t.launchAsync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(n,r){var o=e.match(/id(\d+)/);if(o){var i=o[1],a=function(){window.unjs&&window.unjs.package&&window.unjs.package.jumpToAppstore&&window.unjs.package.jumpToAppstore({itunesId:i,ppId:t},function(e){try{(e=JSON.parse(e))&&0===e.code?n():r()}catch(e){r()}})};window.unjs&&window.unjs.package&&window.unjs.package.jumpToAppstore?a():window.loadjs("//qzs.gdtimg.com/union/res/union_sdk/page/unjs/un.js",function(){a()})}else r()})};var o=r(n(22)),i=n(2)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.launchAsync=t.judge=void 0;var o=r(n(19)),i=r(n(28)),a=r(n(1)),s=(o.default&&o.default.getSceneEnv&&o.default.getSceneEnv()||{}).isFrame,c=!1,u=(t.judge=function(){return[/iPad|iPhone|iPod/,/GDTTangramMobSDK/i].every(function(e){return e.test(navigator.userAgent)})},function(){return new Promise(function(e){c?e():window.loadjs("//".concat(a.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js"),function(){c=!0,e()})})}),l=function(){return new Promise(function(e,t){var n;(0,i.default)((n=navigator.userAgent.match(/GDTTangramMobSDK\/([\d.]+)/))&&n.length>1&&n[1]?n[1]:"-1","4.10.35")<0?t():e()})};t.launchAsync=function(e,t){l().then(u).then(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(n,r){var o=e.match(/id(\d+)/),i=o&&o[1];i||r(),window.IOSUnionBridge.invoke("jumpToAppstore",{itunesId:i,ppId:t},function(e){0===e.code?n():r()},{isFrame:s})})}.bind(null,e,t))}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.launchAsync=t.judge=void 0;var o=r(n(19)),i=r(n(28)),a=r(n(1)),s=(o.default&&o.default.getSceneEnv&&o.default.getSceneEnv()||{}).isFrame,c=!1,u=(t.judge=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},function(){return new Promise(function(e,t){window.IOSUnionBridge.invoke("getSDKVersion",{},function(n){var r=n.data;0===n.code&&(0,i.default)(r&&r.version,"4.10.65")>=0?e():t()})})});t.launchAsync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(e){c?e():window.loadjs("//".concat(a.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/ios-union-jsapi.js"),function(){c=!0,e()})}).then(u).then(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(n,r){var o=e.match(/id(\d+)/),i=o&&o[1];i||r(),window.IOSUnionBridge.invoke("jumpToAppstore",{itunesId:i,ppId:t},function(e){0===e.code?n():r()},{isFrame:s})})}.bind(null,e,t))}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.JSBridgeJudgeDeviceAppStoreAbility=h,t.JSBridgeObtainDeviceInfo=v,t.QLiveVersionSupperAppMarket=y,t.XSDownloadFromAppMarket=function(e){if((0,u.openAppStoreSuccessSetDownloadGlobalValue)(),!g())return!1;m(function(t){!function(e,t){m(function(n){var r=(0,u.getAppData)(),o=r||{},a=o.packageName,s=o.apkUrl,l={downloadUrl:s||"",packageName:a||""};n.invoke("checkDowload3rdAppState",l,function(n){var o=JSON.parse(n);if(!o.errCode){var a=o.result;if(a.uiState===i.DOWNLOAD_STATUS.STATE_OPEN&&0===a.progress)return(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_installed),function(e){var t=e||{},n=t.packageName,r=t.name,o=t.schema,a=(0,c.parseUrl)(),s=a.gdt_product_id||"",l="http://t.gdt.qq.com/conv/src/61/conv?client=61&cuser=src&product_id=".concat(s,"&clickid=__CLICK_ID__&actionid=__ACTION_ID__"),d={pkgName:n||"",pkgUrl:o||"",appName:r||"",adParam:{adSource:"gdt",clickId:a.qz_gdt||"",effectUrl:l}};m(function(e){(0,u.marketRPTReport)(i.XS_ACTION_ID.ACTION_XJ_LANDINGPAGE_DOWNLOAD_REDIRECT_THIRDPARTY_APP),(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_launch3rd_app),e.invoke("launch3rdApp",d)})}(r);i.DOWNLOAD_STATUS.STATE_DOWNLOAD!==a.uiState?((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_tencent_downloaded),(0,u.openAppStoreFailSetDownloadGlobalValue)(),e&&e()):t&&t()}})})}(e,function(){v(function(t){var n=JSON.parse(t);if(n&&0===n.errCode&&n.result){(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_obtain_device_info_success),(0,u.openAppStoreSuccessSetDownloadGlobalValue)();var r=(0,u.getMarket)(i.BRAND_TO_MARKET)(n.result.brand,n.result.manufacturer);r?function(e,t){(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_brand_map_to_market_success);var n=(0,u.getPackageName)(),r=(0,u.getMarketPackageNames)(e);if(n&&r){var o=(0,a.MarketToUri)(e,n),s=(0,u.setLaunchParams)(r,o);o&&(window.isClickJumpMarket=!0,(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_click_button_and_open_app_store),c=s,l=function(e){var n=JSON.parse(e);0!==n.errCode?((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_open_app_store_failed),(0,u.marketRPTReport)(i.XS_ACTION_ID.ACTION_XJ_LANDINGPAGE_DOWNLOAD_YYB_MANAGER),(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_use_tencent_downloader),(0,u.openAppStoreFailSetDownloadGlobalValue)(),t&&t()):((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_open_app_store_success),(0,u.openAppStoreSuccessSetDownloadGlobalValue)())},m(function(e){e&&e.invoke("openAppStore",c,l)}))}var c,l;n||((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_get_white_list_ad_account_app_package_name_failed),(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_use_tencent_downloader),(0,u.openAppStoreFailSetDownloadGlobalValue)(),t&&t());r||((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_get_market_package_failed),(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_use_tencent_downloader),(0,u.openAppStoreFailSetDownloadGlobalValue)(),t&&t())}(r,e):((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_brand_map_to_market_failed),(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_use_tencent_downloader),(0,u.openAppStoreFailSetDownloadGlobalValue)(),e&&e())}else(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_obtain_device_info_failed,n&&n.result),(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_use_tencent_downloader),(0,u.openAppStoreFailSetDownloadGlobalValue)(),e&&e()}),t.on("confirmAppStoreResult",function(t){var n=t;0===n.errCode?((0,u.marketRPTReport)(i.XS_ACTION_ID.ACTION_XJ_LANDINGPAGE_DOWNLOAD_CUSTOM_MANAGER),(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_confirm_app_store_result_success),(0,u.openAppStoreSuccessSetDownloadGlobalValue)()):2===n.errCode?((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_confirm_app_store_result_timeout),(0,u.marketRPTReport)(i.XS_ACTION_ID.ACTION_XJ_LANDINGPAGE_DOWNLOAD_TIMEOUT),(0,u.openAppStoreFailSetDownloadGlobalValue)(),e&&e()):((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_confirm_app_store_result_failed),(0,u.marketRPTReport)(i.XS_ACTION_ID.ACTION_XJ_LANDINGPAGE_DOWNLOAD_YYB_MANAGER),(0,u.openAppStoreFailSetDownloadGlobalValue)(),e&&e())})})})},t.XSShouldJumpMobileAppMarket=g,t.isMarketDownloadEnable=f,t.pageDOMLoadReport=function(){l()&&((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_marker_exp),d()&&(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_marker_exp_and_account)),p()&&(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.xs_manufacturer_download),window.TenvideoJSBridge||(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_page_load_js_bridge_failed);m(function(e){v(function(e){var t=JSON.parse(e);if(t&&0===t.errCode&&t.result){(0,u.reportObtainDeviceInfo)(i.GXT_REPORT.v2_get_device_info,t.result);var n=(0,u.getMarket)(i.BRAND_TO_MARKET)(t.result.brand,t.result.manufacturer);if(n){(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_page_dom_loaded_and_market_download_exp),(0,u.marketRPTReport)(i.XS_ACTION_ID.ACTION_XJ_LANDINGPAGE_DOWNLOAD_CAN_USE_CUSTOM_MANAGER);var r=(0,u.getClickId)(),o={click_id:r,isFactory:1,adId:(0,u.getAdID)()};h(o)}else(0,u.reportObtainDeviceInfo)(i.GXT_REPORT.v2_page_load_get_device_info_and_map_failed,t.result)}else(0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_page_load_get_device_info_failed)})})};var o=r(n(6)),i=n(214),a=n(68),s=n(15),c=n(13),u=n(67);function l(){var e=(0,s.getExpParams)()||{};return 1===parseInt(e[i.XS_QLIVE_MARKET_OPPO_VIVO_XIAOMI_EXP],10)||1===parseInt(e[i.XS_QLIVE_MARKET_HUAWEI_EXP],10)}function d(){return-1!==Object.keys(viewerData.xsOppoABTestAdverId).map(function(e){return parseInt(e,10)}).indexOf(viewerData.accountId)}function p(){return(0,s.getManufacturerDownloadEnable)()}function f(){return p()||l()&&d()}function m(e){window.TenvideoJSBridge&&"object"==(0,o.default)(window.TenvideoJSBridge)?e(window.TenvideoJSBridge):document&&"function"==typeof document.addEventListener?document.addEventListener("onTenvideoJSBridgeReady",function(){e(window.TenvideoJSBridge)},!1):document&&"function"==typeof document.attachEvent&&document.attachEvent("onTenvideoJSBridgeReady",function(){e(window.TenvideoJSBridge)},!1)}function h(e){return m(function(t){t&&t.invoke("judgeDeviceAppStoreAbility",e)})}function v(e){return m(function(t){t&&t.invoke("obtainDeviceInfo",null,e)})}function g(){return!!(f()&&y()&&(0,u.isSupportXSMarket)())&&((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_jump_market_download),!(0,u.isAutoDownload)()||((0,u.reportXSMobileMarketGXT)(i.GXT_REPORT.v2_is_auto_download_and_market_exp),!1))}function y(){return!(!window.TenvideoJSBridge||!window.TenvideoJSBridge.obtainDeviceInfo)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.XS_QLIVE_MARKET_OPPO_VIVO_XIAOMI_EXP=t.XS_QLIVE_MARKET_HUAWEI_EXP=t.XS_ACTION_ID=t.TIMEOUT_THRESHOLD=t.GXT_REPORT=t.DOWNLOAD_STATUS=t.BRAND_TO_MARKET=void 0;var o=r(n(3)),i=n(15),a=n(68),s=t.XS_QLIVE_MARKET_OPPO_VIVO_XIAOMI_EXP="XsMarketExp",c=t.XS_QLIVE_MARKET_HUAWEI_EXP="XsMarketExp_2",u={oppo_vivo:"oppo_vivo",oppo_vivo_xiaomi:"oppo_vivo_xiaomi",huawei:"huawei",huawei_xiaomi:"huawei_xiaomi",oppo_vivo_huawei_xiaomi:"oppo_vivo_huawei_xiaomi"};t.TIMEOUT_THRESHOLD=1e3,t.BRAND_TO_MARKET=function(){if((0,i.getManufacturerDownloadEnable)())return(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},"OPPO",a.GENERAL_BRAND_TO_MARKET.OPPO),"VIVO",a.GENERAL_BRAND_TO_MARKET.VIVO),"HUAWEI",a.GENERAL_BRAND_TO_MARKET.HUAWEI),"HONOR",a.GENERAL_BRAND_TO_MARKET.HONOR),"XIAOMI",a.GENERAL_BRAND_TO_MARKET.XIAOMI);return n=(0,i.getExpParams)()||{},r=1===parseInt(n[s],10),l=1===parseInt(n[c],10),e=r&&l?u.oppo_vivo_huawei_xiaomi:r&&!l?u.oppo_vivo_xiaomi:l&&!r?u.huawei:void 0,t=(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},u.oppo_vivo,(0,o.default)((0,o.default)({},"OPPO",a.GENERAL_BRAND_TO_MARKET.OPPO),"VIVO",a.GENERAL_BRAND_TO_MARKET.VIVO)),u.oppo_vivo_xiaomi,(0,o.default)((0,o.default)((0,o.default)({},"OPPO",a.GENERAL_BRAND_TO_MARKET.OPPO),"VIVO",a.GENERAL_BRAND_TO_MARKET.VIVO),"XIAOMI",a.GENERAL_BRAND_TO_MARKET.XIAOMI)),u.huawei,(0,o.default)((0,o.default)({},"HUAWEI",a.GENERAL_BRAND_TO_MARKET.HUAWEI),"HONOR",a.GENERAL_BRAND_TO_MARKET.HONOR)),u.huawei_xiaomi,(0,o.default)((0,o.default)((0,o.default)({},"HUAWEI",a.GENERAL_BRAND_TO_MARKET.HUAWEI),"HONOR",a.GENERAL_BRAND_TO_MARKET.HONOR),"XIAOMI",a.GENERAL_BRAND_TO_MARKET.XIAOMI)),u.oppo_vivo_huawei_xiaomi,(0,o.default)((0,o.default)((0,o.default)((0,o.default)((0,o.default)({},"OPPO",a.GENERAL_BRAND_TO_MARKET.OPPO),"VIVO",a.GENERAL_BRAND_TO_MARKET.VIVO),"HUAWEI",a.GENERAL_BRAND_TO_MARKET.HUAWEI),"HONOR",a.GENERAL_BRAND_TO_MARKET.HONOR),"XIAOMI",a.GENERAL_BRAND_TO_MARKET.XIAOMI)),t[e]?t[e]:{};var e,t,n,r,l}();t.DOWNLOAD_STATUS={STATE_OPEN:10,STATE_INSTALL:11,STATE_DOWNLOAD:12,STATE_LOADING:13,STATE_RESUME:14,STATE_SCAN:15,STATE_WAIT:16,STATE_REMAIN:17},t.XS_ACTION_ID={ACTION_XJ_LANDINGPAGE_DOWNLOAD_CUSTOM_MANAGER:78,ACTION_XJ_LANDINGPAGE_DOWNLOAD_YYB_MANAGER:79,ACTION_XJ_LANDINGPAGE_DOWNLOAD_TIMEOUT:80,ACTION_XJ_LANDINGPAGE_DOWNLOAD_CAN_USE_CUSTOM_MANAGER:81,ACTION_XJ_LANDINGPAGE_DOWNLOAD_REDIRECT_THIRDPARTY_APP:82},t.GXT_REPORT={v2_page_dom_loaded_and_market_download_exp:"v2_page_dom_loaded_and_market_download_exp",v2_click_button_and_open_app_store:"v2_click_button_and_open_app_store",v2_use_tencent_downloader:"v2_use_tencent_downloader",v2_brand_map_to_market_failed:"v2_brand_map_to_market_failed",v2_brand_map_to_market_success:"v2_brand_map_to_market_success",v2_jump_market_download:"v2_jump_market_download",v2_obtain_device_info_failed:"v2_obtain_device_info_failed",v2_obtain_device_info_success:"v2_obtain_device_info_success",v2_open_app_store_failed:"v2_open_app_store_failed",v2_open_app_store_success:"v2_open_app_store_success",v2_confirm_app_store_result_success:"v2_confirm_app_store_result_success",v2_confirm_app_store_result_timeout:"v2_confirm_app_store_result_timeout",v2_confirm_app_store_result_failed:"v2_confirm_app_store_result_failed",v2_get_white_list_ad_account_app_package_name_failed:"v2_get_white_list_ad_account_app_package_name_failed",v2_get_market_package_failed:"v2_get_market_package_failed",v2_is_auto_download_and_market_exp:"v2_is_auto_download_and_market_exp",v2_tencent_downloaded:"v2_tencent_downloaded",v2_marker_exp:"v2_marker_exp",v2_marker_exp_and_account:"v2_marker_exp_and_account",v2_launch3rd_app:"v2_launch3rd_app",v2_installed:"v2_installed",v2_get_device_info:"v2_get_device_info",v2_page_load_get_device_info_and_map_failed:"v2__page_load_get_device_info_and_map_failed",v2_page_load_get_device_info_failed:"v2_page_load_get_device_info_failed",v2_page_load_js_bridge_failed:"v2_page_load_js_bridge_failed",xs_manufacturer_download:"xs_manufacturer_download"}},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.universalAndroidBridge=void 0;var i=r(n(4)),a=r(n(5)),s=r(n(3));r(n(1)),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r)}(n(22)),n(2);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=function(e,t,n){var r=JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({bridgeName:"xj_universalBridgeCallback"},t));return"getDeviceInfo"===e?'{"gdtJB":"GDTJsBridge","service":"tangramOpenApi","action":"getDeviceInfo","params":{"bridgeName": "xj_universalBridgeCallback"},"callbackId":"'.concat(n,'"}'):"preloadWXMiniProgram"===e?'{"gdtJB":"GDTJsBridge","service":"tangramOpenApi","action":"preloadWXMiniProgram","params":'.concat(r,',"callbackId":"').concat(n,'"}'):"jumpToWXMiniProgram"===e?'{"gdtJB":"GDTJsBridge","service":"tangramOpenApi","action":"jumpToWXMiniProgram","params":'.concat(r,',"callbackId":"').concat(n,'"}'):""},d=function(){function e(){var t=this;return(0,i.default)(this,e),this._createCallback=function(e){var n="GDTC_xj_viewer_".concat(Date.now());return t._bridgeInstance.cbMap[n]=e,{callbackId:n}},this._deleteCallback=function(e){delete t._bridgeInstance.cbMap[e]},this._invoke=function(e,n,r){var o=setTimeout(function(){r({code:504,err:{message:"invoke ".concat(e," 超时")}})},500),i=t._createCallback(function(e){try{if(e&&0===e.status&&e.data){var t=JSON.parse(e.data);r(t),clearTimeout(o)}}catch(e){clearTimeout(o),r({code:-1,err:e})}}).callbackId,a=l(e,n,i);a&&prompt(a)},void 0===e.prototype.instance&&(e.prototype.instance=this,this._init()),e.prototype.instance}return(0,a.default)(e,[{key:"_init",value:function(){var e=this;this._bridgeInstance={cbMap:{},callback:function(t){e._bridgeInstance.cbMap[t.callbackid](t),e._deleteCallback(t.callbackid)}},window.xj_universalBridgeCallback=this._bridgeInstance.callback}}]),e}();t.universalAndroidBridge=new d},function(e,t,n){"use strict";var r=n(217),o=n(93),i=n(78),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=String.prototype.split,l=Array.prototype.push,d=function(e,t){l.apply(e,c(t)?t:[t])},p=Date.prototype.toISOString,f=i.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},h={},v=function e(t,n,i,a,s,l,p,f,v,g,y,A,_,b,w,T){for(var E,S=t,O=T,I=0,C=!1;void 0!==(O=O.get(h))&&!C;){var P=O.get(t);if(I+=1,void 0!==P){if(P===I)throw new RangeError("Cyclic object value");C=!0}void 0===O.get(h)&&(I=0)}if("function"==typeof f?S=f(n,S):S instanceof Date?S=y(S):"comma"===i&&c(S)&&(S=o.maybeMap(S,function(e){return e instanceof Date?y(e):e})),null===S){if(s)return p&&!b?p(n,m.encoder,w,"key",A):n;S=""}if("string"==typeof(E=S)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||o.isBuffer(S)){if(p){var k=b?n:p(n,m.encoder,w,"key",A);if("comma"===i&&b){for(var x=u.call(String(S),","),N="",D=0;D<x.length;++D)N+=(0===D?"":",")+_(p(x[D],m.encoder,w,"value",A));return[_(k)+(a&&c(S)&&1===x.length?"[]":"")+"="+N]}return[_(k)+"="+_(p(S,m.encoder,w,"value",A))]}return[_(n)+"="+_(String(S))]}var R,j=[];if(void 0===S)return j;if("comma"===i&&c(S))R=[{value:S.length>0?S.join(",")||null:void 0}];else if(c(f))R=f;else{var L=Object.keys(S);R=v?L.sort(v):L}for(var M=a&&c(S)&&1===S.length?n+"[]":n,B=0;B<R.length;++B){var U=R[B],F="object"==typeof U&&void 0!==U.value?U.value:S[U];if(!l||null!==F){var G=c(S)?"function"==typeof i?i(M,U):M:M+(g?"."+U:"["+U+"]");T.set(t,I);var q=r();q.set(h,T),d(j,e(F,G,i,a,s,l,p,f,v,g,y,A,_,b,w,q))}}return j};e.exports=function(e,t){var n,o=e,u=function(e){if(!e)return m;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||m.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],o=m.filter;return("function"==typeof e.filter||c(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===e.allowDots?m.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:m.charsetSentinel,delimiter:void 0===e.delimiter?m.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:m.encode,encoder:"function"==typeof e.encoder?e.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:m.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:m.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:m.strictNullHandling}}(t);"function"==typeof u.filter?o=(0,u.filter)("",o):c(u.filter)&&(n=u.filter);var l,p=[];if("object"!=typeof o||null===o)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=s[l];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h="comma"===f&&t&&t.commaRoundTrip;n||(n=Object.keys(o)),u.sort&&n.sort(u.sort);for(var g=r(),y=0;y<n.length;++y){var A=n[y];u.skipNulls&&null===o[A]||d(p,v(o[A],A,f,h,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,g))}var _=p.join(u.delimiter),b=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),_.length>0?b+_:""}},function(e,t,n){"use strict";var r=n(56),o=n(222),i=n(223),a=r("%TypeError%"),s=r("%WeakMap%",!0),c=r("%Map%",!0),u=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),f=o("Map.prototype.set",!0),m=o("Map.prototype.has",!0),h=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return u(e,r)}else if(c){if(t)return p(t,r)}else if(n)return function(e,t){var n=h(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(c){if(t)return m(t,r)}else if(n)return function(e,t){return!!h(e,t)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),l(e,r,o)):c?(t||(t=new c),f(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=h(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(219);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=r.call(arguments,1),a=Math.max(0,t.length-i.length),s=[],c=0;c<a;c++)s.push("$"+c);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var o=t.apply(this,i.concat(r.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(r.call(arguments)))}),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n}},function(e,t,n){"use strict";var r=n(76);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(56),o=n(77),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},function(e,t,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,h=Object.prototype.toString,v=Function.prototype.toString,g=String.prototype.match,y=String.prototype.slice,A=String.prototype.replace,_=String.prototype.toUpperCase,b=String.prototype.toLowerCase,w=RegExp.prototype.test,T=Array.prototype.concat,E=Array.prototype.join,S=Array.prototype.slice,O=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,x="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===k||"symbol")?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function R(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-O(-e):O(e);if(r!==e){var o=String(r),i=y.call(t,o.length+1);return A.call(o,n,"$&_")+"."+A.call(A.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return A.call(t,n,"$&_")}var j=n(224),L=j.custom,M=q(L)?L:null;function B(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function U(e){return A.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==V(e)||x&&"object"==typeof e&&x in e)}function G(e){return!("[object RegExp]"!==V(e)||x&&"object"==typeof e&&x in e)}function q(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,r,o){var s=n||{};if(H(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!H(s,"customInspect")||s.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var h=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return e(y.call(t,0,n.maxStringLength),n)+o}var i=A.call(A.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,J);return B(i,"single",n)}(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return h?R(t,_):_}if("bigint"==typeof t){var w=String(t)+"n";return h?R(t,w):w}var O=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=O&&O>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var C=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=E.call(Array(e.indent+1)," ")}return{base:n,prev:E.call(Array(t+1),n)}}(s,r);if(void 0===o)o=[];else if(X(o,t)>=0)return"[Circular]";function L(t,n,i){if(n&&(o=S.call(o)).push(n),i){var a={depth:s.depth};return H(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,o)}return e(t,s,r+1,o)}if("function"==typeof t&&!G(t)){var W=function(e){if(e.name)return e.name;var t=g.call(v.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),Z=$(t,L);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(Z.length>0?" { "+E.call(Z,", ")+" }":"")}if(q(t)){var ee=k?A.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!=typeof t||k?ee:Q(ee)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var te="<"+b.call(String(t.nodeName)),ne=t.attributes||[],re=0;re<ne.length;re++)te+=" "+ne[re].name+"="+B(U(ne[re].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+b.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var oe=$(t,L);return C&&!function(e){for(var t=0;t<e.length;t++)if(X(e[t],"\n")>=0)return!1;return!0}(oe)?"["+K(oe,C)+"]":"[ "+E.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==V(e)||x&&"object"==typeof e&&x in e)}(t)){var ie=$(t,L);return"cause"in Error.prototype||!("cause"in t)||N.call(t,"cause")?0===ie.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(ie,", ")+" }":"{ ["+String(t)+"] "+E.call(T.call("[cause]: "+L(t.cause),ie),", ")+" }"}if("object"==typeof t&&c){if(M&&"function"==typeof t[M]&&j)return j(t,{depth:O-r});if("symbol"!==c&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return a.call(t,function(e,n){ae.push(L(n,t,!0)+" => "+L(e,t))}),z("Map",i.call(t),ae,C)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var se=[];return l.call(t,function(e){se.push(L(e,t))}),z("Set",u.call(t),se,C)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if(function(e){return!("[object Number]"!==V(e)||x&&"object"==typeof e&&x in e)}(t))return Q(L(Number(t)));if(function(e){if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}(t))return Q(L(I.call(t)));if(function(e){return!("[object Boolean]"!==V(e)||x&&"object"==typeof e&&x in e)}(t))return Q(m.call(t));if(function(e){return!("[object String]"!==V(e)||x&&"object"==typeof e&&x in e)}(t))return Q(L(String(t)));if(!function(e){return!("[object Date]"!==V(e)||x&&"object"==typeof e&&x in e)}(t)&&!G(t)){var ce=$(t,L),ue=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,le=t instanceof Object?"":"null prototype",de=!ue&&x&&Object(t)===t&&x in t?y.call(V(t),8,-1):le?"Object":"",pe=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||le?"["+E.call(T.call([],de||[],le||[]),": ")+"] ":"");return 0===ce.length?pe+"{}":C?pe+"{"+K(ce,C)+"}":pe+"{ "+E.call(ce,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return W.call(e,t)}function V(e){return h.call(e)}function X(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function J(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Q(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function z(e,t,n,r){return e+" ("+t+") {"+(r?K(n,r):E.call(n,", "))+"}"}function K(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+E.call(e,","+n)+"\n"+t.prev}function $(e,t){var n=F(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=H(e,o)?t(e[o],e):""}var i,a="function"==typeof C?C(e):[];if(k){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)H(e,c)&&(n&&String(Number(c))===c&&c<e.length||k&&i["$"+c]instanceof Symbol||(w.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof C)for(var u=0;u<a.length;u++)N.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}},function(e,t){},function(e,t,n){"use strict";var r=n(93),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),u=s?i.slice(0,s.index):i,l=[];if(u){if(!n.plainObjects&&o.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var d=0;n.depth>0&&null!==(s=a.exec(i))&&d<n.depth;){if(d+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,n,r){for(var o=r?t:c(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:"__proto__"!==u&&(a[u]=o):a={0:o}}o=a}return o}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,u={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,p=l.split(t.delimiter,d),f=-1,m=t.charset;if(t.charsetSentinel)for(n=0;n<p.length;++n)0===p[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[n]?m="utf-8":"utf8=%26%2310003%3B"===p[n]&&(m="iso-8859-1"),f=n,n=p.length);for(n=0;n<p.length;++n)if(n!==f){var h,v,g=p[n],y=g.indexOf("]="),A=-1===y?g.indexOf("="):y+1;-1===A?(h=t.decoder(g,a.decoder,m,"key"),v=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,A),a.decoder,m,"key"),v=r.maybeMap(c(g.slice(A+1),t),function(e){return t.decoder(e,a.decoder,m,"value")})),v&&t.interpretNumericEntities&&"iso-8859-1"===m&&(v=s(v)),g.indexOf("[]=")>-1&&(v=i(v)?[v]:v),o.call(u,h)?u[h]=r.combine(u[h],v):u[h]=v}return u}(e,n):e,d=n.plainObjects?Object.create(null):{},p=Object.keys(l),f=0;f<p.length;++f){var m=p[f],h=u(m,l[m],n,"string"==typeof e);d=r.merge(d,h,n)}return!0===n.allowSparse?d:r.compact(d)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(227);var r={success:function(e){this.main(e,"success")},error:function(e){this.main(e,"error")},warning:function(e){this.main(e,"warning")},info:function(e){this.main(e,"info")},main:function(e,t){this.content="string"==typeof e?e:e.content,this.type=t,void 0===e.duration?this.duration=3e3:this.duration=e.duration,this.onClose=e.onClose,this.wrapperClassName=e.className||"xj-message",this.$wrapper=null,this.render()},exist:function(){var e=document.getElementsByClassName(this.wrapperClassName);return!(!e||!e.length)},render:function(){var e=document.getElementById("root")||document.body,t=' <div class="xj-message-notice-content">\n                        <div class="xj-message-custom-content">\n                            <i class="xj-icon"></i>\n                            <span>'.concat(this.content,"</span>\n                        </div>\n                    </div>");this.exist()?this.$wrapper=document.getElementsByClassName(this.wrapperClassName)[0]:(this.$wrapper=document.createElement("div"),e.appendChild(this.$wrapper)),this.$wrapper.className="".concat(this.wrapperClassName," ").concat(this.wrapperClassName,"-").concat(this.type),this.$wrapper.innerHTML=t+'<div class="mask"></div>',this.repaint()},repaint:function(){var e,t=this;0!==parseInt(this.duration,10)&&(e=setTimeout(function(){t.hide(),clearTimeout(void 0),clearTimeout(void 0),clearTimeout(e)},this.duration))},hide:function(){var e=this,t=this.$wrapper.classList;["info","warning","success","error"].forEach(function(n){t.remove("".concat(e.wrapperClassName,"-").concat(n))}),this.$wrapper.style.transform="translate(0px, 0px)",this.onClose&&this.onClose()}};t.default=r},function(e,t,n){},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.checkAndJumpMiniPage=function(e){return A.apply(this,arguments)};var i=r(n(14)),a=r(n(21)),s=r(n(3)),c=n(11),u=n(49),l=n(25),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(22)),p=r(n(229));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=(0,s.default)((0,s.default)((0,s.default)((0,s.default)((0,s.default)({},l.MEDIA_NAME.UNION_SDK,"8.470.2800"),l.MEDIA_NAME.IOS_UNION_SDK,"4.470.0"),l.MEDIA_NAME.IOS_UNSURE_MEDIA,"4.470.0"),"QQLiveBrowser_Android","8.7.00"),"QQLiveBrowser_iOS","8.7.25");function h(){return v.apply(this,arguments)}function v(){return(v=(0,a.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){if((0,u.isQLive)())return e({type:(0,u.isQLive)(),valid:!0});switch(u.mediaName){case l.MEDIA_NAME.IOS_UNION_SDK:e({type:u.mediaName,valid:!0});break;case l.MEDIA_NAME.UNION_SDK:(0,d.getIsGDTUnion)()||e({type:u.mediaName,valid:!0});break;case l.MEDIA_NAME.IOS_UNSURE_MEDIA:d.default._getSDKVersionPromise().then(function(t){"0.0.0"!==t&&e({type:u.mediaName,valid:!0}),e({type:u.mediaName,valid:!1})});break;default:e({type:u.mediaName,valid:!1})}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=(0,a.default)(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,e.abrupt("return",new Promise(function(e){if((0,u.isQLive)()&&(0,u.checkQLiveVersion)(n,m))return e(!0);switch(u.mediaName){case l.MEDIA_NAME.IOS_UNION_SDK:case l.MEDIA_NAME.IOS_UNSURE_MEDIA:d.default.getIsXQIOSUnionMinVersionAsync(m[n],function(){return e(!0)},function(){return e(!1)});break;case l.MEDIA_NAME.UNION_SDK:d.default.getIsXQUnionMinVersion(m[n])?e(!0):e(!1);break;default:e(!1)}}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=(0,a.default)(i.default.mark(function e(t){var n,r,o,a,s,u,l,d,p,f,m,v;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,t.componentId,r=t.callBack,o=t.componentName,a=void 0===o?"SUPPORT_JUMP_MINI_PAGE_COMPONENT_".concat(+new Date):o,s=t.jumpType,u=void 0===s?"nativePage":s,console.error("开始跳转原生页面。。。",n,a),l={reportName:a},n.nativePageId){e.next=5;break}return e.abrupt("return",{res:!1,msg:"原生页ID不存在"});case 5:return(0,c.TdwReportTrigger)(l,{ei:4006016,preload_status_code:0,biz:{wx_sdk_method:3,jump_type:u}}),e.next=8,h();case 8:if(d=e.sent,p=d.type,f=d.valid,console.error("跳转原生页流量是否支持： ",f),f){e.next=15;break}return(0,c.TdwReportTrigger)(l,{ei:4006018,biz:{wx_sdk_method:3,jump_type:u}},!0),e.abrupt("return",{res:!1,msg:"客户端不支持跳转原生页"});case 15:return(0,c.TdwReportTrigger)(l,{ei:4006017,biz:{wx_sdk_method:3,jump_type:u}}),e.next=18,g({type:p});case 18:if(m=e.sent,console.error("跳转原生页流量版本号是否支持: ",m,p),m){e.next=23;break}return(0,c.TdwReportTrigger)(l,{ei:4006020,biz:{wx_sdk_method:3,jump_type:u}},!0),e.abrupt("return",{res:!1,msg:"客户端版本过低，不支持跳转原生页"});case 23:return(0,c.TdwReportTrigger)(l,{ei:4006019,biz:{wx_sdk_method:3,jump_type:u}}),(0,c.TdwReportTrigger)(l,{ei:4006025,biz:{wx_sdk_method:3,jump_type:u}}),console.error("开始跳转原生页。。。"),e.next=28,_({data:n,componentName:a,type:p});case 28:if(!(v=e.sent).res){e.next=33;break}(0,c.TdwReportTrigger)(l,{ei:4006026,biz:{wx_sdk_method:3,jump_type:u}}),e.next=36;break;case 33:if((0,c.TdwReportTrigger)(l,{ei:4006027,biz:{wx_sdk_method:3,origin_error_code:v&&v.code||999,rpt_from:v&&v.mediaName,jump_type:u}}),!r){e.next=36;break}return e.abrupt("return",r());case 36:return e.abrupt("return",v);case 37:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e){return b.apply(this,arguments)}function b(){return(b=(0,a.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,t.componentName,r=t.type,e.abrupt("return",new Promise(function(e){var t=p.default[r]||p.default.defaultJumpMethod;(0,u.loadSDK)().then(function(){t(n).then(function(t){e(t)})})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(14)),i=r(n(3)),a=r(n(21)),s=n(25),c=n(49);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return new Promise(function(){var t=(0,a.default)(o.default.mark(function t(n){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.IOSUnionBridge,window.IOSUnionBridge&&window.IOSUnionBridge.invoke("getXJAdInfo",{},function(t){var r=f(t,e.nativePageId);r?window.IOSUnionBridge.invoke("jumpToWXCanvas",r,function(e){e&&0===e.result&&n({res:!0,msg:""}),n({res:!1,origin_error_code:e.result,mediaName:s.MEDIA_NAME.UNION_SDK,msg:"调用跳转原生页错误: ".concat(e)})}):n({res:!1,msg:"token 为空: ".concat(JSON.stringify(t))})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}function p(e){return new Promise(function(t){window.TenvideoJSBridge&&window.TenvideoJSBridge.invoke("getXJAdInfo",null,function(n){console.error("原始结果是： ",n);var r=JSON.parse(n);if(console.error("调用getXJAdInfo结果: ",r),0!==parseInt(r.errCode,10)||!r.result)return t({res:!1,msg:"token 为空: ".concat(JSON.stringify(r))});var o=f({result:r.result.xjWxNativeInfo},e.nativePageId);if(console.error("跳转参数是: ",o),o){var i=l(l({},o.extInfo),{},{wxAppId:o.wxAppId});window.TenvideoJSBridge.invoke("jumpToWXCanvas",i,function(e){var n=JSON.parse(e);if(console.error("jumpRes is: ",n),n&&0===parseInt(n.errCode,10))return t({res:!0,msg:""});t({res:!1,origin_error_code:n.errCode,mediaName:"QQLiveBrowser_Android",msg:"调用跳转原生页错误: ".concat(n)})})}else t({res:!1,msg:"token 为空: ".concat(JSON.stringify(n))})})})}function f(e,t){if(e&&e.result&&e.result.length>0){var n=JSON.parse(e.result)||{},r=n.canvasToken,o=r&&r.filter&&r.filter(function(e){return e.canvasId==t});if(o.length>0){var i=n.aid,a=n.trace_id,s=n.ts,c=n.circle_id,u=n.contract_flag,l=n.slot_id,d=n.site_set,p="".concat(i||" ","|").concat(a||" ","| |").concat(s||" ","|").concat(c||" ","|").concat(u||" ","|").concat(l||" ","|").concat(o[0].token||" ","| |").concat(d||" ");return{wxAppId:n.wx_appid,extInfo:{extData:{token:o[0].token,muid:n.muid,canvasId:t,uxInfo:p},canvasId:t,uxInfo:p}}}}return null}t.default=(0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({},s.MEDIA_NAME.UNION_SDK,function(e){return new Promise((t=(0,a.default)(o.default.mark(function t(n){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((0,c.judgeClient)()!==c.judgeClient.SYS.ANDROID){t.next=5;break}return t.next=3,(0,c.loadSDK)("".concat(s.MEDIA_NAME.UNION_SDK,"_Android"));case 3:return t.next=5,(0,c.delay)(50);case 5:window.UniversalAndroidBridge&&window.UniversalAndroidBridge._invoke("getXJAdInfo",function(t){var r=f(t,e.nativePageId);r?window.UniversalAndroidBridge._invoke("jumpToWXCanvas",function(e){e&&0===e.result&&n({res:!0,msg:""}),n({res:!1,origin_error_code:e.result,mediaName:s.MEDIA_NAME.UNION_SDK,msg:"调用跳转原生页错误: ".concat(e)})},r):n({res:!1,msg:"获取广告信息为空: ".concat(t)})});case 7:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}));var t}),s.MEDIA_NAME.IOS_UNION_SDK,d),s.MEDIA_NAME.IOS_UNSURE_MEDIA,d),"QQLiveBrowser_Android",p),"QQLiveBrowser_iOS",p),"defaultJumpMethod",function(){return new Promise(function(e){return e({res:!1,msg:"匹配跳转方法失败"})})})},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=n(2),s=r(n(1)),c=".xj-basic-tips__container",u="xj-basic-tips__container--hide",l=".xj-basic-tips__content",d=".xj-basic-tips__desc",p=".xj-basic-tips__icon",f="xj-basic-tips__icon--rotate",m=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"success",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.show(t,n,"success")}},{key:"error",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.show(t,n,"")}},{key:"info",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.show(t,n,"")}},{key:"warn",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.show(t,n,"")}},{key:"show",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";e.$displayQueue.push({content:t,desc:n,type:r,className:o}),e.consumeQueueInit()}},{key:"clearRenderTimer",value:function(){clearInterval(e._renderTimer),e._renderTimer=null}},{key:"clearHideTimer",value:function(){clearTimeout(e._hideTimer),e._hideTimer=null}},{key:"getContainerInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?document.querySelector(c+".".concat(e)):document.querySelector(c)}},{key:"checkQueueHasData",value:function(){return e.$displayQueue.length>0}},{key:"consumeQueueInit",value:function(){e._renderTimer||(e.consume(),e._renderTimer=setInterval(function(){e.consume()},e.renderTimes))}},{key:"consume",value:function(){try{if(e.checkQueueHasData()){var t=e.$displayQueue[0],n=t.content,r=t.desc,o=t.type,i=t.className;e.render(n,r,o,i),e._hideTimer=setTimeout(function(){e.hideTips(i),e.clearHideTimer()},e.hideTimes),e.$displayQueue.shift()}else{var a=e.getContainerInstance(),s=document.querySelector("#root");s||(s=document.body),a&&a.parentElement&&s.removeChild(a.parentElement),e.clearRenderTimer()}}catch(e){console.error("consume",e)}}},{key:"showTips",value:function(t){e.getContainerInstance(t).classList.remove(u)}},{key:"hideTips",value:function(t){e.getContainerInstance(t).classList.add(u)}},{key:"bindTapClose",value:function(t){(0,a.on)(e.getContainerInstance(t),"click",function(){e.hideTips(t),e.clearHideTimer()})}},{key:"render",value:function(t,n,r,o){e.getContainerInstance(o)?e.repaintTips(t,n,r,o):(e.appendTips2Dom(t,n,r,o),e.bindTapClose(o)),e.showTips(o)}},{key:"repaintTips",value:function(t,n,r,o){var i=e.getContainerInstance(o),a=i.querySelector(l),c=i.querySelector(d),u=i.querySelector(p);if(a&&(a.innerHTML=t),c&&(c.innerHTML=n),r){var m="//".concat(s.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/tips_").concat(r,".png");u.setAttribute("src",m),u.setAttribute("style","display: block"),"loading"===r?u.classList.add(f):u.classList.remove(f)}else u.setAttribute("style","display: none")}},{key:"appendTips2Dom",value:function(e,t,n,r){var o="//".concat(s.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/tips_").concat(n,".png"),i='<img alt="xj_basic_tips_'.concat(n,'" style="display: block" class="xj-basic-tips__icon" src="').concat(o,'" />'),a='\n            <div class="xj-basic-tips__container '.concat(r,'">\n                <div class="xj-basic-tips__header">\n                    ').concat(n?i:"","\n                    ").concat(e?'<div class="xj-basic-tips__content">'+e+"</div>":"","\n                </div>\n                ").concat(t?'<div class="xj-basic-tips__desc">'+t+"</div>":"","\n            </div>\n        "),c=document.querySelector("#root");c||(c=document.body);var u=document.createElement("div");u.innerHTML=a,c.appendChild(u)}}]),e}();m.$displayQueue=[],m._renderTimer=null,m._hideTimer=null,m.renderTimes=3e3,m.hideTimes=2e3;t.default=m},function(e,t,n){"use strict";n.r(t),n.d(t,"H5Reporter",function(){return k}),n.d(t,"LiteTdwReport",function(){return x}),n.d(t,"LiteComponent",function(){return N}),n.d(t,"liteTdwReportTrigger",function(){return j});var r=n(46),o=n.n(r),i=n(36),a=n.n(i),s=n(34),c=n.n(s),u=n(33),l=n.n(u),d=n(8),p=n.n(d),f=n(3),m=n.n(f),h=n(6),v=n.n(h),g=n(4),y=n.n(g),A=n(5),_=n.n(A),b=n(65),w=n(44),T=n(113);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c()(this,n)}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){m()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=[],C={wegame:10001,weapp:10002,"follow-video":10004,"weixin-customer-service":10008,connect:10009,tel:10014,"get-bind-phone-number":10018,"deep-link":10022,"deep-link-h5":10022,"deep-link-weapp":10022,download:10027,"download-market":10025,link:10028,"businesscard-map":10031,"businesscard-tel":10032,haplink:10034,"double-jump":10037,"app-introduce":10038,"app-permission":10039,"app-protocal":10040,"enterprise-weixin-service":10010,"enterprise-weixin-service-group":10047,"enterprise-weixin-assistant":10048,text:10044,appointment:10045,"game-group-follow":10046},P={"wegame-start":4007043,"wegame-success":4007044,"wegame-fail":4007045,"weixin-customer-service-start":4007061,"weixin-customer-service-success":4007062,"weixin-customer-service-fail":4007063,"connect-start":4007064,"connect-success":4007065,"connect-fail":4007066,"tel-start":4007091,"tel-success":4007092,"tel-fail":4007093,"get-tel-number-start":4007100,"get-tel-number-success":4007101,"get-tel-number-fail":4007102,"deep-link-start":4002001,"deep-link-success":4002011,"deep-link-fail":4002012,"deep-link-h5-success":4002031,"deep-link-h5-fail":4002032,"deep-link-weapp-success":4002033,"deep-link-weapp-fail":4002034,"download-start":4001001,"download-success":4001009,"download-fail":4001006,"download-pause":4001004,"download-continue":4001005,"download-install-start":4001010,"download-install-complete":4001011,"download-market-start":4001037,"download-market-success":4001042,"download-market-fail":4001038,"link-start":4003001,"link-success":4003010,"link-fail":4003009,"businesscard-map-start":4007079,"businesscard-map-success":4007080,"businesscard-map-fail":4007081,"businesscard-tel-start":4007082,"businesscard-tel-success":4007083,"businesscard-tel-fail":4007084,"get-bind-phone-number-start":4007100,"get-bind-phone-number-success":4007101,"get-bind-phone-number-fail":4007102,"haplink-start":4008012,"haplink-success":4008013,"haplink-fail":4008014,"appointment-success":4007124,"appointment-fail":4007125,"game-group-follow-success":4007126,"game-group-follow-fail":4007127,"app-store-start":4001068,"enterprise-weixin-qrcode-start":4007137,"enterprise-weixin-qrcode-success":4007138,"enterprise-weixin-qrcode-fail":4007139,"enterprise-weixin-profile-start":4007134,"enterprise-weixin-profile-success":4007135,"enterprise-weixin-profile-fail":4007136,"follow-video-profile-start":4007046,"follow-video-profile-success":4007047,"follow-video-profile-fail":4007048,pv:4003011,unsupport:-1},k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.viewerData;y()(this,e),this.viewerData=t,this.tdwReport=R()}return _()(e,[{key:"report",value:function(e,t){if(window.tianqinReport||window.aegis)switch(e){case"brickErrors":var n=Math.random()<=.05,r=Object(w.parseUrl)();window.tianqinReport&&window.tianqinReport({type:"GXT",data:window.addXJReportDimension({attr:"xj_component_init_fail",val:1,component:t.brickType,click_id_sample:n?r.qz_gdt||r.gdt_vid:"ignore",page_id:n?this.viewerData.pageId:"ignore",aegisType:"".concat(!!window.aegis,", ").concat(v()(window.aegis.report)),errorMessage:t.errorMessage.slice(0,20)})});var o="componentType: ".concat(t.brickType,", error stack: ").concat(t.errorMessage);window.aegis&&window.aegis.report("liteBrickErrorMsg, expParam: ".concat(this.viewerData.expParam,", detail: ").concat(JSON.stringify(o))),console.warn(o);break;case"click":case"exposure":var i=t.reportParams||{};this.tdwReport.clickReport({reportName:t.brickType,reportId:t.id},O({ei:t.ei||function(e){switch(e){case"video_autoplay":return 4007112;case"businesscard-map":return 4007079;case"businesscard-tel":return 4007082;case"form-submit":return 4007038;case"form-fill-authcode":return 4007008;case"form-abandon":return 4007004;case"form-field-change":return 4007002;case"form-input-delete":return 4007003;case"exposure":return 4007e3;default:return 4007001}}(t.action),jumpTypes:t.jumpTypes||[]},i))}}},{key:"reportReady",value:function(){this.tdwReport.init()}}]),e}(),x=function(e){a()(n,e);var t=E(n);function n(){var e,r;y()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return c()(r,((r=t.call.apply(t,[this].concat(a))).clickReport=function(t,i){var a,s,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=null!==(a=i.jumpTypes)&&void 0!==a&&a.length?i.jumpTypes:null===(s=r.componentList.find(function(e){return e.id===t.reportId}))||void 0===s?void 0:s.jumpTypes;return l()((e=o()(r),p()(n.prototype)),"clickReport",e).call(e,t,O(O({},i),{},{cmp_jump_type:u||[]}),c)},o()(r)))}return _()(n,[{key:"init",value:function(){l()(p()(n.prototype),"init",this).call(this)}},{key:"getXjComponent",value:function(e){return new N(e)}},{key:"processViewActionType",value:function(e){switch(e.name){case"BlockForm":case"FixedForm":e.action_type="view_form"}return e}},{key:"enableReport",value:function(e){return!I.includes(e.name)}},{key:"generatorParams",value:function(e){var t=l()(p()(n.prototype),"generatorParams",this).call(this,e);if(4!==window.viewerData.scene)return t;var r,o=t.events;return O(O({},t),{},{events:O(O({},o),{},{ei:e.eiName?P[e.eiName]:Number(o.ei),biz:O(O({},o.biz),{},{traceid:Object(T.getClickId)(),cmp_type:o.biz.cmp_type||e.name,vangogh_cmp_id:o.biz.cmp_id,cmp_jump_type:(r=e.cmp_jump_type,r.map(function(e){return C[e]}).filter(function(e){return!!e})),cmp_name:o.biz.cmp_type||e.name}),ext:O(O({},o.ext),{},{page_id:o.ext.pageid})})})}},{key:"reportAsync",value:function(){this.waitReportList=this.waitReportList.filter(function(e){return-1!==e.ei}),l()(p()(n.prototype),"reportAsync",this).call(this)}}]),n}(b.TdwStandardReport),N=function(e){a()(n,e);var t=E(n);function n(e){var r;y()(this,n),(r=t.call(this,e)).jumpTypes=[],r.position="block";var o=e.dataset,i=o.jumpTypes,a=o.position;r.position=a;try{r.jumpTypes=JSON.parse(i)}catch(e){console.error("can not get the jumpTypes")}return r}return _()(n,[{key:"checkEffectiveExposure",value:function(){if("fixed"===this.position)return!0;var e=document.documentElement.clientHeight,t=this.dom.getBoundingClientRect(),n=t.bottom>1&&e-t.top>1;return n&&(this.hasView=!0),n}},{key:"getInfo",value:function(){return O(O({},l()(p()(n.prototype),"getInfo",this).call(this)),{},{jumpTypes:this.jumpTypes,position:this.position})}}]),n}(b.XJComponent),D=null,R=function(){return D||(D=new x),D},j=function(){return R().clickReport}},function(e,t,n){var r=n(8);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){"use strict";n(235)()||Object.defineProperty(n(236),"Map",{value:n(237),configurable:!0,enumerable:!1,writable:!0})},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(!1===(t=e.entries().next()).done&&(!!t.value&&("raz"===t.value[0]&&"one"===t.value[1])))))))))))))}},function(e,t){var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var r,o=n(94),i=n(239),a=n(57),s=n(31),c=n(23),u=n(16),l=n(258),d=n(29),p=n(102),f=n(268),m=n(286),h=n(289),v=Function.prototype.call,g=Object.defineProperties,y=Object.getPrototypeOf;e.exports=r=function(){var e,t,n,o=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return n=h&&a&&Map!==r?a(new Map,y(this)):this,null!=o&&p(o),g(n,{__mapKeysData__:u("c",e=[]),__mapValuesData__:u("c",t=[])}),o?(f(o,function(n){var r=c(n)[0];n=n[1],-1===i.call(e,r)&&(e.push(r),t.push(n))},n),n):n},h&&(a&&a(r,Map),r.prototype=Object.create(Map.prototype,{constructor:u(r)})),l(g(r.prototype,{clear:u(function(){this.__mapKeysData__.length&&(o.call(this.__mapKeysData__),o.call(this.__mapValuesData__),this.emit("_clear"))}),delete:u(function(e){var t=i.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:u(function(){return new m(this,"key+value")}),forEach:u(function(e){var t,n,r=arguments[1];for(s(e),n=(t=this.entries())._next();void 0!==n;)v.call(e,r,this.__mapValuesData__[n],this.__mapKeysData__[n],this),n=t._next()}),get:u(function(e){var t=i.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]}),has:u(function(e){return-1!==i.call(this.__mapKeysData__,e)}),keys:u(function(){return new m(this,"key")}),set:u(function(e,t){var n,r=i.call(this.__mapKeysData__,e);return-1===r&&(r=this.__mapKeysData__.push(e)-1,n=!0),this.__mapValuesData__[r]=t,n&&this.emit("_add",r,e),this}),size:u.gs(function(){return this.__mapKeysData__.length}),values:u(function(){return new m(this,"value")}),toString:u(function(){return"[object Map]"})})),Object.defineProperty(r.prototype,d.iterator,u(function(){return this.entries()})),Object.defineProperty(r.prototype,d.toStringTag,u("c","Map"))},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(240),o=n(95),i=n(23),a=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,c=Math.abs,u=Math.floor;e.exports=function(e){var t,n,l,d;if(!r(e))return a.apply(this,arguments);for(n=o(i(this).length),l=arguments[1],t=l=isNaN(l)?0:l>=0?u(l):o(this.length)-u(c(l));t<n;++t)if(s.call(this,t)&&(d=this[t],r(d)))return t;return-1}},function(e,t,n){"use strict";e.exports=n(241)()?Number.isNaN:n(242)},function(e,t,n){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}},function(e,t,n){"use strict";e.exports=function(e){return e!=e}},function(e,t,n){"use strict";var r=n(244),o=Math.abs,i=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*i(o(e)):e}},function(e,t,n){"use strict";e.exports=n(245)()?Math.sign:n(246)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var r=n(38),o={function:!0,object:!0};e.exports=function(e){return r(e)&&o[typeof e]||!1}},function(e,t,n){"use strict";var r,o,i,a,s=Object.create;n(96)()||(r=n(97)),e.exports=r?1!==r.level?s:(o={},i={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){i[e]="__proto__"!==e?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(o,i),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(e,t){return s(null===e?o:e,t)}):s},function(e,t,n){"use strict";var r=n(250);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!r(e)}},function(e,t,n){"use strict";var r=n(79);e.exports=function(e){if(!r(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(253),o=n(23),i=Math.max;e.exports=function(e,t){var n,a,s,c=i(arguments.length,2);for(e=Object(o(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},a=1;a<c;++a)t=arguments[a],r(t).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=n(254)()?Object.keys:n(255)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(38),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r,o,i,a,s,c,u,l=n(16),d=n(31),p=Function.prototype.apply,f=Function.prototype.call,m=Object.create,h=Object.defineProperty,v=Object.defineProperties,g=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};s={on:r=function(e,t){var n;return d(t),g.call(this,"__ee__")?n=this.__ee__:(n=y.value=m(null),h(this,"__ee__",y),y.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:o=function(e,t){var n,o;return d(t),o=this,r.call(this,e,n=function(){i.call(o,e,n),p.call(t,this,arguments)}),n.__eeOnceListener__=t,this},off:i=function(e,t){var n,r,o,i;if(d(t),!g.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(i=0;o=r[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===r.length?n[e]=r[i?0:1]:r.splice(i,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:a=function(e){var t,n,r,o,i;if(g.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;r=o[t];++t)p.call(r,this,i)}else switch(arguments.length){case 1:f.call(o,this);break;case 2:f.call(o,this,arguments[1]);break;case 3:f.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];p.call(o,this,i)}}},c={on:l(r),once:l(o),off:l(i),emit:l(a)},u=v({},c),e.exports=t=function(e){return null==e?m(u):v(Object(e),c)},t.methods=s},function(e,t,n){"use strict";var r=n(58),o={object:!0,symbol:!0};e.exports=function(){var e,t=r.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!o[typeof t.iterator]&&(!!o[typeof t.toPrimitive]&&!!o[typeof t.toStringTag])}},function(e,t,n){"use strict";e.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},function(e,t){var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var r,o,i,a=n(16),s=n(101),c=n(58).Symbol,u=n(264),l=n(265),d=n(266),p=Object.create,f=Object.defineProperties,m=Object.defineProperty;if("function"==typeof c)try{String(c()),i=!0}catch(e){}else c=null;o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return r(e)},e.exports=r=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return i?c(t):(n=p(o.prototype),t=void 0===t?"":String(t),f(n,{__description__:a("",t),__name__:a("",u(t))}))},l(r),d(r),f(o.prototype,{constructor:a(r),toString:a("",function(){return this.__name__})}),f(r.prototype,{toString:a(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:a(function(){return s(this)})}),m(r.prototype,r.toPrimitive,a("",function(){var e=s(this);return"symbol"==typeof e?e:e.toString()})),m(r.prototype,r.toStringTag,a("c","Symbol")),m(o.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),m(o.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var r=n(16),o=Object.create,i=Object.defineProperty,a=Object.prototype,s=o(null);e.exports=function(e){for(var t,n,o=0;s[e+(o||"")];)++o;return s[e+=o||""]=!0,i(a,t="@@"+e,r.gs(null,function(e){n||(n=!0,i(this,t,r(e)),n=!1)})),t}},function(e,t,n){"use strict";var r=n(16),o=n(58).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",o&&o.hasInstance||e("hasInstance")),isConcatSpreadable:r("",o&&o.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",o&&o.iterator||e("iterator")),match:r("",o&&o.match||e("match")),replace:r("",o&&o.replace||e("replace")),search:r("",o&&o.search||e("search")),species:r("",o&&o.species||e("species")),split:r("",o&&o.split||e("split")),toPrimitive:r("",o&&o.toPrimitive||e("toPrimitive")),toStringTag:r("",o&&o.toStringTag||e("toStringTag")),unscopables:r("",o&&o.unscopables||e("unscopables"))})}},function(e,t,n){"use strict";var r=n(16),o=n(101),i=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:r(function(t){return i[t]?i[t]:i[t]=e(String(t))}),keyFor:r(function(e){var t;for(t in o(e),i)if(i[t]===e)return t})})}},function(e,t,n){"use strict";var r=n(59),o=n(38),i=n(60),a=n(29).iterator,s=Array.isArray;e.exports=function(e){return!!o(e)&&(!!s(e)||(!!i(e)||(!!r(e)||"function"==typeof e[a])))}},function(e,t,n){"use strict";var r=n(59),o=n(31),i=n(60),a=n(269),s=Array.isArray,c=Function.prototype.call,u=Array.prototype.some;e.exports=function(e,t){var n,l,d,p,f,m,h,v,g=arguments[2];if(s(e)||r(e)?n="array":i(e)?n="string":e=a(e),o(t),d=function(){p=!0},"array"!==n)if("string"!==n)for(l=e.next();!l.done;){if(c.call(t,g,l.value,d),p)return;l=e.next()}else for(m=e.length,f=0;f<m&&(h=e[f],f+1<m&&(v=h.charCodeAt(0))>=55296&&v<=56319&&(h+=e[++f]),c.call(t,g,h,d),!p);++f);else u.call(e,function(e){return c.call(t,g,e,d),p})}},function(e,t,n){"use strict";var r=n(59),o=n(60),i=n(270),a=n(285),s=n(102),c=n(29).iterator;e.exports=function(e){return"function"==typeof s(e)[c]?e[c]():r(e)?new i(e):o(e)?new a(e):new i(e)}},function(e,t,n){"use strict";var r,o=n(57),i=n(100),a=n(16),s=n(29),c=n(81),u=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");c.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",u(this,"__kind__",a("",t))},o&&o(r,c),delete r.prototype.constructor,r.prototype=Object.create(c.prototype,{_resolve:a(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),u(r.prototype,s.toStringTag,a("c","Array Iterator"))},function(e,t,n){"use strict";var r,o=n(39),i=n(272),a=n(276),s=n(277),c=n(99),u=n(282),l=Function.prototype.bind,d=Object.defineProperty,p=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,o=i(t)&&a(t.value);return delete(r=s(t)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&p.call(this,e)?o:(t.value=l.call(o,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},e.exports=function(e){var t=c(arguments[1]);return o(t.resolveContext)&&a(t.resolveContext),u(e,function(e,n){return r(n,e,t)})}},function(e,t,n){"use strict";var r=n(103),o=n(39);e.exports=function(e){return o(e)?e:r(e,"Cannot use %v",arguments[1])}},function(e,t,n){"use strict";var r=n(39),o=n(79),i=Object.prototype.toString;e.exports=function(e){if(!r(e))return null;if(o(e)){var t=e.toString;if("function"!=typeof t)return null;if(t===i)return null}try{return""+e}catch(e){return null}}},function(e,t,n){"use strict";var r=n(275),o=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=r(e);return null===t?"<Non-coercible to string value>":(t.length>100&&(t=t.slice(0,99)+"…"),t=t.replace(o,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},function(e,t,n){"use strict";e.exports=function(e){try{return e.toString()}catch(t){try{return String(e)}catch(e){return null}}}},function(e,t,n){"use strict";var r=n(103),o=n(98);e.exports=function(e){return o(e)?e:r(e,"%v is not a plain function",arguments[1])}},function(e,t,n){"use strict";var r=n(278),o=n(80),i=n(23);e.exports=function(e){var t=Object(i(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(a.ensure||t in e)&&(s[t]=e[t])}):o(s,e),s}},function(e,t,n){"use strict";e.exports=n(279)()?Array.from:n(280)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(29).iterator,o=n(59),i=n(281),a=n(95),s=n(31),c=n(23),u=n(38),l=n(60),d=Array.isArray,p=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},m=Object.defineProperty;e.exports=function(e){var t,n,h,v,g,y,A,_,b,w,T=arguments[1],E=arguments[2];if(e=Object(c(e)),u(T)&&s(T),this&&this!==Array&&i(this))t=this;else{if(!T){if(o(e))return 1!==(g=e.length)?Array.apply(null,e):((v=new Array(1))[0]=e[0],v);if(d(e)){for(v=new Array(g=e.length),n=0;n<g;++n)v[n]=e[n];return v}}v=[]}if(!d(e))if(void 0!==(b=e[r])){for(A=s(b).call(e),t&&(v=new t),_=A.next(),n=0;!_.done;)w=T?p.call(T,E,_.value,n):_.value,t?(f.value=w,m(v,n,f)):v[n]=w,_=A.next(),++n;g=n}else if(l(e)){for(g=e.length,t&&(v=new t),n=0,h=0;n<g;++n)w=e[n],n+1<g&&(y=w.charCodeAt(0))>=55296&&y<=56319&&(w+=e[++n]),w=T?p.call(T,E,w,h):w,t?(f.value=w,m(v,h,f)):v[h]=w,++h;g=h}if(void 0===g)for(g=a(e.length),t&&(v=new t(g)),n=0;n<g;++n)w=T?p.call(T,E,e[n],n):e[n],t?(f.value=w,m(v,n,f)):v[n]=w;return t&&(f.value=null,v.length=g),v}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"==typeof e&&o(r.call(e))}},function(e,t,n){"use strict";var r=n(31),o=n(283),i=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return r(t),o(e,function(e,r,o,s){n[r]=i.call(t,a,e,r,o,s)}),n}},function(e,t,n){"use strict";e.exports=n(284)("forEach")},function(e,t,n){"use strict";var r=n(31),o=n(23),i=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,u){var l,d=arguments[2],p=arguments[3];return n=Object(o(n)),r(u),l=s(n),p&&l.sort("function"==typeof p?i.call(p,n):void 0),"function"!=typeof e&&(e=l[e]),a.call(e,l,function(e,r){return c.call(n,e)?a.call(u,d,n[e],e,n,r):t})}}},function(e,t,n){"use strict";var r,o=n(57),i=n(16),a=n(29),s=n(81),c=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),c(this,"__length__",i("",e.length))},o&&o(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:i(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:i(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n})}),c(r.prototype,a.toStringTag,i("c","String Iterator"))},function(e,t,n){"use strict";var r,o=n(57),i=n(16),a=n(81),s=n(29).toStringTag,c=n(287),u=Object.defineProperties,l=a.prototype._unBind;r=e.exports=function(e,t){if(!(this instanceof r))return new r(e,t);a.call(this,e.__mapKeysData__,e),t&&c[t]||(t="key+value"),u(this,{__kind__:i("",t),__values__:i("w",e.__mapValuesData__)})},o&&o(r,a),r.prototype=Object.create(a.prototype,{constructor:i(r),_resolve:i(function(e){return"value"===this.__kind__?this.__values__[e]:"key"===this.__kind__?this.__list__[e]:[this.__list__[e],this.__values__[e]]}),_unBind:i(function(){this.__values__=null,l.call(this)}),toString:i(function(){return"[object Map Iterator]"})}),Object.defineProperty(r.prototype,s,i("c","Map Iterator"))},function(e,t,n){"use strict";e.exports=n(288)("key","value","key+value")},function(e,t,n){"use strict";var r=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return r.call(arguments,function(e){t[e]=!0}),t}},function(e,t,n){"use strict";e.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},function(e,t){function n(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.appendChild(t)}function r(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.insertBefore(t,this.firstChild)}function o(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.parentNode.insertBefore(t,this)}function i(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.parentNode.insertBefore(t,this.nextSibling)}function a(){null!==this.parentNode&&this.parentNode.removeChild(this)}function s(){"use-strict";var e,t=this.parentNode,n=arguments.length;if(t)for(n||t.removeChild(this);n--;)"object"!=typeof(e=arguments[n])?e=this.ownerDocument.createTextNode(e):e.parentNode&&e.parentNode.removeChild(e),n?t.insertBefore(e,this.previousSibling):t.replaceChild(e,this)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:n}),e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:r}),e.hasOwnProperty("before")||Object.defineProperty(e,"before",{configurable:!0,enumerable:!0,writable:!0,value:o}),e.hasOwnProperty("after")||Object.defineProperty(e,"after",{configurable:!0,enumerable:!0,writable:!0,value:i}),e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:a}),e.replaceWith||(e.replaceWith=s)})},function(e,t,n){"use strict";var r=n(61),o=n(77),i=n(295),a=n(296),s=n(297),c=o(a(),Math);r(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(104),i=Object.keys,a=i?function(e){return i(e)}:n(293),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(104),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var m=u&&n;if(s&&e.length>0&&!o.call(e,0))for(var h=0;h<e.length;++h)p.push(String(h));if(r&&e.length>0)for(var v=0;v<e.length;++v)p.push(String(v));else for(var g in e)m&&"prototype"===g||!o.call(e,g)||p.push(String(g));if(c)for(var y=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(e){return!1}}(e),A=0;A<l.length;++A)y&&"constructor"===l[A]||!o.call(e,l[A])||p.push(l[A]);return p}}e.exports=r},function(e,t,n){"use strict";var r=n(56)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},function(e,t,n){"use strict";e.exports=parseFloat},function(e,t,n){"use strict";e.exports=function(){return parseFloat}},function(e,t,n){"use strict";var r=n(61);e.exports=function(){return r(Number,{parseFloat:parseFloat}),parseFloat}},function(e,t,n){"use strict";var r=n(77),o=n(61),i=n(105),a=n(106),s=n(299),c=r(a(),Number);o(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},function(e,t,n){"use strict";var r=n(61),o=n(106);e.exports=function(){var e=o();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TDW_REPORT_REPORT_NAMES=t.TDW_REPORT_ACTION_TYPES=void 0;t.TDW_REPORT_REPORT_NAMES={PLAY_C:"xj_play_component",QA_PLAY_CONTENT:"cmp_type_play_content"},t.TDW_REPORT_ACTION_TYPES={PLAY_C_INIT:"playable_initialization",PLAY_C_SHOW:"playable_show",PLAY_C_RESOURCE_LOAD:"playable_load_finish",PLAY_C_START:"playable_action_start",PLAY_C_END:"playable_action_end",PLAY_C_END_THEN_TRANSFORM:"playable_action_toload",PLAY_C_CLOSE:"playable_action_close",PLAY_C_DESTROY:"playable_action_destroy",PLAY_C_EXIT_EMIT:"playable_exit_emit",PLAY_CONTENT:"play_content"}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new b(e,t,"download")};var o=r(n(5)),i=r(n(4));n(329);var a=n(2),s=n(313),c=n(7),u=n(12),l=r(n(52)),d=r(n(69)),p="end",f=[1202,1203,1234],m=".xj-app-gift-pack__modal",h=".xj-app-gift-pack__button-copy",v=".xj-app-gift-pack__title",g=".xj-app-gift-pack__code__label",y=".xj-app-gift-pack__code__num",A=".xj-app-gift-pack__end",_=".xj-app-gift-pack__modal__mask",b=(0,o.default)(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"download";(0,i.default)(this,e),w.call(this),this.init(t,n,r)});b.displayEnable=!0;var w=function(){var e=this;this.copyEventHandler=function(){e.copyHandler(!e.isFirstCopy)},this.toggleModalVisible=function(t){if("text"===e.initType||!1===t||b.displayEnable){var n=t?"add":"remove";e.$modal.classList[n]("visible"),t?(e.isFirstCopy&&(e.drawed?e.copyHandler(!1):e.fetchGift(!1),e.isFirstCopy=!1),(0,a.on)(e.$copyButton,"click",e.copyEventHandler)):(e.isFirstCopy=!0,(0,a.off)(e.$copyButton,"click",e.copyEventHandler))}},this.disablePack=function(){e.packStatus=p,e.$packStatus.setAttribute("style","display:block"),e.$packTitle.setAttribute("style","margin-top: 2px; opacity: 0.3"),e.$packLabel.setAttribute("style","opacity: 0.2"),e.$packCode.setAttribute("style","opacity: 0.2");var t=e.$copyButton.getAttribute("style");t.indexOf("color")>-1?e.$copyButton.setAttribute("style",t.replace("#fff","rgba(255,255,255,0.5)")):e.$copyButton.setAttribute("style","color: rgba(255,255,255,0.5)"),e.copyEnable=!1},this.giftClickDMPReport=function(){var t={OBJECT:"coupon_click",leads_standard_form_info:JSON.stringify({uniq_user_id:e.giftUi,component_id:e.packId})},n=u.REPORT_TYPE.GIFT_CLICK,r=u.REPORT_TYPE.COUPON_CARD_CLICK;(0,s.DMPReport)(n,r,t)},this.giftOfferDMPReport=function(t){var n={OBJECT:"coupon_click",leads_standard_form_info:JSON.stringify({uniq_user_id:e.giftUi,component_id:e.packId,gift_code:t})},r=u.REPORT_TYPE.GIFT_CLAIM_OFFER;(0,s.DMPReport)(r,"",n)},this.fetchData=function(){var t={componentId:e.packId,pageId:viewerData.pageId,accountId:viewerData.accountId,uniqueUserId:e.giftUi,clickId:"0_null_default"===e.giftUi?"test":e.clickId};(0,s.fetchGiftData)(e.getGiftStatus,"POST",t).then(function(t){0===t.code?(t.data&&t.data.giftCode&&e.updatePackCode(t.data.giftCode),t.data&&0===t.data.status&&(e.drawed=!0),t.data&&1===t.data.status&&(e.drawed=!1)):f.indexOf(t.code)>-1?e.disablePack():(d.default.error("礼包加载异常，请稍后再试"),e.disablePack(),(0,s.reportClick)("xj_gift_pack_fetch",viewerData.pageId,e.packId,1,t.code))}).catch(function(t){e.disablePack(),(0,s.reportClick)("xj_gift_pack_fetch",viewerData.pageId,e.packId,1,9999)})},this.fetchGift=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e.packStatus!==p)if("0_null_default"!==e.giftUi){"1"!==(0,a.parseUrl)().autodownload&&e.giftClickDMPReport();var n={componentId:e.packId,pageId:viewerData.pageId,accountId:viewerData.accountId,uniqueUserId:e.giftUi,clickId:e.clickId,actionSetId:parseInt(viewerData.actionSetId,10)};(0,s.fetchGiftData)(e.drawGift,"POST",n).then(function(n){0===n.code?(e.updatePackCode(n.data.giftCode),e.copyHandler(!1),e.drawed=!0):f.indexOf(n.code)>-1?e.disablePack():(d.default.error("礼包加载异常，请稍后再试"),(0,s.reportClick)("xj_gift_pack_fetch",viewerData.pageId,0,1,n.code)),t&&e.toggleModalVisible(!0)}).catch(function(n){e.disablePack(),t&&e.toggleModalVisible(!0),(0,s.reportClick)("xj_gift_pack_fetch",viewerData.pageId,0,1,9999)})}else e.disablePack()},this.copyHandler=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.giftCode;!1!==e.copyEnable&&(0,a.copyText)(n,function(){t&&e.giftOfferDMPReport(n),t&&d.default.success("礼包码复制成功","下载APP按照指示可兑换好礼~")},function(e){t&&d.default.warn("兑换码复制失败")})},this.updatePackCode=function(t){e.$modal.querySelector(".J_Dynamic_Label").textContent="礼包码:",e.$modal.querySelector(".J_Dynamic").textContent=t+"",e.$copyButton.classList.add("copying"),e.giftCode=t},this.init=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"download";e.getGiftStatus="".concat(c.backendUrl,"/gameGift/getRemainCount"),e.drawGift="".concat(c.backendUrl,"/gameGift/drawOne"),e.packStatus="",e.isFirstCopy=!0,e.drawed=!1,e.copyEnable=!0,e.clickId=(0,a.getTraceId)(),e.packId=n,e.giftUi=(0,a.parseUrl)().xj_ui||"",e.giftUi||(e.clickId&&(0,s.reportClick)("xj_xjui_miss",viewerData.pageId,n,1,0),e.giftUi="0_null_default");try{e.$modal=document.querySelector(m),e.$modalMask=e.$modal.querySelector(_),e.$packStatus=e.$modal.querySelector(A),e.$copyButton=e.$modal.querySelector(h),e.$packTitle=e.$modal.querySelector(v),e.$packCode=e.$modal.querySelector(y),e.$packLabel=e.$modal.querySelector(g),e.giftCode="",e.initType=r,e.$modalMask&&(0,a.on)(e.$modalMask,"click",function(){e.toggleModalVisible(!1)}),t&&(0,a.on)(document.querySelector(t),"click",function(){e.toggleModalVisible(!0)}),l.default.init(!1)}catch(e){console.error("gift Modal Init error",e)}""===e.packStatus&&("1"===(0,a.parseUrl)().autodownload?e.packId&&e.fetchGift(!0):e.packId&&e.fetchData())}}},function(e,t,n){"use strict";e.exports=n(303)},function(e,t,n){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=Object.create(n),o=/["&'<>]/;r.$escape=function(e){return function(e){var t=""+e,n=o.exec(t);if(!n)return e;var r="",i=void 0,a=void 0,s=void 0;for(i=n.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==i&&(r+=t.substring(a,i)),a=i+1,r+=s}return a!==i?r+t.substring(a,i):r}(function e(t){"string"!=typeof t&&(t=void 0===t||null===t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n);else for(var o in e)t(e[o],o)},e.exports=r}).call(this,n(45))},function(e,t,n){"use strict";n(83).staticVersion;var r=n(305).PAGE_VIEWER;t.TOKEN_CONF={expires:1200,conf:{xijing:"tbvlA4D4vSpFMSa4bqqh3nTh3"},client:{id:"xijing",secret:r.CLIENT_SECRET}},t.CDN_CACHE=2592e3,t.CDN_HOSTS=["xj.gdt.qq.com","test-xj.gdt.qq.com","test-xj.gdt.qq.com:8081"],t.CDN_REFRESH_INTERVAL=1e4,t.CKV_REFRESH_BEFORE=691200,t.REFRESH_LENGTH=200,t.CDN_CKV_CACHE=2592e3,t.NO_REFRESH_SINCE=36e5,t.CKV_NO_DATA_CODE=-13200,t.CDN_REFRESH_TIMEOUT_COUNT=100,t.PAGE_TYPE={"android-ios-app-h5":"通配App","android-app-h5":"安卓H5","website-h5":"网站H5","ios-app-h5":"IOS H5","default-h5":"默认H5","ott-h5":"蹊径ott类型落地页","android-app-native":"安卓Native落地页","ios-app-native":"IOS Native落地页","website-native":"网站Native落地页","default-native":"默认Native"},t.DESTTYPE={XJAPP:1,XJWEB:4,DEFAULT:0},t.PRODUCTTYPE={IOS:19,ANDROID:12,WEB:1e3},t.TASK_SCENE_MAP={TST_SNAPSHOT:"TST_SNAPSHOT"},t.EDITOR_SCENE={PROFESSIONAL:0,SPEED:1,LITE:2,MEDICAL:3,INTEGRATION:4,ALITA_PAGE:5},t.EDITOR_SPEED={DEFAULT:0,SIMPLY_EDU:1,SIMPLY_GAME:3,SIMPLY_MiCRO_BUSINESS:4,SIMPLY_TRANSFORM:5,SIMPLY_DERIVE:6,SIMPLY_POI:7,SIMPLY_SPEED_DEFAULT:8,SIMPLY_SIMPLY_EDITOR:9},t.CDN_HOST_MAP={OLD:"i.gtimg.cn",TEST:"test-xj.gtimg.cn",PROD:"xj.gtimg.cn"};var o={SCRIPT:"script",STYLESHEET:"stylesheet",IMAGE:"image",VIDEO:"video"};t.BRICKS_PREFETCH_RES_TYPES=o;var i=[new RegExp("qqapi.js"),new RegExp("lib/spa-downloader")];t.XQ_UNION_PREFETCH_MEDIA_ID_LIST=[].map(function(e){return"".concat(e)}),t.XQ_UNION_GET_PREFETCH_RES_OPTIONS={resourcesPreLoader:function(e){var t=0;return e.sort(function(e,t){return e.type!==o.VIDEO&&t.type===o.VIDEO?1:e.type===o.VIDEO&&t.type!==o.VIDEO?-1:0}).filter(function(e){return e.type!==o.VIDEO||(t+=1)<=3})},totalSizeGetter:function(e){return e.some(function(e){return e.type===o.VIDEO})?6291456:4194304},count:30,includeTypes:[o.SCRIPT,o.STYLESHEET,o.IMAGE],exclude:[/lib\/xijing\/viewer\/cdn\/.*\/(.*-h5-v\d*\.\d*\.\d*)/].concat(i)},t.MP_GET_PREFETCH_RES_OPTIONS={totalSize:4194304,count:15,includeTypes:[o.SCRIPT,o.STYLESHEET],exclude:[new RegExp("lib/xijing/viewer/cdn")].concat(i)}},function(e,t,n){"use strict";n.r(t),n.d(t,"ADCANVAS_PREVIEW",function(){return r}),n.d(t,"COS_TOKEN",function(){return o}),n.d(t,"SCREENSHOT_COS_TOKEN",function(){return i}),n.d(t,"PAGE_VIEWER",function(){return a}),n.d(t,"PAGE_MAKER",function(){return s});var r={jwtTokenSecretKey:"ZdwGr@8q%#PitPra",foo:1},o={APP_ID:"1258344703",DOMAIN:"xj.gtimg.cn",BUCKET:"".concat("xj.gtimg.cn","-").concat("1258344703"),SECRET_ID:"A".concat("KIDTikhPsRI8jFOJ0v3VoqdUZPzJOFqKKyL"),SECRET_KEY:"IK9l6B2jAJB9qJZY6i5B9rKckOrFc08z"},i={APP_ID:"1258344703",DOMAIN:"file.myqcloud.com",REGION:"ap-guangzhou",BUCKET:"".concat("xj-component-screenshot","-").concat("1258344703"),SECRET_ID:"A".concat("KIDc8dqmRuFNSBk34NSy2tJYdP7adOtMFOR"),SECRET_KEY:"oyynEcTrjZBbbKzx0f4gJgndML5OMJeH"},a={PREFETCH_REDIS_PASSWORD:"daFDS!d#1p",TOKEN_AUTH_SECRET:"SSiLav9h0eQ7XvQKKeeIJDqpyatdLXgt",CLIENT_SECRET:"tbvlA4D4vSpFMSa4bqqh3nTh3",QLIVE_TOKEN:"b5ed7b3534b5e072",QNEWS_TOKEN:"94eba577fa4a004d",QQ_TOKEN:"16db9de861a74326",STATIC_API_KEY:"CGJBZ-S4BCJ-65IF4-FU5HM-YM4WQ-KPB2E",PAY_APP_SCERET:"0004caee9d4d42099ebbc4541fbd2b2a",READ_TOKEN:"3bb44fdf3a12e41b",QB_TOKEN:"fc59930648b730e4"},s={ZIP_COS_ID:"",ISV_ZIP_COS_ID:"Ur0f97N8tb6n7WH42o4QOn3p"}},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.fallbackUrlHandler=function(e){var t=e.payload;c.default.sendRPT(c.default.RPTTYPE.CLOUD_SOURCE_USE_FALLBACK_URL),setTimeout(function(){if(0!==t.indexOf("http://h5.gdt.qq.com")&&0!==t.indexOf("https://h5.gdt.qq.com"))return"fallbackUrl不合法: ".concat(t),!1;if(t){var e=(0,p.buildParamsUrl)(t,(0,p.parseUrl)());window.location.href=e}},d.WAIT_DMP_REPORT_TIME)},t.postMessageToMaker=function(e,t){if(!c.default.parseUrl().isvCallDetect)return;var n={funcName:e,data:t};window.parent.postMessage(n,document.referrer)},t.qaTdwReport=function(e){var t=e.key,n=e.value,r=e.qaFrom,o=e.qaCount,a=(0,i.default)(e,v);(0,f.TdwReportTrigger)({reportName:m.TDW_REPORT_REPORT_NAMES.QA_PLAY_CONTENT},{action_type:m.TDW_REPORT_ACTION_TYPES.PLAY_CONTENT,status:A({qa_q:t,qa_a:n,qa_from:r,qa_count:o},a)})},t.timingHandler=function(e){var t=e.payload;if(!t)return void console.warn("[page-viewer] timing为空，跳过打点");if("object"===(0,s.default)(t)&&null!==t&&t.custom)return"[page-viewer]，值为: ".concat(t.custom),void(0,f.TdwReportTrigger)({reportName:"XJPlayableModule"},{action_type:"interactive_custom",status:A({customType:t.custom,value:t.value},t.params||{})});if("object"===(0,s.default)(t)&&null!==t&&t.type)switch(t.type){case"sceneChanged":var n=t.targetScene,r=t.clickArea,o=this.time?performance.now()-this.time:0;(0,f.TdwReportTrigger)({reportName:"XJPlayableModule"},{action_type:"interactive_enter_scene",status:{target_scene:n,scene:this.scene?this.scene:null,click_area:r||null,cost_time_scene:parseInt(o,10),type:"zip"}}),r&&(0,f.TdwReportTrigger)({reportName:"XJPlayableModule"},{action_type:"interactive_click",status:{scene:this.scene?this.scene:null,type:"zip",clickArea:r}}),this.time=performance.now(),this.scene=n;break;case"click":var i=t.clickArea;(0,f.TdwReportTrigger)({reportName:"XJPlayableModule"},{action_type:"interactive_click",status:{scene:this.scene?this.scene:null,type:"zip",clickArea:i}})}var a=c.default.RPTTYPE;switch(t){case this.TIMING.LOADED:this.postMessageToMaker&&this.postMessageToMaker("timing~".concat(this.TIMING.LOADED)),c.default.sendRPT(a.GAME_RESOURCE_LOAD_COMPLETED),(0,f.TdwReportTrigger)({reportName:m.TDW_REPORT_REPORT_NAMES.PLAY_C},{action_type:m.TDW_REPORT_ACTION_TYPES.PLAY_C_RESOURCE_LOAD},_);break;case this.TIMING.START:this.postMessageToMaker&&this.postMessageToMaker("timing~".concat(this.TIMING.START)),c.default.sendRPT(a.GAME_START),(0,f.TdwReportTrigger)({reportName:m.TDW_REPORT_REPORT_NAMES.PLAY_C},{action_type:m.TDW_REPORT_ACTION_TYPES.PLAY_C_START},_);break;case this.TIMING.END:this.postMessageToMaker&&this.postMessageToMaker("timing~".concat(this.TIMING.END)),c.default.sendRPT(a.GAME_END),(0,f.TdwReportTrigger)({reportName:m.TDW_REPORT_REPORT_NAMES.PLAY_C},{action_type:m.TDW_REPORT_ACTION_TYPES.PLAY_C_END},_),h.default.setGameFinished(!0);break;case this.TIMING.TRANSFORM_AFTER_END:this.postMessageToMaker&&this.postMessageToMaker("timing~".concat(this.TIMING.TRANSFORM_AFTER_END)),c.default.sendRPT(a.DOWNLOAD_AFTER_GAME_END),(0,f.TdwReportTrigger)({reportName:m.TDW_REPORT_REPORT_NAMES.PLAY_C},{action_type:m.TDW_REPORT_ACTION_TYPES.PLAY_C_END_THEN_TRANSFORM},_)}},t.transformStatusChangeHandler=function(e){var t=e.callback;switch(viewerData.transformType){case"appDownload":var r=n(43).default,o=new r,i=o.spaDownloader;o.state,o.DOWNLOAD_STATUS;i.on("statusChange",function(e){t(A({type:"download"},e))})}},t.transformTdwReport=function(e){var t=e.clickArea;(0,f.TdwReportTrigger)({reportName:"XJPlayableModule"},{action_type:"interactive_transform",status:{scene:this.scene?this.scene:null,clickArea:t||null,type:"zip"}}),(0,f.TdwReportTrigger)({reportName:"XJPlayableModule"},{action_type:"interactive_enter_scene",status:{target_scene:null,scene:this.scene?this.scene:null,clickArea:t||null,cost_time_scene:parseInt(this.time?performance.now()-this.time:0,10),type:"zip"}})},t.viewchangeHandler=function(e){var t=e.callback;function n(){t._xijingVisibilityId||(t._xijingVisibilityId=l.default.onChange(function(e){t({code:0,data:{viewable:e===l.STATE_VISIBLE}})}))}n(),u.default.onShow(function(){t({code:0,data:{viewable:!0}}),n()}),u.default.onHidden(function(){t({code:0,data:{viewable:!1}}),function(){if(!t._xijingVisibilityId)return;l.default.remove(t._xijingVisibilityId),delete t._xijingVisibilityId}()})};var i=r(n(72)),a=r(n(3)),s=r(n(6)),c=r(n(37)),u=r(n(148)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(47)),d=n(7),p=n(2),f=n(11),m=n(300),h=r(n(120)),v=["key","value","qaFrom","qaCount"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={traceId:"",componentId:0,businessId:"",isComponentPage:!1}},function(e,t,n){"use strict";n.r(t),n.d(t,"SdkVideo",function(){return O});var r=n(3),o=n.n(r),i=n(72),a=n.n(i),s=n(4),c=n.n(s),u=n(5),l=n.n(u),d=n(1),p=n.n(d),f=n(19),m=n.n(f),h=n(10),v=n.n(h),g=n(2),y=n(35),A=n(88),_=n(9),b=["containerId","isPreview","isMute","enableMuteBtn","sourceType","componentType","poster","superPlayerConfig","elVideoBeforeInit"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new Promise(function(o){var i=setTimeout(function(){return console.warn("deadline info: ",r,t),o(t)},n);e.then(function(e){clearTimeout(i),o(e)})})},S=m.a&&m.a.getSceneEnv&&m.a.getSceneEnv(),O=function(){function e(t){c()(this,e),I.call(this);var n=t.containerId,r=t.isPreview,o=void 0===r||r,i=t.isMute,s=void 0!==i&&i,u=t.enableMuteBtn,l=void 0===u||u,d=t.sourceType,p=void 0===d?"vid":d,f=t.componentType,m=void 0===f?y.ComponentType.VIDEO:f,h=t.poster,v=t.superPlayerConfig,g=t.elVideoBeforeInit,A=a()(t,b);this.videoConfig=T({containerId:n,isPreview:o,isMute:s,superPlayerConfig:T({loop:!0,autoPlayPolicy:_.a.IN_MUTED},v),enableMuteBtn:l,sourceType:p,componentType:m,poster:h,elVideoBeforeInit:g},A),this.asyncInit()}return l()(e,[{key:"dispose",value:function(){var e=this,t=this.getCurrentVideoInfoList(),n=t.findIndex(function(t){return t.containerId===e.videoConfig.containerId});-1!==n&&(t.splice(n,1),this.superPlayer.destroy())}},{key:"getPlaySource",value:function(){var e=this.videoConfig,t=e.sourceType,n=e.isPreview,r=e.vid,o=e.url;return n||"url"===t?{url:o}:{vid:r}}},{key:"loadDeps",value:function(){return y.SdkVideoManager.loadSuperPlayerSingleton().then(function(){if(!("SPAPageNetwork"in window))return v()([g.SPA_PAGE_NETWORK],{returnPromise:!0})})}},{key:"getSuperPlayer",value:function(){return this.superPlayer}},{key:"getCurrentVideoInfoList",value:function(){return y.SdkVideoManager.VIDEO_INFO_MAP[this.videoConfig.componentType]}},{key:"pauseVideoComponents",value:function(){A.playerList.forEach(function(e){if(!e||!e.player)return!1;e.player.pause()})}},{key:"updateMuteBtnState",value:function(e){this.superPlayer.volume=Number(!e),this.updateMuteIcon(e)}},{key:"updateMuteIcon",value:function(e){if(this.videoConfig.enableMuteBtn&&this.elMuteBtn){var t=e?"mute.svg":"unmute.svg";this.elMuteBtn.src="//".concat(p.a.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/").concat(t)}}},{key:"renderMuteButton",value:function(){var e=this,t=this.elVideoContainer;t?(this.elMuteBtn=document.createElement("img"),this.updateMuteBtnState(this.superPlayer.muted),this.elMuteBtn.setAttribute("class","xj-mute-button"),t.appendChild(this.elMuteBtn),this.elMuteBtn.addEventListener("click",function(){e.updateMuteBtnState(!e.superPlayer.muted)})):console.error(".data-video not exists!")}},{key:"renderHdTag",value:function(){var e=this.elVideoContainer;if(e){var t=document.createElement("img");t.src="//".concat(p.a.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/video-hd-tag.svg"),t.setAttribute("class","xj-video-hd-tag"),e.appendChild(t)}else console.error(".data-video not exists!")}},{key:"checkNetworkIsWifi",value:function(){return E(new Promise(function(e){var t;null===(t=window.SPAPageNetwork)||void 0===t||t.checkNetworkType(function(t){e(["WIFI","UNKNOW"].includes(t))})}),!1,500,"网络类型是否为WIFI")}},{key:"checkTxVideoCanAutoPlay",value:function(){return E(new Promise(function(e){var t,n;null===(t=window.TenvideoJSBridge)||void 0===t||null===(n=t.invoke)||void 0===n||n.call(t,"isForbiddenVideoAutoPlay",null,function(t){var n=JSON.parse(t);return!n.errCode&&n.result?e(!0):e(!1)})}),!0,50,"腾讯视频下生效")}},{key:"checkVideoCanAutoPlay",value:function(){var e=this,t=function(){return null!==S&&void 0!==S&&S.disableVideoAutoplay?Promise.resolve(!1):e.videoConfig.size<=y.SdkVideoManager.AUTOPLAY_SIZE_LIMIT?Promise.resolve(!0):e.checkNetworkIsWifi()};return Object(g.isInOmMedia)()||null!=window.TenvideoJSBridge?this.checkTxVideoCanAutoPlay().then(function(e){return e&&t()}):t()}},{key:"pauseNativeVideo",value:function(){var e,t,n,r;null===(e=window.TenvideoJSBridge)||void 0===e||null===(t=e.invoke)||void 0===t||t.call(e,"notifyH5PlayVideo",null,function(e){}),null===(n=window.TencentNews)||void 0===n||null===(r=n.adVideoBeginPlay)||void 0===r||r.call(n)}},{key:"controlsProcess",value:function(){var e=this;this.ctrlBar=this.superPlayer.plugins.ctrlbar,this.ctrlBar?(this.ctrlBar.on(_.b.CLICK_PLAYBTN,function(){var t,n;t=function(){e.videoInfo.manualPause=!1,e.superPlayer.off(_.d.VIDEO_PAUSE,n)},n=function(){e.videoInfo.manualPause=!0,e.superPlayer.off(_.d.VIDEO_PLAYING,t)},e.superPlayer.once(_.d.VIDEO_PLAYING,t),e.superPlayer.once(_.d.VIDEO_PAUSE,n)}),this.ctrlBar.on(_.b.CLICK_REPLAY,function(){return e.videoInfo.manualPause=!1})):console.error("superPlayer ctrlBar not exist, please notice!!");var t=this.elVideoContainer.querySelector(".plugin_ctrl_center_btn .btn_play");t?t.addEventListener("click",function(){return e.superPlayer.volume=1}):console.warn("superPlayer center btn not exist, please notice")}},{key:"nativeVideoProcess",value:function(){var e,t=this;null===(e=window.TenvideoJSBridge)||void 0===e||e.on("onQQLivePlayVideo",function(){t.superPlayer.pause()}),window.TencentNews&&void 0===window.TencentNewsCallback&&(window.TencentNewsCallback={videoPause:function(){y.SdkVideoManager.pauseAllVideo()}})}}]),e}(),I=function(){var e=this;this.asyncInit=function(){var t,n=e.videoConfig,r=n.containerId,o=n.poster,i=n.superPlayerConfig,a=i.loop,s=i.autoPlayPolicy,c=i.ctrlConfig,u=n.elVideoBeforeInit,l=e.getPlaySource(),d=r.startsWith("#")?r:"#".concat(r);if(e.elVideoContainer=document.querySelector(d),null===u||void 0===u||null===(t=u.remove)||void 0===t||t.call(u),e.elVideoContainer){Object(g.disableSwipeBackGesture)();var p=e.loadDeps().then(function(){e.superPlayer=new window.SuperPlayer({container:e.elVideoContainer,type:_.e.VOD,poster:{src:o},videoInitConfig:l,loop:a,videoElementConfig:{crossorigin:!0,"mtt-playsinline":!0},autoPlayPolicy:s,ctrlConfig:T({isMobile:!0},c),disableWatermark:!0}),e.controlsProcess(),e.nativeVideoProcess(),e.videoInfo.superPlayer=e.superPlayer,e.superPlayer.on(_.d.VIDEO_PLAYING,function(){y.SdkVideoManager.currentPlayingId=e.videoConfig.containerId,y.SdkVideoManager.pauseOtherVideo(e.videoConfig.containerId),e.pauseVideoComponents(),e.pauseNativeVideo(),e.updateMuteIcon(e.superPlayer.muted)}),e.superPlayer.on(_.d.PLAY_SESSION_END,function(e){var t=e.data;t.code,t.endState;_.c.ERROR}),e.superPlayer.on(_.d.VIDEO_AUTOPLAY_BLOCKED,function(){console.warn("superPlayer autoPlayPolicy: [".concat(s,"] browser block auto play, current is paused!")),e.superPlayer.pause()}),e.superPlayer.on(_.d.VIDEO_VOLUME_CHANGE,function(t){"VIDEO_VOLUME_CHANGE"===t.type&&e.updateMuteIcon(e.superPlayer.muted)});var t=e.videoConfig,n=t.enableMuteBtn;return"url"===t.sourceType&&e.renderHdTag(),n&&e.renderMuteButton(),e.checkVideoCanAutoPlay().then(function(t){Object.assign(e.videoInfo,{canAutoPlay:t,inited:!0})}).then(function(){var t;return Promise.resolve(null===(t=e.onReady)||void 0===t?void 0:t.call(e,e.videoInfo))}).then(function(){return e.videoInfo})}),f=e.getCurrentVideoInfoList();return e.videoInfo={containerId:r,initStatus:p,manualPause:!1,inited:!1,canAutoPlay:!1,superPlayer:e.superPlayer,componentType:e.videoConfig.componentType},f.push(e.videoInfo),p}console.error("init fail!")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.playDetectMedia=o;var r={videoList:[],playingSoundVideoDOM:null};t.default={playVideoByDOM:function(e){var t=this;t.cacheVideo(e),window.WeixinJSBridge?t.playVideoInWechat(e):document.addEventListener("WeixinJSBridgeReady",function(){t.playVideoInWechat(e)},!1),o().then(function(){t.playWithSound(e)}).catch(function(){o(!0).then(function(){t.playWithoutSound(e),e.controls||(e.controls=!0)}).catch(function(){e.controls||(e.controls=!0)})}),e.addEventListener("touchstart",function(){e.controls||(e.controls=!0)})},cacheVideo:function(e){-1===r.videoList.indexOf(e)&&r.videoList.push(e)},pauseOtherVideo:function(e){r.videoList.forEach(function(t){t!==e&&t.pause()})},pauseVideo:function(e){r.videoList.forEach(function(t){t===e&&(r.playingSoundVideoDOM=null,t.pause())})},playVideoInWechat:function(e){var t=this;window.WeixinJSBridge.invoke("getNetworkType",{},function(n){t.playWithSound(e)})},playWithSound:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||r.playingSoundVideoDOM!==e)&&(this.pauseOtherVideo(e),r.playingSoundVideoDOM=e,e.muted=!1,e.play())},playWithoutSound:function(e){r.playingSoundVideoDOM!==e&&(this.pauseOtherVideo(e),r.playingSoundVideoDOM=e,e.muted=!0,e.play())}};function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.createElement("video");return t.preload="auto",t.crossOrigin="Anonymous",t.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",t.playsInline=!0,t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""),t.muted=e,new Promise(function(e,n){t.play().then(function(){e()}).catch(function(e){n(e)}),setTimeout(function(){!t.paused||t.ended?e():n()},500)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return S});var r=n(4),o=n.n(r),i=n(5),a=n.n(i),s=(n(339),n(36)),c=n.n(s),u=n(34),l=n.n(u),d=n(8),p=n.n(d),f=n(32),m=n.n(f),h=n(84),v=n.n(h),g=n(43),y=n.n(g),A=n(20),_=n.n(A);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var w=function(){E.create(E)},T=(m.a||{}).DOWNLOAD_STATUS,E=function(e){c()(n,e);var t=b(n);function n(){var e;return o()(this,n),(e=t.call(this,{type:_.a.DownloadButtonInteractProgress})).progress=null,e}return a()(n,[{key:"initProgress",value:function(e){this.progressELement=e,this.progressText=this.progressELement.querySelector(".J_DynamicProgressText"),this.progressDesc=this.progressELement.querySelector(".J_DynamicProgressDesc"),this.progressBarFill=this.progressELement.querySelector(".J_DynamicProgressBarFill"),this.progress,this.progressText,this.progressDesc,this.progressBarFill}},{key:"updateStatus",value:function(e){var t=e.downloadStatus,n=e.statusText,r=e.downloadPercentage,o=(e.hasClick,n.replace("已下载",""));switch(t){case T.DEFAULT:this.doItWhileIsNotDownloading(),this.progressText.innerHTML="下载";break;case T.PAUSE_DOWNLOAD:this.doItWhileIsNotDownloading(),this.progressText.innerHTML=o;break;case T.WAITING:this.doItWhileIsDownloading(),this.doItWhileIsNotDownloading(),this.progressText.innerHTML=o;break;case T.DOWNLOADING:this.doItWhileIsDownloading();var i=Math.floor(100*r);this.updateProgressBar(i),this.progressText.innerHTML="下载中".concat(i,"%");break;default:this.doItWhileIsNotDownloading(),this.progressText.innerHTML=o}}},{key:"updateProgressBar",value:function(e){this.progressBarFill.style.width="".concat(e,"%"),y.a.getInstnce(this.id).cancelEnable?this.progressDesc.innerHTML="（点击可暂停/取消）":this.progressDesc.innerHTML="（点击可暂停）"}},{key:"doItWhileIsDownloading",value:function(){this.progressELement.classList.add("xj-dynamic-progress--visible"),this.progressELement.classList.add("xj-dynamic-progress--downloading"),this.progressDesc.style.opacity="1"}},{key:"doItWhileIsNotDownloading",value:function(){this.updateProgressBar(100),this.progressELement.classList.remove("xj-dynamic-progress--downloading"),this.progressDesc.style.opacity="0"}}]),n}(v.a);E.type=_.a.DownloadButtonInteractProgress;var S=function(){function e(){if(o()(this,e),e.instance)return e.instance;e.instance=this,this.render({fillColor:"#286bef"})}return a()(e,[{key:"render",value:function(e){var t=e.fillColor,n='\n        <div class="xj-dynamic-progress" style="" data-type="'.concat(_.a.DownloadButtonInteractProgress,'" data-sync="true" data-disable-cancel-tooltip>\n            <div class="xj-dynamic-progress__bar">\n                <div class="xj-dynamic-progress__bar__bg" style="background:').concat(t,';"></div>\n                <div class="xj-dynamic-progress__bar__fill J_DynamicProgressBarFill" style="background:').concat(t,';">\n                    <div class="xj-dynamic-progress__bar__fill__light J_DynamicProgressBarFillLight"><span></span></div>\n                </div>\n            </div>\n            <span class="J_DynamicProgressText">下载</span><span class="J_DynamicProgressDesc"></span>\n        </div>\n        ');this.buttonProgress=document.createElement("div"),this.buttonProgress.innerHTML=n,document.body.appendChild(this.buttonProgress),w()}},{key:"triggerDownload",value:function(){var e=this.buttonProgress.querySelector(".xj-dynamic-progress");e&&e.click()}}]),e}();S.instance=null},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.getElementsByClassName("connect-click-button"),t=JSON.parse(e&&e[0]&&e[0].dataset&&e[0].dataset.commonConfig||"{}");Array.from(e).forEach(function(e,n){l||function(e,t){var n=e.getAttribute("connect-type"),r=e.getAttribute("connect-smart-type");if("smart"!==n||"2"===r)return;var o=t.openAuto&&"_current"===t.dialogLocation,a=e.getAttribute("smart-link");!s&&!l&&o&&t.dialogLocation&&"_current"===t.dialogLocation&&(l=!0,s=setTimeout(function(){(0,i.openSmartConsultLayer)(a,!0),s=0},1e3*t.duration))}(e,t),function(e,t){var n=t.openAuto&&"_current"===t.dialogLocation,r="true"===e.getAttribute("enable-guide"),i=e.getAttribute("guide-message");if(!n&&r&&i&&i.length>0){var a="svg"===e.tagName?e.parentElement.parentElement:e.parentElement,s=a.getElementsByClassName("connect-click-button-guide"),c=a.getElementsByClassName("guide-close-btn");s&&s.length>0&&(setTimeout(function(){s[0].style.display="block"},2e3),(0,o.on)(c[0],"click",function(){s[0].style.display="none"}))}}(e,t),function(e){var t=JSON.parse(e.getAttribute("data-breath")||"{}");"true"!==e.getAttribute("guide-animation")||void 0!==t.type&&"breath"!==t.type||("svg"===e.tagName?(e.parentElement.classList.add("xj-connect-animation"),e.parentElement.classList.add("xj-connect-circle-animation")):e.classList.add("xj-connect-animation"))}(e),function(e,t){(0,o.on)(e,"click",function(n){p(n,e,t)})}(e,t),function(e,t){if(["MINIGAME_INTERACTION","WEBSITE_INTERACTION"].includes(viewerData.playableType)){"WEBSITE_INTERACTION"===viewerData.playableType&&(document.querySelector(".xj-margin-wrapper").style.position="absolute");var n=document.querySelector(".xj-website-connect--collapse");(0,o.on)(n,"click",function(r){p(r,e,t),d(e,t)&&(n.style.display="none")})}}(e,t),(0,u.setBtnGestureAnimation)(e,"XJConnect")});var n=document.querySelector(".full-smart-consult-container");if(n){var r=+new Date;(0,i.fullSmartConsult)(n),(0,i.smartConsultPostMessage)({iframeInitTime:r}),"iOS"===(0,u.judgeClient)()&&(0,u.isInWechat)()||(a=n,c=window.innerHeight/100,a.style.setProperty("--vh",c+"px"),window.addEventListener("resize",function(){a.style.setProperty("--vh",c+"px")}))}var a,c},t.triggerConnect=p;var o=n(2),i=n(116),a=n(11);n(321),n(311);var s,c=r(n(37)),u=n(2),l=!1;function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.connectType?n.connectType:e.getAttribute("connect-type"),o=n.connectSmartType||e.getAttribute("connect-smart-type");return"smart"===r&&"2"!==o&&t.dialogLocation&&"_current"===t.dialogLocation}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=r.connectLink?r.connectLink:t.getAttribute("connectlink"),l=r.connectType?r.connectType:t.getAttribute("connect-type"),p=r.smartLink?r.smartLink:t.getAttribute("smart-link"),f={connectType:l,smartUrl:p,connectLink:u,connectSmartType:r.connectSmartType||t.getAttribute("connect-smart-type"),weixinCustomerServiceSrc:r.weixinCustomerServiceSrc||t.getAttribute("wechat-service-url")};if(c.default.sendRPT(c.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),(0,a.TdwReportTrigger)(e,{action_type:"indepent_consult_btn_click",status:f}),d(t,n,r))s&&clearTimeout(s),(0,i.openSmartConsultLayer)(p,!1);else{(0,o.jumpLinkCommonFunction)({type:"advisory",data:f});var m=document.querySelector(".xj-website-connect--collapse");m&&(m.style.display="")}var h=document.querySelector(".xj-website-connect-content");h&&(h.style.display="none")}},function(e,t,n){},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.reportClick=t.fetchGiftData=t.DMPReport=void 0;var o=n(7),i=r(n(117)),a=n(12);t.fetchGiftData=function(e,t,n){var r="application/json;charset=UTF-8";if(-1!==o.CDN_HOSTS.indexOf(window.location.host)&&(r="text/plain;charset=UTF-8"),window.fetchGiftData&&window.fetchGiftData[e])return window.fetchGiftData[e];window.fetchGiftData={},window.fetchGiftData[e]="fetching";var i=window.sfetch(e,{headers:{"Content-Type":r},method:t,mode:"cors",body:JSON.stringify(n)}).then(function(e){return e.json()});return window.fetchGiftData[e]=i,i},t.reportClick=function(e,t,n,r,o){window.tianqinReport&&window.tianqinReport({type:"GXT",data:(0,i.default)({attr:e,pageId:t,packId:n,code:o,val:r})})},t.DMPReport=function(e,t,n){(new a.Report).dmpReport({actionType:e,customAction:t,actionParam:n})}},function(e,t,n){var r=n(50);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(316),o=n(48),i=n(66),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):s.test(e)?a:+e}},function(e,t,n){var r=n(312),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new v(e)};var o=r(n(5)),i=r(n(4));n(330);var a=n(2),s=r(n(52)),c=n(11),u=r(n(318)),l=n(320),d=".mult-app__modal",p=".mult-app__modal__mask",f=".mult-app__modal__modal",m=".mult-app__modal__closeIcon",h=".mult-app__modal__fixedButton",v=(0,o.default)(function e(t){(0,i.default)(this,e),g.call(this),this.init(t),e.firstInit&&((0,c.TdwReportTrigger)({reportName:"MultAppPanle"},{action_type:"xj_multi_page_view"}),e.firstInit=!1)});v.displayNum=0,v.firstInit=!0;var g=function(){var e=this;this.init=function(t){e.clickId=(0,a.getTraceId)();try{if(e.$modal=document.querySelector(d),e.$modalMask=e.$modal.querySelector(p),e.$modalCard=e.$modal.querySelector(f),e.$modalClose=e.$modal.querySelector(m),e.$modalFixedBtn=e.$modal.querySelector(h),(0,l.checkIsMediaInMultAppDisable)())return;e.$modal.querySelector(".mult-app-panel").classList.remove("unsupport"),e.$modalMask&&(0,a.on)(e.$modalMask,"click",function(){e.toggleModalVisible(!1)}),e.$modalClose&&(0,a.on)(e.$modalClose,"click",function(){e.toggleModalVisible(!1)}),e.$modalFixedBtn&&(0,a.on)(e.$modalFixedBtn,"click",function(){e.toggleModalVisible(!0)}),e.$modalFixedBtn&&e.drag(e.$modalFixedBtn);t&&(0,a.on)(t,"click",function n(){1!==v.displayNum?e.toggleModalVisible(!0):(0,a.off)(t,"click",n)}),document.querySelector(".mult-app-panel").querySelectorAll(".mult-app-item").forEach(function(e){var t=e.querySelector(".mult-app-item-btn"),n=t.dataset,r=n.app,o=n.inited,i=JSON.parse(r);o||(t.dataset.inited=!0,s.default.initMult(t,i));var a=e.querySelector(".mult-app-item-compliance");a&&(a.dataset.comlianceModalInited||(a.dataset.comlianceModalInited=!0,(0,u.default)({appData:i,trigger:a})))})}catch(e){console.error("MultAppModal Init error",e)}},this.toggleModalVisible=function(t){if(0===v.displayNum&&t&&(0,c.TdwReportTrigger)({reportName:"MultAppPanle"},{action_type:"xj_multi_recom_app_view"}),e.initFixedBtnPosition(),t)e.$modal.classList.add("visible"),v.displayNum++;else{if(1===v.displayNum){e.$modal.classList.add("firstHidden"),e.$modalCard.setAttribute("style","transform: translate(-41vw, -".concat(e.$modalCard.clientHeight/2+e.$modalFixedBtn.clientHeight-20,"px) scale(0.05);"));var n=setTimeout(function(){e.$modal.classList.remove("firstHidden"),e.$modalCard.setAttribute("style",""),n&&clearTimeout(n)},200)}e.$modal.classList.remove("visible"),e.$modalFixedBtn.classList.add("visible")}},this.drag=function(e){var t=window.innerWidth-80,n=window.innerHeight-80;e.addEventListener("touchstart",function(r){var o=r.targetTouches[0].clientY-e.offsetTop,i=r.targetTouches[0].clientX-e.offsetLeft;function a(r){r.preventDefault();var a=r.targetTouches[0].clientX-i;a=Math.max(0,a),a=Math.min(t,a);var s=r.targetTouches[0].clientY-o;s=Math.max(0,s),s=Math.min(n,s),e.style.top="".concat(s,"px"),e.style.left="".concat(a,"px")}e.addEventListener("touchmove",a,!1),e.addEventListener("touchend",function n(){var r=parseFloat(e.style.left);e.style.left=r>t/2?"".concat(t,"px"):"0.2rem",e.removeEventListener("touchmove",a,!1),e.removeEventListener("touchend",n,!1)},!1)},!1)},this.initFixedBtnPosition=function(){var t=e.$modalFixedBtn.getAttribute("style");if(-1===t.indexOf("top")){var n=e.$modalFixedBtn.clientHeight,r=e.$modalCard.clientHeight;e.$modalFixedBtn.setAttribute("style","".concat(t,";top:calc(100vh - ").concat(r,"px - ").concat(n,"px - ").concat(20,"px);"))}}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){new p(e)};var o=r(n(5)),i=r(n(4));n(319);var a=n(7),s=n(51),c=r(n(26)),u=r(n(331)),l=r(n(332)),d=n(87),p=(0,o.default)(function e(t){var n=this;(0,i.default)(this,e),this.updatePermission=function(){var e=n.appData.permissions,t=0,r="";(void 0===e?[]:e).map(function(e){a.ANDROID_PERMISSION_MAP[e]&&(r+='<p class="xj-app-info-permission-desc">'.concat(++t,".").concat(a.ANDROID_PERMISSION_MAP[e],"</p>"))});var o='<div class="xj-app-info-permission-title">检测出此应用获取'.concat(t,"个敏感应用权限:</div>");n.$permissionConfirm=new s.Confirm({title:"权限详情",hideTitle:!1,content:o+r,closeable:!0,mask:!0,cover:!0,maskCloseAble:!1,visible:!1,zIndex:1e3,okText:"我已了解",singleAndCoverBtn:!0,hideCancelBtn:!0,hideOkBtn:!0,noFooter:!0,wrapClassName:"xj-app-info-confirm",onCancel:function(){n.$permissionConfirm.close()},onOk:function(){n.$permissionConfirm.close()}})},this.updatePrivacy=function(){var e=n.appData.privacyPolicyUrl;n.$privacyConfirm=new s.Confirm({title:"隐私条款",hideTitle:!1,content:'<img class="xj-app-info-privacy-img" src="'.concat(e,'" />'),closeable:!0,mask:!0,cover:!0,maskCloseAble:!1,visible:!1,zIndex:1e3,okText:"我已了解",singleAndCoverBtn:!0,hideCancelBtn:!0,noFooter:!0,hideOkBtn:!0,onCancel:function(){n.$privacyConfirm.close()},onOk:function(){n.$privacyConfirm.close()}})},this.updateAppInfoV3=function(){var e=n.appData,t=e.name,r=e.authorName,o=e.operatorName,i=e.versionName,p=e.fileSize,f=e.permissions,m=void 0===f?[]:f,h=e.privacyPolicyUrl,v=e.description,g=e.icpNumber,y=e.ageLimit,A=0,_="";m.map(function(e){a.ANDROID_PERMISSION_MAP[e]&&(_+='<p class="xj-app-info-v3-popup-item-permission-desc">'.concat(++A,".").concat(a.ANDROID_PERMISSION_MAP[e],"</p>"))}),""===_&&(_="<p>未获取到权限</p>");var b='<div class="xj-app-info-v3-popup-item-privacy-link">如隐私政策加载失败可点击<a target="_blank" href="'.concat(h,'">跳转查看详情</a></div>'),w="";w=""===h?"<p>未获取到协议</p>":h.indexOf("cftweb.3g.qq.com")>-1||h.indexOf("privacy.e.qq.com")>-1?'<iframe class="xj-app-info-v3-popup-item-privacy-iframe" src="'.concat(h,'"></iframe>').concat(b):'<img class="xj-app-info-v3-popup-item-privacy-img" src="'.concat(h,'"/>').concat(b);var T="";T=""===v?"<p>未获取到功能介绍</p>":"<p>".concat(v,"</p>");var E=(p/1024/1024).toFixed(2),S=o?'<div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n                    <span class="xj-app-info-v3-popup-item-label">运营者</span>\n                    <span class="xj-app-info-v3-popup-item-desc">'.concat(o,"</span>\n                </div>"):"",O="";g?O='<div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n              <span class="xj-app-info-v3-popup-item-label">备案号</span>\n              <span class="xj-app-info-v3-popup-item-desc">'.concat(g,"</span>\n          </div>"):(0,d.alwaysShowIcpNumber)(viewerData.permission)&&(O='<div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n              <span class="xj-app-info-v3-popup-item-label">备案号</span>\n              <span class="xj-app-info-v3-popup-item-desc">未备案</span>\n          </div>');var I=y?'<div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n                <span class="xj-app-info-v3-popup-item-label">适用年龄</span>\n                <span class="xj-app-info-v3-popup-item-desc">'.concat(y,"</span>\n            </div>"):"",C='<div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n                    <span class="xj-app-info-v3-popup-item-label">应用名称</span>\n                    <span class="xj-app-info-v3-popup-item-desc">'.concat(t,'</span>\n                </div>\n                <div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n                    <span class="xj-app-info-v3-popup-item-label">大小</span>\n                    <span class="xj-app-info-v3-popup-item-desc">').concat(E,' MB</span>\n                </div>\n                <div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n                    <span class="xj-app-info-v3-popup-item-label">版本</span>\n                    <span class="xj-app-info-v3-popup-item-desc">').concat(i,'</span>\n                </div>\n                <div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item--border ">\n                    <span class="xj-app-info-v3-popup-item-label">开发者</span>\n                    <span class="xj-app-info-v3-popup-item-desc">').concat(r,"</span>\n                </div>\n                ").concat(S,"\n                ").concat(O,"\n                ").concat(I,'\n                <div class="xj-app-info-v3-popup-item--border">\n                    <div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item-permissionTrigger">\n                        <span class="xj-app-info-v3-popup-item-label">应用权限</span>\n                        <img class="xj-app-info-v3-popup-item-img xj-app-info-v3-popup-item-img-permission" src=').concat(l.default,' />\n                    </div>\n                    <div class="xj-app-info-v3-popup-item-permission xj-app-info-v3-popup-item-permission--hide">\n                        ').concat(_,'\n                    </div>\n                </div>\n                <div class="xj-app-info-v3-popup-item--border">\n                    <div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item-privacyTrigger">\n                        <span class="xj-app-info-v3-popup-item-label">隐私政策</span>\n                        <img class="xj-app-info-v3-popup-item-img xj-app-info-v3-popup-item-img-privacy" src=').concat(l.default,' />\n                    </div>\n                    <div class="xj-app-info-v3-popup-item-privacy xj-app-info-v3-popup-item-privacy--hide">\n                        ').concat(w,'\n                    </div>\n                </div>\n                <div>\n                    <div class="xj-app-info-v3-popup-item xj-app-info-v3-popup-item-descriptionTrigger">\n                        <span class="xj-app-info-v3-popup-item-label">功能介绍</span>\n                        <img class="xj-app-info-v3-popup-item-img xj-app-info-v3-popup-item-img-description" src=').concat(l.default,' />\n                    </div>\n                    <div class="xj-app-info-v3-popup-item-description xj-app-info-v3-popup-item-description--hide">\n                        ').concat(T,"\n                    </div>\n                </div>"),P='<div class="xj-app-info-v3-popup-container">\n                '.concat(C,"\n            </div>");n.$detailConfirm=new s.Confirm({title:"应用详情",hideTitle:!1,content:P,closeable:!0,mask:!0,cover:!0,maskCloseAble:!0,visible:!1,zIndex:1e3,singleAndCoverBtn:!0,noFooter:!0,hideCancelBtn:!0,hideOkBtn:!0,wrapClassName:"xj-app-info__modal",onCancel:function(){n.$detailConfirm.close()},onOk:function(){n.$detailConfirm.close()}});var k=document.querySelectorAll(".xj-app-info-v3-popup-item-privacyTrigger");[].forEach.call(k,function(e){e&&c.default.on(e,"tap",function(){var t=e.parentElement,n=(t.querySelector(".xj-app-info-v3-popup-item-privacy"),t.querySelector(".xj-app-info-v3-popup-item-img-privacy"),document.querySelector(".xj-app-info-v3-popup-container"));n&&n.parentElement;location.href=h})});var x=document.querySelectorAll(".xj-app-info-v3-popup-item-permissionTrigger");[].forEach.call(x,function(e){e&&c.default.on(e,"tap",function(){var t=e.parentElement,n=t.querySelector(".xj-app-info-v3-popup-item-permission"),r=t.querySelector(".xj-app-info-v3-popup-item-img-permission");n&&(n.classList&&1===n.classList.length?(n.classList.add("xj-app-info-v3-popup-item-permission--hide"),r.setAttribute("src",l.default)):(n.classList.remove("xj-app-info-v3-popup-item-permission--hide"),r.setAttribute("src",u.default)))})});var N=document.querySelectorAll(".xj-app-info-v3-popup-item-descriptionTrigger");[].forEach.call(N,function(e){e&&c.default.on(e,"tap",function(){var t=e.parentElement,n=t.querySelector(".xj-app-info-v3-popup-item-description"),r=t.querySelector(".xj-app-info-v3-popup-item-img-description");n&&(n.classList&&1===n.classList.length?(n.classList.add("xj-app-info-v3-popup-item-description--hide"),r.setAttribute("src",l.default)):(n.classList.remove("xj-app-info-v3-popup-item-description--hide"),r.setAttribute("src",u.default)))})})},this.bindEvent=function(){n.$detailTrigger&&c.default.on(n.$detailTrigger,"tap",function(){n.updateAppInfoV3(),n.$detailConfirm.open()})},this.scroll=function(e,t){e&&t>=0&&(e.scrollTop=t)};var r=t.appData,o=t.trigger;this.appData=r,this.$permissionConfirm=null,this.$privacyConfirm=null,this.$detailConfirm=null,this.$detailTrigger=o,this.bindEvent()})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsMediaInMultAppDisable=function(){var e=viewerData.multAppMediaBlackList,t=!1;if(e&&"string"==typeof e){var n=e.split(",");t=n.indexOf(viewerData.mediaName)>-1}return t||(o=(0,r.parseUrl)().xj_scene,7===parseInt(o,10));var o};var r=n(2)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.addSpaDownloaderReportEvent=function(e){void 0===window.hasSpaDownloaderReport&&e&&(window.hasSpaDownloaderReport=!0,e.on("download",function(e){a("START",e.mediaName)}),e.on("pause",function(e){a("STOP",e.mediaName)}),e.on("install",function(e){a("INSTALL",e.mediaName)}),e.on("launch",function(e){a("LAUNCH",e.mediaName)}))},t.spaDownloaderStatusPvReport=a;var o=r(n(1)),i=(r(n(37)),{INSTALL:"spa_downloader_install",LAUNCH:"spa_downloader_launch",START:"spa_downloader_start",STOP:"spa_downloader_stop"});function a(e,t){var n=i[e];if(n&&window.tianqinReport){var r={attr:n,val:1,count:1,playableType:o.default&&o.default.playableType};window.addXJReportDimension&&(r=window.addXJReportDimension(r)),window.tianqinReport({type:"GXT",data:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadFromAppMarket=function(e){return(0,r.getMarketFunction)("download")(e)},t.shouldJumpMobileAppMarket=o;var r=n(325);function o(){return(0,r.getMarketFunction)("judge")()}document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){o()&&(0,r.getMarketFunction)("pageDOMLoadReport")()},300)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMarketFunction=function(e){var t=(0,r.getMediaName)();var n=o[t];return n&&n[e]?n[e]:function(){}};var r=n(67),o={}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5));n(327);var a=n(2),s=r(n(1));t.default=function(){function e(t){var n=this;(0,o.default)(this,e),this.props=t,this.state={visible:!1},this.$container=document.createElement("div"),this.$container.classList.add("xj-first-screen-button"),this.$container.innerHTML='\n            <img src="'.concat(s.default.appData&&s.default.appData.logoUrl,'" />\n            <div class="xj-first-screen-button__content">\n                <div class="xj-first-screen-button__content__name">\n                    ').concat(s.default.appData&&s.default.appData.name,'\n                </div>\n                <div class="xj-first-screen-button__content__desc">\n                    ').concat(s.default.appData&&s.default.appData.description,'\n                </div>\n            </div>\n            <div class="xj-first-screen-button__button">\n                <div class="xj-first-screen-button__button__progress"></div>\n                <div class="xj-first-screen-button__button__progress-bar"></div>\n                <div class="xj-first-screen-button__button__text">下载</div>\n            </div>\n        '),document.body.appendChild(this.$container),this.enableAutoDisplay(),this.bindEvent(),setTimeout(function(){n.show()},0)}return(0,i.default)(e,[{key:"enableAutoDisplay",value:function(){var e=this;this.props.autoDisplay&&window.addEventListener("scroll",(0,a.throttle)(function(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>=(document.body.scrollHeight-window.innerHeight)/2?e.hide():e.show()},200))}},{key:"updateButton",value:function(e){var t=e.text,n=e.downloadPercentage;this._buttonText||(this._buttonText=document.querySelector(".xj-first-screen-button__button__text")),this._buttonProgressBar||(this._buttonProgressBar=document.querySelector(".xj-first-screen-button__button__progress-bar")),t&&(this._buttonText.innerHTML=t),n&&(this._buttonProgressBar.style.width="".concat(100*n,"%"))}},{key:"bindEvent",value:function(){var e=this,t=this.props,n=t.onClick,r=void 0===n?function(){}:n,o=t.spaDownloader,i=t.DOWNLOAD_STATUS;o.on("statusChange",function(t){var n=t.downloadStatus,r=t.downloadPercentage,o=t.statusText;n!==i.DEFAULT&&e.updateButton({text:o,downloadPercentage:r})}),this.$container.addEventListener("click",r)}},{key:"show",value:function(){this.state.visible||(this.$container.classList.add("xj-first-screen-button--show"),this.state.visible=!0)}},{key:"hide",value:function(){this.state.visible&&(this.$container.classList.remove("xj-first-screen-button--show"),this.state.visible=!1)}}]),e}()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MCA0MCIgY2xhc3M9ImRlc2lnbi1pY29uZm9udCI+CiAgPHBhdGggZD0iTTQuMDkwMDk3NDIsMjguMDYwNjYwMiBDNC42NzU4ODM4NiwyOC42NDY0NDY2IDUuNjI1NjMxMzMsMjguNjQ2NDQ2NiA2LjIxMTQxNzc3LDI4LjA2MDY2MDIgTDE5Ljk5OTI5MjksMTQuMjcyNzg1IEwzMy43ODg1ODIyLDI4LjA2MDY2MDIgQzM0LjM3NDM2ODcsMjguNjQ2NDQ2NiAzNS4zMjQxMTYxLDI4LjY0NjQ0NjYgMzUuOTA5OTAyNiwyOC4wNjA2NjAyIEMzNi40OTU2ODksMjcuNDc0ODczNyAzNi40OTU2ODksMjYuNTI1MTI2MyAzNS45MDk5MDI2LDI1LjkzOTMzOTggTDIxLjA2MDY2MDIsMTEuMDkwMDk3NCBDMjAuNDc0ODczNywxMC41MDQzMTEgMTkuNTI1MTI2MywxMC41MDQzMTEgMTguOTM5MzM5OCwxMS4wOTAwOTc0IEw0LjA5MDA5NzQyLDI1LjkzOTMzOTggQzMuNTA0MzEwOTksMjYuNTI1MTI2MyAzLjUwNDMxMDk5LDI3LjQ3NDg3MzcgNC4wOTAwOTc0MiwyOC4wNjA2NjAyIFoiIGZpbGw9IiNCM0IzQjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MCA0MCIgY2xhc3M9ImRlc2lnbi1pY29uZm9udCI+CiAgPHBhdGggZD0iTTkuNSw1IEMxMC4zMjg0MjcxLDUgMTEsNS42NzE1NzI4OCAxMSw2LjUgTDExLDI1Ljk5OSBMMzAuNSwyNiBDMzEuMzI4NDI3MSwyNiAzMiwyNi42NzE1NzI5IDMyLDI3LjUgQzMyLDI4LjMyODQyNzEgMzEuMzI4NDI3MSwyOSAzMC41LDI5IEw5LjUsMjkgQzguNjcxNTcyODgsMjkgOCwyOC4zMjg0MjcxIDgsMjcuNSBMOCw2LjUgQzgsNS42NzE1NzI4OCA4LjY3MTU3Mjg4LDUgOS41LDUgWiIgdHJhbnNmb3JtPSJzY2FsZSgtMSAxKSByb3RhdGUoLTQ1IC0zLjYyMTMyMDM0IDYzLjc4NDI3MTI1KSIgZmlsbD0iI0IzQjNCMyIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPgo="},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=n(2),a=n(25),s=n(51),c=r(n(1)),u=r(n(10)),l=n(12),d=r(n(22)),p=n(68);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=c.default.postRewardConfig,v=(0,p.getMediaName)(),g=function(e){return'\n    <p>在当前页面下载游戏视为同意本规则：</p>\n    <p>1、您在<span style="color:red">'.concat(e.act,"</span>，可获得腾讯广告提供的奖励金").concat(e.num,'；</p>\n    <p>2、奖励金将在2个工作日内发放至您的<span style="color:red">').concat(e.wallet,'</span>，用户可以前往<span style="color:red">').concat(e.check,'</span>查看；</p>\n    <p>3、如对本活动有任何意见与建议，可按照如下路径反馈：</p>\n    <p>&nbsp;&nbsp;<span style="color:red">').concat(e.feedback,'</span></p>\n    <p>4、每个手机用户仅限一次参与，同一手机登录多个账号参与本活动并满足奖励条件的，仅向首个满足奖励条件的账号发放奖励金;</p>\n    <p>5、本活动仅限系统选定用户参与，转发无效</p>\n    <p>6、本活动奖金总额有限，先到先得，抢完为止；</p>\n    <p>7、活动期限：<span style="color:red">').concat(e.time,"</span>（主办方可视情况调整，若奖金提前发放完则活动自动终止）;</p>\n    <p>8、腾讯广告是由深圳市腾讯计算机系统有限公司（以下简称“腾讯”）为广告合作伙伴提供的广告产品及服务。您理解并同意，当前广告主将向腾讯提供您在该游戏/该应用中与本奖励活动直接相关的激活/注册/付费等信息，以验证您是否达成奖励条件。腾讯严格遵守法律法规，为您提供安全、可靠的服务。</p>\n    <p>9、 以下情况将取消用户获取奖励金的资格：</p>\n    <p>&nbsp;&nbsp;1）恶意破坏活动；</p>\n    <p>&nbsp;&nbsp;2）以任何机器人软件、爬虫软件、刷奖软件或者其他任何自动方式、不正当手段等参与本活动的；</p>\n    <p>&nbsp;&nbsp;3）任何违反诚实信用、公序良俗、公平、公正等原则行为的；</p>\n    <p>&nbsp;&nbsp;4）其他违反相关法律法规、本活动规则行为的。</p>\n    <p>10、其他：</p>\n    <p>&nbsp;&nbsp;1）用户理解并同意，如因不可抗力、网络线路故障、计算机大规模瘫痪及活动中存在大面积作弊行为等非腾讯公司原因致使本活动出现异常情况或难以继续开展的，腾讯公司有权采取包括但不限于调整、暂停、取消本活动等措施。因此造成用户损失的，腾讯公司不承担任何责任；</p>\n    <p>&nbsp;&nbsp;2）腾讯公司将依法履行个人所得税等相关税费代扣代缴的义务（如有）；</p>\n    <p>&nbsp;&nbsp;3）因本活动规则解释、活动开展等事项产生争议的，用户同意与腾讯公司友好协商解决。协商不成的，用户和腾讯公司均同意将争议提交深圳市南山区有管辖权的人民法院诉讼解决。</p>\n    <p>11、本活动由腾讯公司举办。</p>\n")};t.default=function(e){var t=e.successCallback,n=e.cancelCallback,r=null,o=(0,i.parseClickExt)(),p=parseInt(o.cash_reward_type,10);if(!(p<=0)&&h&&h[p]){var f=h[p];if("unlogin"===f.loginType){if(-1===[a.MEDIA_NAME.UNION_SDK].indexOf(v))return;if(!d.default.getIsXQUnionMinVersion("8.430.2630"))return}var y=g(f);window.postRewardWindow||(window.postRewardWindow=new s.Confirm({title:"规则说明",closeable:!0,wrapClassName:"m-postreward",mask:!0,singleAndCoverBtn:!0,maskCloseAble:!1,visible:!1,zIndex:101,hideCancelBtn:!0,content:y,okText:f.button,onClose:function(e){n&&n(e),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_POST_REWARD_CONFIRM_CLOSE)},onOk:function(e){"unlogin"===f.loginType&&null===r?function(e){return new Promise(function(t,n){switch(v){case a.MEDIA_NAME.UNION_SDK:(0,u.default)("//".concat(c.default.cdnHost,"/qzone/biz/gdt/lib/spa-downloader/jsapi/universal-jsapi.js"),function(r){window.UniversalAndroidBridge._invoke("authorize",function(o){if(0===o.code&&o.data.authorize)try{var i=JSON.parse(o.data.authorize),a=parseInt(i.type,10);switch(i.apiSource){case"QQ_BROWSER":4!==a&&1!==a||t({newRewardConfig:h[e.qqIndex],loginData:m(m({},i),{},{type:"1"})}),2===a&&t({newRewardConfig:h[e.wechatIndex],loginData:m(m({},i),{},{type:"2"})});break;default:n({message:"不支持的登录类型",data:a})}}catch(e){n({message:"登录结果解析失败",data:e})}else n({message:"登录结果错误",data:r})},null,6e5)});break;default:n({message:"不支持登录调用的流量",data:v})}})}(f).then(function(e){var t=e.newRewardConfig,n=e.loginData,o=g(t);window.postRewardWindow.refresh({context:o,okText:t.button}),r=n,console.error("login success",t,n),window.postRewardWindow.open()}).catch(function(n){console.error("login fail!",n),t&&t(e),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_POST_REWARD_CONFIRM_OK)}):(null!==r&&(new l.Report).dmpReport({actionType:l.REPORT_TYPE.LOGIN,actionParam:{login_openid:r.uin,login_account_type:r.type,login_appid:r.appid}}),t&&t(e),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_POST_REWARD_CONFIRM_OK))}})),window.postRewardWindow.open(),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_POST_REWARD_CONFIRM_PV)}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2),i=n(51),a=r(n(1)),s=(r(n(10)),null);t.default=function(){var e,t;return e=a.default.pageType,(t=(0,o.judgeClient)())!==o.judgeClient.SYS.PC&&("ott-h5"!==e&&"default-h5"!==e&&-1===e.indexOf(t.toLowerCase())||"default-h5"===e&&t===o.judgeClient.SYS.IOS)&&(s||(s=new i.Confirm({title:"暂不支持".concat(t,"系统下载"),content:"",mask:!0,maskCloseAble:!1,zIndex:1e3,okText:"我知道了",wrapClassName:"check-modal"})),s.open()),null===s}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(336);var o=r(n(337));t.default=o.default},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(26)),s=r(n(1)),c="xj-download-tips__wrapper",u="xj-download-tips__wrapper--hide",l="xj-download-tips__content",d="xj-download-tips__close",p="xj-download-tips__arrow",f=function(){function e(t,n){return(0,o.default)(this,e),this.$container=null,this.$wrapper=null,this.$arrow=null,this.$tipsClose=null,this.isButtonClick=!0,this.tipStyle={left:0,top:0,position:"absolute",zIndex:999},this.evt=null,this.id=t,this.evt=n,void 0!==e.prototype.instance&&e.prototype.instance[t]||(e.prototype.instance=[],e.prototype.instance[t]=this),e.prototype.instance[t]}return(0,i.default)(e,[{key:"_initElement",value:function(){this.$container=this._getParentElement(this.evt.target,"xj-download-button"),this.$container?this.isButtonClick=!0:(this.$container=document.querySelector(".xj-download-progress"),this.$container||(this.$container=document.querySelector('.xj-fixedbutton-wrapper[isFixed="true"]')),this.isButtonClick=!1),this.$wrapper=document.querySelector("div.".concat(c,"[data-id='").concat(this.id,"']")),this.$arrow=this.$wrapper.querySelector(".".concat(p)),this.$tipsClose=this.$wrapper.querySelector(".".concat(d))}},{key:"_generateTipStyle",value:function(){var e=this.tipStyle,t=e.left,n=e.top,r=e.position,o=e.zIndex;return"top: ".concat(n,"px;left:").concat(t,"px;position:").concat(r,";z-index:").concat(o)}},{key:"_getParentElement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return e.classList.contains(t)?e:"root"===e.getAttribute("id")||0===n?null:this._getParentElement(e.parentNode,t,n-1)}},{key:"_checkMarginWrapperIsFixed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xj-margin-wrapper";return!!(e&&"true"===e.getAttribute("isFixed")||"progressDownloadButton"===e.getAttribute("type"))||(!(!this.$container||"true"!==this.$container.getAttribute("isFixed"))||!e.classList.contains(t)&&"root"!==e.getAttribute("id")&&(!!e.parentNode&&this._checkMarginWrapperIsFixed(e.parentNode)))}},{key:"_checkExists",value:function(){var e=document.querySelector("div.".concat(c,"[data-id='").concat(this.id,"']"));return!(!e||e.getAttribute("data-id")!=this.id)}},{key:"_checkVisible",value:function(){var e=!1,t=document.querySelector("div.".concat(c,"[data-id='").concat(this.id,"']"));return t&&t.getAttribute("data-id")==this.id&&!t.classList.contains(u)&&(e=!0),e}},{key:"init",value:function(e){this.evt=e}},{key:"show",value:function(){this._checkVisible()||(this._checkExists()||this._appendTips2Dom(),this._initElement(this.evt),this._bindTapClose(),this._showTips(this.evt))}},{key:"hide",value:function(){this._hideTips()}},{key:"_getScrollTop",value:function(){return document.documentElement.scrollTop||document.body.scrollTop||document.scrollingElement.scrollTop}},{key:"_showTips",value:function(){var e=this._checkMarginWrapperIsFixed(this.evt.target);this.$container,this.$wrapper.classList.remove(u);var t=this.$container.getBoundingClientRect(),n=this.$wrapper.getBoundingClientRect();this.tipStyle.left=(0===this.evt.pageX?t.x:this.evt.pageX)-150,e?(this.tipStyle.top=t.y+(this.isButtonClick?-26:t.bottom),this.tipStyle.position="fixed",this.tipStyle.zIndex=1e3):(this.tipStyle.top=t.y+this._getScrollTop()+(this.isButtonClick?-26:t.bottom),this.tipStyle.position="absolute",this.tipStyle.zIndex=997),this._solveScreenBoundary(this.evt,n,t),this._solveAppInfoOcclusion(this.evt,n,t),this.$wrapper.setAttribute("style",this._generateTipStyle())}},{key:"_hideTips",value:function(){this.$wrapper.classList.add(u)}},{key:"_bindTapClose",value:function(){var e=this;this.$tipsClose&&a.default.on(this.$tipsClose,"tap",function(){e._hideTips()})}},{key:"_appendTips2Dom",value:function(){var e='\n            <div class="'.concat(l,'">点击进度条可暂停/取消</div>\n            <img class="').concat(d,'" src="//').concat(s.default.cdnHost,'/qzone/biz/gdt/lib/xijing/viewer/cdn/img/close_nocircle.svg" />\n            <div class="').concat(p," ").concat(p,'--up" />\n        '),t=document.createElement("div");t.setAttribute("class",c),t.setAttribute("data-id",this.id),t.innerHTML=e,document.body.appendChild(t)}},{key:"_solveScreenBoundary",value:function(e,t,n){var r=this.tipStyle.left+t.width-document.documentElement.clientWidth,o=this.tipStyle.left,i=0;r>0?i=r+10:o<0&&(i=o-10),0!==i&&(this.tipStyle.left=this.tipStyle.left-i);var a=this.tipStyle.left+t.width-(n.x+n.width/2),s=this.tipStyle.left-(n.x+n.width/2);s>0&&(a=a-s-20),a>140&&(a=140),a<30&&(a=30),this.$arrow.setAttribute("style","right:".concat(a,"px"))}},{key:"_solveAppInfoOcclusion",value:function(e,t,n){var r=document.querySelector(".xj-app-info");if(r){var o=r.getBoundingClientRect(),i=this.tipStyle.top<o.y+o.height;i?(this.tipStyle.top=n.bottom+this._getScrollTop()+(this.isButtonClick?5:40),this.$arrow.classList.remove("xj-download-tips__arrow--up"),this.$arrow.classList.add("xj-download-tips__arrow--down")):(this.$arrow.classList.add("xj-download-tips__arrow--up"),this.$arrow.classList.remove("xj-download-tips__arrow--down"))}}}]),e}();t.default=f},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=t.DelayEvent=void 0;t.EVENTS={INTERACTIVE_GAME_INIT:"蹊径自研互动初始化完毕"};var r={};window.xjGlobalDelayEventMap||(window.xjGlobalDelayEventMap={});t.DelayEvent={onReady:function(e,t){window.xjGlobalDelayEventMap[e]?t(window.xjGlobalDelayEventMap[e].payload):(r[e]||(r[e]=[]),r[e].push(t))},ready:function(e,t){window.xjGlobalDelayEventMap[e]={payload:t};var n=r[e];n&&(n.forEach(function(t){t(window.xjGlobalDelayEventMap[e].payload)}),delete r[e])}}},function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return S});var r=n(4),o=n.n(r),i=n(5),a=n.n(i),s=n(36),c=n.n(s),u=n(34),l=n.n(u),d=n(8),p=n.n(d),f=n(372);Symbol("unique_key_ref");var m=n(361);function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=Symbol("event_cache_key"),A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"mixin",value:function(t){!function(e){for(var t=e.prototype,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach(function(e){var n=e.prototype,r=Object.getOwnPropertyDescriptors(n);Object.keys(r).forEach(function(e){Object.defineProperty(t,e,r[e])})})}(t,e)}}],(n=[{key:"addListener",value:function(e,t){var n=this[y]=this[y]||{},r=n[e];null==r&&(r=[],n[e]=r),r.push({fn:t})}},{key:"removeListener",value:function(e,t){var n=this[y];if(null!=e&&null!=n){var r=n[e];if(null!=r)if(null!=t){var o=r.findIndex(function(e){return e.fn===t});o>=0&&r.splice(o,1)}else delete n[e]}else this[y]={}}},{key:"removeAllListeners",value:function(e){this.removeListener(e)}},{key:"emit",value:function(e){var t=(this[y]=this[y]||{})[e];if(null!=t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a=h(t);try{for(a.s();!(i=a.n()).done;){i.value.fn.apply(this,r)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"waitForCommit",value:function(e){var t=(this[y]=this[y]||{})[e];if(null!=t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a=h(t);try{for(a.s();!(i=a.n()).done;){i.value.waiting=r}}catch(e){a.e(e)}finally{a.f()}}}},{key:"commit",value:function(e){var t=this,n=this[y]=this[y]||{};if(null!=e){var r=n[e];if(null!=r){var o,i=h(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;null!=a.waiting&&(a.fn.apply(this,a.waiting),a.waiting=void 0)}}catch(e){i.e(e)}finally{i.f()}}}else Object(m.getKeys)(n).forEach(function(e){return t.commit(e)})}},{key:"abortCommit",value:function(e){var t=this,n=this[y]=this[y]||{};if(null!=e){var r=n[e];if(null!=r){var o,i=h(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;null!=a.waiting&&(a.waiting=void 0)}}catch(e){i.e(e)}finally{i.f()}}}else Object(m.getKeys)(n).forEach(function(e){return t.abortCommit(e)})}},{key:"listeners",value:function(e){var t=(this[y]=this[y]||{})[e];return null==t?[]:t.map(function(e){return e.fn})}},{key:"listenerCount",value:function(e){var t=(this[y]=this[y]||{})[e];return null==t?0:t.length}}])&&g(t.prototype,n),r&&g(t,r),e}();var _=n(2);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var w={LOCKED:"locked",LOADERROR:"loaderror",PLAYERROR:"playerror",NOEXIST:"noexist"},T=!1,E=null,S=function(e){c()(n,e);var t=b(n);function n(e){var r;return o()(this,n),(r=t.call(this)).props=e,r.init(),r}return a()(n,[{key:"unlocked",get:function(){return this._unlocked||T},set:function(e){this._unlocked=e}},{key:"currentTime",get:function(){return this.audio.seek()}},{key:"duration",get:function(){var e;return null!==(e=this.props.duration)&&void 0!==e?e:this.audio.duration()}},{key:"paused",get:function(){return!this.audio.playing()}},{key:"src",get:function(){return this.props.url}},{key:"play",value:function(){var e=this;return new Promise(function(t,n){e.clearPlayTimer(),e.loadFailed&&n({type:w.LOADERROR,message:"加载失败"});var r=e.audio.play(),o=window.setTimeout(function(){e.audio.stop(r),n({type:w.LOCKED,message:"音频未解锁，不能播放"})},50);e.audio.once("play",function(){window.clearTimeout(o),t(r),e.playTimer=window.setInterval(function(){e.emit("onTimeUpdate",r,e.currentTime)},100)},r),e.audio.once("playerror",function(t,r){window.clearTimeout(o),console.error("播放失败",e.props.url,r),n({type:w.PLAYERROR,message:r})},r),e.audio.once("end",function(){e.clearPlayTimer(),e.emit("onTimeUpdate",r,e.duration),e.emit("onEnd",r)},r),e.audio.once("stop",function(){e.emit("onStop",r)},r)})}},{key:"stop",value:function(){this.clearPlayTimer(),this.audio.stop()}},{key:"once",value:function(e,t){var n=this;this.addListener(e,function r(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t.call.apply(t,[n].concat(i)),n.removeListener(e,r)})}},{key:"init",value:function(){var e=this;this.audio=new f.Howl({src:this.props.url}),this.audio.once("loaderror",function(t,n){console.error("加载失败",e.props.url,n),e.loadFailed=!0}),this.audio.once("unlock",function(){e.unlocked=!0,e.emit("onUnlock")})}},{key:"clearPlayTimer",value:function(){window.clearInterval(this.playTimer)}}]),n}(A);S.detectUnlock=function(){return new Promise(function(e,t){(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.createElement("video");return t.preload="auto",t.crossOrigin="Anonymous",t.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",t.playsInline=!0,t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""),t.muted=e,new Promise(function(e,n){t.play().then(function(){e()}).catch(function(e){n(e)}),setTimeout(function(){!t.paused||t.ended?e():n()},500)})})().then(function(){e(T=!0)}).catch(function(){e(T=!1)})})},S.openChannel=function(){if(Object(_.judgeClient)()===_.judgeClient.SYS.IOS&&!E){var e=document.createElement("div");if(e.innerHTML='<audio x-webkit-airplay="deny"></audio>',(E=e.children.item(0)).controls=!1,E.disableRemotePlayback=!0,E.preload="auto",E.loop=!0,E.src=function(){function e(e,t){for(var n=t;e>1;e--)n+=t;return n}return"data:audio/mpeg;base64,//uQx".concat(e(23,"A"),"WGluZwAAAA8AAAACAAACcQCA").concat(e(16,"gICA")).concat(e(66,"/"),"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI").concat(e(320,"A"),"//sQxAADgnABGiAAQBCqgCRMAAgEAH").concat(e(15,"/"),"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq").concat(e(18,"/"),"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw").concat(e(97,"V"),"Q==")}(),E.load(),E.paused){var t=E.play();t&&t.then(function(){},S.destroyChannel).catch(S.destroyChannel)}}},S.destroyChannel=function(){E&&(E.src="",E.load(),E=null)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(353));n(357);t.default={init:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o.default.create(o.default,e,t)}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.TdwReportTrigger=void 0;var o=r(n(3)),i=r(n(4)),a=r(n(5)),s=n(121);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l,d=n(44),p=d.judgeClient,f=d.isInWechat,m=d.parseUrl,h=d.updateReportDuration,v=d.getGdtAdId,g=d.getTid,y={PC:0,iOS:1,Android:2},A=function(){function e(){(0,i.default)(this,e),this.clickReport=this.clickReport.bind(this)}return(0,a.default)(e,[{key:"generatorParams",value:function(e,t){var n=p(),r=y[n]||0,o=m(),i=o.isPrivateTraffic,a=o.code;return{os:r,sdk_st:10,events:{ei:e.ei||"",vl:1,ts:(new Date).getTime(),biz:Object.assign({traceid:t.traceId,cmp_type:e.cmp_type||e.name,cmp_id:e.cmp_id||e.id,is_auto_save:e.is_auto_save,submit_fail_reason:e.submit_fail_reason},e.biz),ext:{pageid:void 0,formid:0,action_type:e.action_type||"",functype:e.functype||void 0,status:u(u({},e.status||{}),{},{play_cmp_id:t.componentId,play_bid:t.businessId,play_is_cmp_page:t.isComponentPage,isPrivateTraffic:i,weChatAuthCode:!!a,isWeChat:f(),weChatOpenId:window.viewerData.wxUserOpenId,trace_url:location.href,accountId:window.viewerData.accountId,ad_id:v(),tid:g()})}}}}},{key:"report",value:function(e){try{return s.xjCommonReporter.report(e,{force:!0})}catch(e){var t="tdwStandardReportForPlay report error: "+e.message;return console.error(t,e),Promise.reject(t)}}},{key:"clickReport",value:function(e,t,n){if(n.traceId)try{var r=[];if(e.reportName&&r.push({name:e.reportName,id:e.reportId||"".concat(e.reportName,"_").concat(+new Date)}),r.length>0){var o=this.generatorParams(Object.assign({},r[0],t),n);h(o),this.report([o])}else console.error("未找到相应的组件, id: ",r,"param: ",t)}catch(e){console.error("TdwReportTrigger error: ",e)}else console.warn("没有traceId，跳过上报",e,t,n)}}]),e}(),_=(l=null,function(){return l||(l=new A),l});t.TdwReportTrigger=_().clickReport},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return t=t||{},null===e||void 0===e?void 0:e.replace(/\${(.+?)}/g,function(e,n){for(var o=n.split("."),i=t,a=0;a<o.length;a++){var s=o[a];if("object"!==r(i)||null==i)break;i=i[s]}return null==i?"":String(i)})}function i(e){return e>=48&&e<=57}function a(e){return e>=97&&e<=122||e>=65&&e<=90}function s(e){return 36===e||95===e||a(e)}function c(e){var t=e.charCodeAt(0);return s(t)||i(t)}function u(e){return i(e)||a(e)}function l(){return 0}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return("number"==typeof e||"string"==typeof e?String(e).split(t):e.map(String)).reduce(function(e,t){return e[t]=t,e},{})}n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return m});var p=/^0x[0-9a-f]+$/i,f=/^0[0-7]+$/;function m(e){return p.test(e)?parseInt(e.substr(2),16):f.test(e)?parseInt(e.substr(1),8):+e}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preloadImg=t.pollyfillJQeq=t.onTap=t.hideAPPInfo=t.hexToRgba=t.getSingleRandom=t.getRandom=void 0;t.preloadImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=new Image;return n.complete,t.call(n),n.src=e,n},t.getRandom=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="string"==typeof e?Number(e):e,o="string"==typeof t?Number(t):t;if(!isNaN(r)&&!isNaN(r)){var i=Math.random()*(o-r+1)+r,a=parseInt(i,10);return n&&(a=parseFloat(i).toFixed(n)),a}},t.getSingleRandom=function(e){var t="string"==typeof e?Number(e):e;if(!isNaN(t)){var n=Math.random()*(t+1);return parseInt(n,10)}},t.onTap=function(e,t){var n;e.addEventListener("touchstart",function(){n=Date.now()}),e.addEventListener("touchend",function(){Date.now()-n<=200&&t()})},t.hideAPPInfo=function(){var e=document.querySelector(".xj-app-info");e&&(e.style.display="none")},t.hexToRgba=function(e,t){return"rgba("+parseInt("0x"+e.slice(1,3),10)+","+parseInt("0x"+e.slice(3,5),10)+","+parseInt("0x"+e.slice(5,7),10)+","+t+")"},t.pollyfillJQeq=function(e,t){return t>=0?e[t]:e[e.length+t]}},function(e,t,n){"use strict";n.r(t),n.d(t,"startGeneralActionReport",function(){return u}),n.d(t,"reportXJPv",function(){return l});var r=n(1),o=n.n(r),i=n(40),a=n(11),s=n(44),c=n(121);function u(){var e=Object(s.parseUrl)(),t=e.qz_gdt,n=e.gdt_vid;(t||n)&&window.sfetch("https://v.qq.com/cache/wuji_public/object/1?appid=xjFrontEnd&schemaid=common_action_report_flag&schemakey=9d32e3527cba4c28b0194e1282b636be",{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.data&&1===e.data.enableFlag&&Object(i.startGeneralReport)({report:{instance:c.xjCommonReporter,data:{pageid:o.a.pageId,status:{ad_id:Object(s.getGdtAdId)(),accountId:o.a.accountId,tid:Object(s.getTid)(),uuid:Object(s.getPageGlobalUniqueId)()}}}})})}function l(){Object(a.TdwReport)().clickReport({reportName:"XJ_PV"},{action_type:"xj_page_view",status:{device:Object(i.getDeviceName)(),network:(null===o.a||void 0===o.a?void 0:o.a.network)||"UNKNOW"}},!0)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(46)),s=r(n(33)),c=r(n(36)),u=r(n(34)),l=r(n(8)),d=r(n(84)),p=r(n(43)),f=r(n(354)),m=r(n(122)),h=r(n(20)),v=r(n(1)),g=r(n(301));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var A=function(e){(0,c.default)(n,e);var t=y(n);function n(){var e;(0,o.default)(this,n),(e=t.call(this,{type:h.default.DownloadArea})).sync=null,e.publishDownloadEvent=function(){e.progress?(e.showProgress(),e.emit(m.default.CLICK,{type:h.default.DownloadArea,hasProgress:!0,buttonHasClick:e.buttonHasClick},e.progress)):e.emit(m.default.CLICK,{type:h.default.DownloadArea,hasProgress:!1},(0,a.default)(e)),e.buttonHasClick=!0};try{var r=document.querySelectorAll(".xj-download-area");[].forEach.call(r,function(e,t){var n=e.dataset,r=n.giftId,o=n.componentId,i=n.giftModalInited;r&&!i&&(new g.default("div.xj-download-area[data-component-id='".concat(o,"']"),r),e.dataset.giftModalInited="true")})}catch(e){}return e}return(0,i.default)(n,[{key:"initProgress",value:function(e){document.querySelector(".xj-download-progress")&&!v.default.hasFixProgress&&(this.progress=new f.default,(new p.default).addDownloadButton(this.progress,e))}},{key:"shouldEmitOnClick",value:function(e){return"xj-download-area"===((e=e||window.event).target||e.srcElement).className}},{key:"originClick",value:function(e){this.shouldEmitOnClick(e)&&(0,s.default)((0,l.default)(n.prototype),"originClick",this).call(this,e)}},{key:"showProgress",value:function(){!this.hasShowProgress&&this.element&&(this.progress.show({color:this.element.dataset.progressColor||"#fff",bg:this.element.dataset.progressBg||"1890ff"}),this.hasShowProgress=!0)}}]),n}(d.default);A.type=h.default.DownloadArea;t.default=A},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(355);var o=r(n(356));t.default=o.default},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(n(4)),a=r(n(5)),s=r(n(46)),c=r(n(36)),u=r(n(34)),l=r(n(8)),d=r(n(84)),p=r(n(20)),f=r(n(43));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,c.default)(n,e);var t=m(n);function n(){var e;return(0,i.default)(this,n),n.instance||((e=t.call(this,{type:p.default.ProgressDownloadButton})).isShow=!1,n.instance=(0,s.default)(e)),(0,u.default)(e,n.instance)}return(0,a.default)(n,[{key:"updateStatus",value:function(e){this.setState(e);var t=document.getElementsByClassName("button-only-no-progress")[0],n=t&&"none"!==t.style.display;this.isShow||n||this.show()}},{key:"setState",value:function(e){this.progress.setState(e)}},{key:"show",value:function(e){!this.isShow&&this.element&&(this.setProgressUi(e),o||(o=document.querySelector("#root")),o.appendChild(this.element),this.downloadManager=new f.default,this.downloadManager.addDownloadButton(n.instance,this.element),o.className="with-progress hidden",this.element.className="xj-download-button xj-download-progress show",this.isShow=!0)}},{key:"setProgressUi",value:function(e){this.progress.setProgressUI(e)}}]),n}(d.default);h.type=p.default.ProgressDownloadButton,h.instance=null;t.default=h},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOOLTIP_CLASSNAME=t.TEXTAREA_SELECTOR=t.SUBMIT_SELECTOR=t.SHOW_PICKER_VALUE_CLASSNAME=t.SELECT_SELECTOR=t.RADIO_SELECTOR=t.PRIVACY_POLICY_WRAPPER=t.PRIVACY_POLICY_CHECKBOX=t.LBS_SHOP_INFO=t.LAYERFORM_CLASSNAME=t.LABEL_CLASSNAME=t.JS_SHOW_PRIVACY_POLICY_ITEM=t.JS_SHOW_PRIVACY_POLICY=t.JS_SHOW_ID_CARD=t.JS_ISD_REAL_CHECKBOX_CHECKED=t.JS_IFRAME_OF_FORM_PRIVACY_POLICY=t.ITEM_CONTROL_WRAPPER_SELECTOR=t.IS_REQUIRED=t.INPUT_SELECTOR=t.INPUT_ID_CARD=t.INPUT_ERROR_CLASSNAME=t.HIDE_GRADUALLY_SELECTOR=t.HAS_PICKER_VALUE=t.GRADUALLY_SELECT_SELECTOR=t.FORM_CLASSNAME=t.CONTROL_WRAPPER_SELECTOR=t.CONTROL_CLASSNAME=t.CHECKBOX_SELECTOR=void 0;t.LABEL_CLASSNAME="isd-form-item-label",t.CONTROL_CLASSNAME="isd-form-item-control-wrapper",t.INPUT_ERROR_CLASSNAME="isd-form-item-error",t.FORM_CLASSNAME="isd-web-form-global-wrapper",t.INPUT_SELECTOR=".isd-form-item-input",t.TEXTAREA_SELECTOR=".isd-form-item-textarea",t.RADIO_SELECTOR=".isd-form-item-radio",t.SELECT_SELECTOR=".isd-form-item-picker",t.GRADUALLY_SELECT_SELECTOR=".isd-form-item-gradually-select",t.LBS_SHOP_INFO="isd-form-item-lbs-shop-info",t.HAS_PICKER_VALUE="isd-form-picker-show-value",t.SHOW_PICKER_VALUE_CLASSNAME="isd-form-picker-placeholder",t.CHECKBOX_SELECTOR=".isd-form-item-checkbox",t.SUBMIT_SELECTOR=".isd-form-item-button",t.CONTROL_WRAPPER_SELECTOR=".js-isd-form-control",t.ITEM_CONTROL_WRAPPER_SELECTOR=".isd-form-item",t.IS_REQUIRED="isRequired",t.HIDE_GRADUALLY_SELECTOR="hide-gradually-select",t.JS_SHOW_PRIVACY_POLICY="js-show-privacy-policy",t.JS_SHOW_PRIVACY_POLICY_ITEM="js-show-privacy-policy-item",t.JS_SHOW_ID_CARD="js-show-id-card",t.INPUT_ID_CARD="isd-form-idCard-item",t.PRIVACY_POLICY_WRAPPER="privacy-policy-wrapper-get",t.PRIVACY_POLICY_CHECKBOX="isd-real-checkbox",t.JS_ISD_REAL_CHECKBOX_CHECKED="js-isd-real-checkbox-checked",t.JS_IFRAME_OF_FORM_PRIVACY_POLICY="js-iframe-of-form-privacy-policy",t.TOOLTIP_CLASSNAME="isd-tool-tip",t.LAYERFORM_CLASSNAME=".web-form-layerform-module"},function(e,t,n){"use strict";(function(t){var r=n(146),o=n(421),i=n(376),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:n(377),adapter:("undefined"!=typeof XMLHttpRequest?c=n(378):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(c=n(378)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(a)}),e.exports=u}).call(this,n(420))},function(e,t,n){e.exports=n(415)},function(e,t,n){"use strict";var r=n(389);n.o(r,"getKeys")&&n.d(t,"getKeys",function(){return r.getKeys});n(390);var o=n(391);n.d(t,"getKeys",function(){return o.a})},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.resetContainerTypeClass=t.renderSwiper=t.renderCarouselSwiper=void 0;var o=r(n(3));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(370);t.resetContainerTypeClass=function(e,t){for(var n="",r=e.className.split(" "),o=0;o<r.length;o++)0!==r[o].indexOf("type_")&&(n+=r[o]+" ");n+="type_"+t,e.className=n};var s=t.renderCarouselSwiper=function(e,t){var n,r,o=.7*e.offsetWidth/2,i=function(){if(n)for(var e=0;e<n.slides.length;e++){var t=1,r=n.slides.eq(e),i=n.slides[e].progress;Math.abs(i)>1&&(t=.3*(Math.abs(i)-1)+1);var a="".concat(i*t*o,"px"),s=1-Math.abs(i)/5,c=999-Math.abs(Math.round(10*i));r.transform("translateX(".concat(a,") scale(").concat(s,")")),r.css("zIndex",c),r.css("opacity",1),Math.abs(i)>3&&r.css("opacity",0)}},s=a(a({},t),{},{slidesPerView:"auto",observer:!0,watchSlidesProgress:!0,on:{progress:function(){if(!n)return window.clearTimeout(r),void(r=window.setTimeout(i,100));i()},setTransition:function(e){if(n)for(var t=0;t<n.slides.length;t+=1)n.slides.eq(t).transition(e)},beforeDestroy:function(){if(n)for(var e=n.slides,t=0;t<e.length;t++){var r=e.eq(t);r.transform("translateX(0) scale(1)"),r.css("zIndex","1"),r.css("opacity",1)}},init:t&&t.on&&t.on.init}});return n=new window.Swiper(e,s)},c={loop:!0,centeredSlides:!0,autoplay:{delay:3e3,disableOnInteraction:!1}},u={loop:!0,centeredSlides:!1,autoplay:{delay:3e3,disableOnInteraction:!1}};t.renderSwiper=function(e){var t=e.effect,n=e.container,r=e.basicConfig,o=void 0===r?c:r;e.imgLength;switch(t){case"customCenteredSlides":return s(n,o);case"centeredSlides":return new window.Swiper(n,a(a({},o),{},{spaceBetween:30,slidesPerView:"auto"}));case"customLeftSlides":return new window.Swiper(n,a(a({},u),{},{spaceBetween:10,slidesPerView:"auto"}));case"poiLeftSlides":return new window.Swiper(n,a(a({},u),{},{loop:!1,cssMode:!0,height:74,spaceBetween:8,slidesPerView:"auto"}));case"leftSlides":return new window.Swiper(n,a(a({},u),{},{spaceBetween:10,slidesPerView:"2"}));case"coverflow":return new window.Swiper(n,a(a({},o),{},{effect:t,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}}));default:return new window.Swiper(n,a(a({},o),{},{effect:t}))}}},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),i=r(n(4)),a=r(n(26)),s=n(358);t.default=(0,o.default)(function e(t,n){var r=this;(0,i.default)(this,e),this.getFormStyleAndSetErrorWrapper=function(e){return a.default.closest(e,s.ITEM_CONTROL_WRAPPER_SELECTOR)},this.showErrorTips=function(e,t){e&&(t=r.getFormStyleAndSetErrorWrapper(t)).classList.add(s.INPUT_ERROR_CLASSNAME)},this.hideErrorTips=function(e){(e=r.getFormStyleAndSetErrorWrapper(e)).classList.remove(s.INPUT_ERROR_CLASSNAME)},this.$form=t})},function(e,t,n){var r=n(448);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.clearSamplingBingoCacheByGroupName=function(e){localStorage.removeItem("".concat(l,"_").concat(e))},t.samplingReportCreator=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"local",o=arguments.length>4?arguments[4]:void 0;if(n){var i=Math.random()<=t;if(console.warn("samplingReportCreator rate",t,"bingo",i),"local"===r)return i?e:d;o=o||"default";var a=localStorage.getItem("".concat(l,"_").concat(o));return null!==a?"1"===a?e:d:(localStorage.setItem("".concat(l,"_").concat(o),i?"1":"0"),i?e:d)}return function(){var n=Math.random()<=t;if(n)return e.apply(void 0,arguments)}},t.tdwReport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n="".concat(i.backendUrl,"/api/form/actionReport"),r=(o=viewerData.pageId,s=(new Date).getTime(),c=(0,a.parseUrl)(),l=c.qz_gdt,d=c.gdt_vid,{timestamp:s,source:0,clickid:l||d||"",moduletype:0,pageid:o,network:viewerData.network});var o,s,c,l,d;if(t)return void navigator.sendBeacon(n,JSON.stringify(u(u({},r),e)));var p="application/json;charset=UTF-8";-1!==i.CDN_HOSTS.indexOf(window.location.host)&&(p="text/plain;charset=UTF-8");var f={method:"POST",body:JSON.stringify(u(u({},r),e)),headers:{"Content-Type":p}};return window.sfetch(n,f)},t.tdwReportStandard=function(e,t){var n="".concat(i.backendUrl,"/api/form/actionReport"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=viewerData.pageId,n=(0,a.parseUrl)(),r=n.qz_gdt,o=n.gdt_vid,i=(0,s.judgeClient)(),c=void 0===p[i]?0:p[i],u={ei:e.ei||"",vl:1,ts:(new Date).getTime(),biz:{traceid:r||o,cmp_type:e.cmp_type||"",submit_fail_reason:e.submit_fail_reason||0,preload_status_code:e.preload_status_code||0,wx_sdk_method:e.wx_sdk_method||""},ext:{pageid:t,formid:e.formid||0,action_type:e.action_type||"",functype:e.functype||void 0,status:e.status||{}}};return{os:c,sdk_st:10,events:u}}(e);if(t)return void navigator.sendBeacon(n,JSON.stringify(u({},r)));var o="application/json;charset=UTF-8";-1!==i.CDN_HOSTS.indexOf(window.location.host)&&(o="text/plain;charset=UTF-8");var c={method:"POST",body:JSON.stringify(u({},r)),headers:{"Content-Type":o}};return window.sfetch(n,c)};var o=r(n(3)),i=n(7),a=n(13),s=n(2);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l="SAMPLING_GROUP_KEY";function d(){}var p={unknown:0,Android:2,iOS:1}},function(e,t,n){},,function(e,t,n){(function(n){var r;
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||f(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||f(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),c=r.match(/Version\/(.*?) /),u=s&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return i.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&i.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&u(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*l/Math.abs(s._rate),p=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var m=function(){s._paused=!1,s._seek=u,s._start=p,s._stop=f,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(u>=f)){var h=s._node;if(n._webAudio){var v=function(){n._playLock=!1,m(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,u,86400):h.bufferSource.noteGrainOn(0,u,l):s._loop?h.bufferSource.start(0,u,86400):h.bufferSource.start(0,u,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===i.state&&"interrupted"!==i.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var g=function(){h.currentTime=u,h.muted=s._muted||n._muted||i._muted||h.muted,h.volume=s._volume*i.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,m(),r.then(function(){n._playLock=!1,h._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,m(),n._emit("play",s._id)),h.playbackRate=s._rate,h.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var y=window&&window.ejecta||!h.readyState&&i._navigator.isCocoonJS;if(h.readyState>=3||y)g();else{n._playLock=!0,n._state="loading";var A=function(){n._state="loaded",g(),h.removeEventListener(i._canPlayEvent,A,!1)};h.addEventListener(i._canPlayEvent,A,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,o[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if(r||o._stopFade(a[s]),o._webAudio&&!c._muted){var u=i.ctx.currentTime,l=u+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,u),c._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(c,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,c=n-t,u=Math.abs(c/.01),l=Math.max(4,u>0?r/u:r),d=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var o=(Date.now()-d)/r;d=Date.now(),s+=c*o,s=Math.round(100*s)/100,s=c<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=arguments;if(0===r.length)return this._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=this._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],this._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var o=this._getSoundIds(t),i=0;i<o.length;i++)(n=this._soundById(o[i]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,this.playing(o[i])&&(this.pause(o[i],!0),this.play(o[i],!0)))));return this},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),c=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),c)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?i.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var c=n.playing(t);c&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var u=function(){c&&n.play(t,!0),n._emit("seek",t)};if(c&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):u()};setTimeout(l,0)}else u()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],o=0;if("number"==typeof t&&(n=t,t=null),t||n)for(o=0;o<r.length;o++){var i=n===r[o].id;if(t===r[o].fn&&i||!t&&i){r.splice(o,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(o=0;o<a.length;o++)0===a[o].indexOf("_on")&&Array.isArray(this[a[o]])&&(this[a[o]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],o=r.length-1;o>=0;o--)r[o].id&&r[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,r[o].fn),0),r[o].once&&this.off(e,r[o].fn,r[o].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),i._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=i._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(t,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*i.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var c={},u=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){i.setRequestHeader(t,e._xhr.headers[t])}),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(this._orientation=[e,t,n,r,o,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,o,i),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,n,r],c._node&&(c._panner&&!c._panner.pan||t(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(e,n,r)),i._emit("pos",c._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,n,r],c._node&&(c._panner||(c._pos||(c._pos=i._pos||[0,0,-.5]),t(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(e,n,r)),i._emit("orientation",c._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=arguments;if(!this._webAudio)return this;if(0===o.length)return this._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=this._soundById(parseInt(o[0],10)))?r._pannerAttr:this._pannerAttr;e=o[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var i=this._getSoundIds(n),a=0;a<i.length;a++)if(r=this._soundById(i[a])){var s=r._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var c=r._panner;c?(c.coneInnerAngle=s.coneInnerAngle,c.coneOuterAngle=s.coneOuterAngle,c.coneOuterGain=s.coneOuterGain,c.distanceModel=s.distanceModel,c.maxDistance=s.maxDistance,c.refDistance=s.refDistance,c.rolloffFactor=s.rolloffFactor,c.panningModel=s.panningModel):(r._pos||(r._pos=this._pos||[0,0,-.5]),t(r,"spatial"))}return this},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(45))},function(e,t,n){var r=n(125),o=n(48),i="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(146);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,n){"use strict";var r=n(146),o=n(422),i=n(423),a=n(375),s=n(424),c=n(427),u=n(428),l=n(379),d=n(377),p=n(351);e.exports=function(e){return new Promise(function(t,n){var f,m=e.data,h=e.headers,v=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(m)&&delete h["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var A=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(A+":"+_)}var b=s(e.baseURL,e.url);function w(){if(y){var r="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,i={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};o(function(e){t(e),g()},function(e){n(e),g()},i),y=null}}if(y.open(e.method.toUpperCase(),a(b,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(w)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var T=(e.withCredentials||u(b))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;T&&(h[e.xsrfHeaderName]=T)}"setRequestHeader"in y&&r.forEach(h,function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete h[t]:y.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new p("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),m||(m=null),y.send(m)})}},function(e,t,n){"use strict";var r=n(376);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(146);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=u[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)}),n}},function(e,t){e.exports={version:"0.26.1"}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){[].forEach.call(document.querySelectorAll(".xj-lead-interactive-component"),function(e){var t=e.dataset,n=t.playComponentId,r=t.token,a=t.displayType,s=t.transformType,c=t.playComponentRuleId,u=t.playComponentRuleFactor,l=e.dataset.triggerBounds?JSON.parse(e.dataset.triggerBounds):null,d=e.dataset.transformConfig?JSON.parse(e.dataset.transformConfig):null,p=c?"".concat(c,"_").concat(u||1):"";switch(a=parseInt(a,10)||i.TO_TRANSFORM){case i.TO_TRANSFORM:o.default.initLeadPlay(e,parseInt(n,10),l,s,d,p,r);break;case i.TRANSFORM_TO_START:o.default.getLeadPlayTransformToStartPromise(e,parseInt(n,10),l,p,r)}})};var o=r(n(115));n(392),n(362),n(365),n(366);var i={TO_TRANSFORM:100,TRANSFORM_TO_START:200}},,function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getAlitaLeadsUuid",function(){return a}),n.d(t,"reportAlitaReservationCheck",function(){return s});var r=n(12),o=n(69),i=n.n(o);function a(){var e=window.viewerUtils.parseUrl()||{},t=e.leads_uuid,n=e.from;return"alita"!==n&&"xjpro"!==n?"":t}function s(e,t){var n={leads_unique_id:e,scene:2,layer_form:{"互动内容":t}};return(new r.Report).dmpReport({map:r.REPORT_TYPE_MAPS.ALITA_RESERVATION_CHECK,processor:function(e){e.actions[0].action_param={leads_standard_form_info:JSON.stringify(n)}}}).finally(function(){i.a.success("您的资料已提交成功，非常感谢您的耐心回答")})}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.validatorNonEmpty=t.validatorMap=t.getAgeFromIdCard=t.formValidatorStrategies=t.Validator=void 0;var o=r(n(24)),i=r(n(4)),a=r(n(5)),s=r(n(42)),c=n(437);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.validatorNonEmpty=function(e){return{strategy:"isNonEmpty",errorMsg:"请输入".concat(e)}};var d=t.getAgeFromIdCard=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=e.match(/^\d{6}(\d{4})(\d{2})(\d{2})/);if(!n)return null;var r=+n[1],o=+n[2],i=+n[3],a=t.getFullYear(),s=t.getMonth()+1,c=t.getDate(),u=a-r-1;return o<s?u+=1:o===s&&i<=c&&(u+=1),u},p=["110","100","111","112","114","122","123","124","128"],f=t.formValidatorStrategies={isNonEmpty:function(e,t,n){return{errorMsg:e?void 0:t,dom:n}},someLength:function(e,t,n,r){return{errorMsg:e.length!==Number(t)?n:void 0,dom:r}},minLength:function(e,t,n,r){return{errorMsg:e.length<t?n:void 0,dom:r}},maxLength:function(e,t,n,r){return{errorMsg:e.length>t?n:void 0,dom:r}},isMobile:function(e,t,n){return{errorMsg:!e||/^1[0-9]([0-9]|\*){9}$/.test(e)&&!p.includes(e.slice(0,3))?void 0:t,dom:n}},isNumber:function(e,t,n){return{errorMsg:e&&Number.isNaN(Number(e))?t:void 0,dom:n}},isEmail:function(e,t,n){return{errorMsg:e&&!/^\w+([+-.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)?t:void 0,dom:n}},isIdCard:function(e,t,n){return{errorMsg:e&&!/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}$)/.test(e)?t:void 0,dom:n}},isHan:function(e,t,n){return{errorMsg:e&&!/^[\u4e00-\u9fa5·]+$/.test(e)?t:void 0,dom:n}},incomplete:function(e,t,n){return{errorMsg:e!==c.graduallySelectCompleteStatus.completed?t:void 0,dom:n}},isTarget:function(e,t,n,r){return{errorMsg:e!==t?n:void 0,dom:r}},idCardInAgeRange:function(e,t,n,r){var o={errorMsg:void 0,dom:r};if(e){var i=t.split("-").map(function(e){return Number(e)}),a=(0,s.default)(i,2),c=a[0],u=a[1],l=d(e);if(!l)return o;if(l<c||l>u)return o.errorMsg=n,o}return o},isLimitedDistricts:function(e,t,n){var r="",o=JSON.parse(n.dataset.disabledDistrictsConfig),i=e.split("|").filter(function(e){return!["北京","上海","天津","重庆"].includes(e)}).join("");return o.limitDistricts.forEach(function(e){var t=e.fullname;e.path&&(t=e.path.join("")+e.fullname),i.startsWith(t)&&(r="暂不支持选择该地区")}),{errorMsg:r||void 0,dom:n}}};t.validatorMap=function(e,t){return{name:[{strategy:"maxLength:15",errorMsg:"".concat(t,"不能超过15个字符")},{strategy:"isHan",errorMsg:"请输入中文姓名"}],phone:[{strategy:"isMobile",errorMsg:"请输入正确的手机号码"}],gender:[],mail:[{strategy:"isEmail",errorMsg:"".concat(t,"格式不正确")}],input:[{strategy:"maxLength:20",errorMsg:"".concat(t,"不能超过20个字符")}],addressInput:[],number:[{strategy:"isNumber",errorMsg:"".concat(t,"格式不正确")},{strategy:"maxLength:20",errorMsg:"".concat(t,"不能超过20位")}],mobileVerifyCode:[{strategy:"isNumber",errorMsg:"".concat(t,"格式不正确")},{strategy:"someLength:6",errorMsg:"".concat(t,"需为6位")}],idCard:[{strategy:"isIdCard",errorMsg:"".concat(t,"格式不正确")}],textarea:[],radio:[],imageRadio:[],checkbox:[],imageCheckbox:[],multiSelect:[],date:[],province:[],provinceCity:[],proCityArea:[],select:[],phoneVerify:[],graduallySelect:[{strategy:"incomplete",errorMsg:"请完成".concat(t)}],privacyPolicy:[{strategy:"isTarget:true",errorMsg:"请勾选我已阅读并同意 ".concat(t||"相关协议")}],privacyPolicyPersonalInfo:[{strategy:"isTarget:true",errorMsg:"请勾选我已阅读并同意 个人信息与隐私保护条款"}],lbsShopInfo:[],appointmentDate:[]}[e]},t.Validator=function(){function e(){(0,i.default)(this,e),this.validatorArray=[]}return(0,a.default)(e,[{key:"add",value:function(e,t,n){var r=this;if(t){var i,a=u(t);try{var s=function(){var t=i.value,a=t.strategy.split(":"),s=t.errorMsg;r.validatorArray.push(function(){var t=(0,o.default)(a),r=t[0],i=t[1];if(r)return t=i?[e,i,s,n]:[e,s,n],f[r].apply(n,t)})};for(a.s();!(i=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}}}},{key:"lazyValidate",value:function(){var e,t=u(this.validatorArray);try{for(t.s();!(e=t.n()).done;){var n=(0,e.value)();if(n&&n.errorMsg)return n}}catch(e){t.e(e)}finally{t.f()}}},{key:"validate",value:function(e){var t,n=[],r=u(this.validatorArray);try{for(r.s();!(t=r.n()).done;){var o=(0,t.value)()||{};o&&o.errorMsg&&n.push(o),e&&e(o.errorMsg,o.dom,o)}}catch(e){r.e(e)}finally{r.f()}return n}}]),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"TTSUtils",function(){return c});var r=n(4),o=n.n(r),i=n(5),a=n.n(i),s=n(342);n.d(t,"TTS",function(){return s.a}),n.d(t,"TTSErrors",function(){return s.b});var c=function(){function e(t){o()(this,e),this.ttsMap={},this.listeners={},this.config=t.config,this.init()}return a()(e,[{key:"get",value:function(e){if(this.ttsMap[e]){var t=this.ttsMap[e];return{propPath:e,src:t.src,unlocked:t.unlocked,duration:t.duration,currentTime:t.currentTime,paused:t.paused}}}},{key:"getInfo",value:function(){var e=this,t=Object.keys(this.ttsMap);return{enable:t.length>0,enableAudios:t.map(function(t){return e.get(t)})}}},{key:"play",value:function(e,t){var n,r=this;this.ttsMap[e]?this.ttsMap[e].play().then(function(e){var n;null===t||void 0===t||null===(n=t.onPlay)||void 0===n||n.call(t),r.listeners[e]={onTimeUpdate:t.onTimeUpdate,onEnd:t.onEnd,onStop:t.onStop}}).catch(function(e){var n;null===t||void 0===t||null===(n=t.onError)||void 0===n||n.call(t,e)}):null===t||void 0===t||null===(n=t.onError)||void 0===n||n.call(t,{type:s.b.NOEXIST,message:"声音不存在"})}},{key:"stop",value:function(e){this.ttsMap[e]&&this.ttsMap[e].stop()}},{key:"waitUnlock",value:function(){var e=this;return this.unlockPromise?this.unlockPromise:(this.unlockPromise=Promise.all(Object.keys(this.ttsMap).map(function(t){var n=e.ttsMap[t];return n.unlocked?Promise.resolve():new Promise(function(e){n.once("onUnlock",function(){e()})})})),this.unlockPromise)}},{key:"detectAutoPlay",value:function(){return s.a.detectUnlock()}},{key:"init",value:function(){var e,t,n,r=this;if(this.ttsConfig=null===(e=this.config.$commonConfig)||void 0===e?void 0:e.extendWidgetsTTS,null!==(t=this.ttsConfig)&&void 0!==t&&null!==(n=t.textList)&&void 0!==n&&n.length){var o=this.ttsConfig.textList;s.a.detectUnlock().then(function(e){e&&s.a.openChannel()}),o.forEach(function(e){r.ttsMap[e.propPath]=new s.a({url:e.audioSrc,duration:e.duration}),r.ttsMap[e.propPath].addListener("onTimeUpdate",function(e,t){var n,o;r.listeners[e]&&(null===(n=(o=r.listeners[e]).onTimeUpdate)||void 0===n||n.call(o,t))}),r.ttsMap[e.propPath].addListener("onEnd",function(e){var t,n;r.listeners[e]&&(null===(t=(n=r.listeners[e]).onEnd)||void 0===t||t.call(n),delete r.listeners[e])}),r.ttsMap[e.propPath].addListener("onStop",function(e){var t,n;r.listeners[e]&&(null===(t=(n=r.listeners[e]).onStop)||void 0===t||t.call(n),delete r.listeners[e])})});var i=function(){s.a.openChannel()};document.body.addEventListener("touchend",i,!0),document.body.addEventListener("click",i,!0)}}}]),e}()},function(e,t){},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e){return Object.keys(e)}n.d(t,"a",function(){return r})},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0),o=n(6),i=r(n(4)),a=r(n(5)),s=r(n(19)),c=n(12),u=n(2),l=n(7),d=r(n(26)),p=r(n(115)),f=r(n(383)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(397)),h=n(350),v=n(133);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}new(function(){function e(){(0,i.default)(this,e),(0,v.attachPolyfill)(),this.sceneEnv=s.default.getSceneEnv(),this.enableAggressiveReport(),this.initTdwReport(),this.getOpenId(),setTimeout(function(){p.default.initPlayLiteExp()},100),p.default.getDownloadTriggerPlayPromise().then(function(){}).catch(function(){}),this.initDefaultPagePlayableCmp(),(0,h.startGeneralActionReport)(),setTimeout(function(){m.initExitEventExp()},100)}return(0,a.default)(e,[{key:"enableAggressiveReport",value:function(){if(this.sceneEnv.enableAggressiveReportMode){var e=new c.Report;document.addEventListener("touchend",e.dmpReport.bind(e,null,{disableReportUserClick:!0}))}}},{key:"initTdwReport",value:function(){(0,h.reportXJPv)()}},{key:"getOpenId",value:function(){var e=(0,u.parseUrl)(),t=e.isPrivateTraffic,n=e.code;"1"===t&&n&&"undefined"!==n&&d.default.fetch("".concat(l.backendUrl,"/wechat/public/getWxOpenId"),"POST",{code:n,appId:l.PRIVATE_TRAFFIC_OPEN_ID.appId}).then(function(e){e&&0===e.code&&viewerData&&(viewerData.wxUserOpenId=e.data,viewerData.wxUserOpenId)})}},{key:"initDefaultPagePlayableCmp",value:function(){if("default-h5"===viewerData.pageType){var e=(0,u.getParameter)(location.href,"ad_id")||"";e&&window.sfetch("//v.qq.com/cache/wuji_public/object/".concat(e,"?appid=xjFrontEnd&schemaid=play_comp_for_default_app_page_derive&schemakey=a6bb6becaac941d9a398acd94d1c23a2"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){if(e.data){var t=JSON.parse(e.data.config),n=document.querySelector(".xj-lead-interactive-component");n&&(n.dataset.playComponentId=t.interactionPageId,n.dataset.displayType=t.displayType||"",(0,f.default)())}}).catch(function(e){console.error("默认落地页互动组件初始化失败",e)})}}}]),e}())},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(447).SDK_NAME;t.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TIMING={LOADED:"resource_loaded",START:"game_start",END:"game_end",TRANSFORM_AFTER_END:"transform_after_game_end"},this.VISIBILITY={VISIBLE:"visible",HIDDEN:"hidden"},this.declareSingletonInstance()}var t,n,i;return t=e,(n=[{key:"declareSingletonInstance",value:function(){return window[a]||(window[a]=this),window[a]}},{key:"getConfigAsync",value:function(){return Promise.resolve({})}},{key:"getEnv",value:function(){return{mute:!1,publicPath:"/TODO/需要根据当前路有动态配置"}}},{key:"transform",value:function(){console.info("[XJ] 触发转化行为")}},{key:"invoke",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nothing",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=this["".concat(e,"Handler")];if(r){var o="function"!=typeof t;r({payload:o?t:null,callback:o?n:t})}else console.error("[XJ] 没有对应的jsapi: ".concat(e))}},{key:"onshowHandler",value:function(e){(0,e.callback)()}},{key:"visibilitychangeHandler",value:function(e){e.callback}},{key:"timingHandler",value:function(e){var t=e.payload;t?"object"===r(t)&&null!==t&&t.custom?console.info("[XJ] 自定义打点，值为: ".concat(t.custom)):console.info("[XJ] 常规打点，值为: ".concat(t)):console.warn("[XJ] timing为空，跳过打点")}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"QaCanvasUtils",function(){return c});var r=n(24),o=n.n(r),i=n(368),a=n.n(i);function s(e,t){for(var n=o()(e),r=n.shift();r;){if(r.id===t)return r;"option"===r.type&&n.unshift.apply(n,o()(r.children)),r=n.shift()}return null}var c={_config:null,_dataSource:"",updateConfig:function(e){this._config=e},init:function(e){var t=e.dataSource;this._dataSource=t},get:function(e){var t=a()(this._config,this._dataSource),n=[];if(n=Array.isArray(t)?t:t.list,!e){var r=n[0],o=s(n,r.children[0]);return{id:r.id,question:r.content,options:o.children.map(function(e){return{id:e.id,content:e.content}})}}var i=s(n,e.optionId);if(!i)throw new Error("选项不存在，请检查！optionId: ".concat(e.optionId));if(0===i.children.length)return null;var c=s(n,i.children[0]),u=s(n,c.children[0]);return{id:c.id,question:c.content,options:u.children.map(function(e){return{id:e.id,content:e.content}})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"getExpInfo",function(){return M}),n.d(t,"initLevelEventExp",function(){return U}),n.d(t,"initExitEventExp",function(){return D});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),s=n(5),c=n.n(s);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d,p=function(){function e(t){a()(this,e),this.levelEventMap={},this.actionAnalyser=t.actionAnalyser}return c()(e,[{key:"register",value:function(e,t){var n=this;this.levelEventMap[e]||(this.levelEventMap=l(l({},this.levelEventMap),{},o()({},e,{executed:!1,callbacks:[]})),this.actionAnalyser.addListener(e,function(){n.emit(e)})),this.levelEventMap[e].callbacks.push(t)}},{key:"emit",value:function(e){this.levelEventMap[e]&&!this.levelEventMap[e].executed&&(this.levelEventMap[e].executed=!0,this.levelEventMap[e].callbacks.forEach(function(e){return e()}))}}],[{key:"create",value:function(t){return e.instance=new e(t),e.instance}},{key:"getInstance",value:function(){return e.instance}}]),e}(),f=n(2),m=n(1),h=n.n(m),v=n(115),g=n(40),y=n(344),A=n(350),_=n(130),b=n(21),w=n.n(b),T=n(14),E=n.n(T),S=n(49),O=n(300),I=n(25);function C(e){switch(e){case I.MEDIA_NAME.QQ:case I.MEDIA_NAME.IOSQQ:window.mqq.ui.closeWebViews({mode:0,exclude:!1});break;case I.MEDIA_NAME.QNEWS:case I.MEDIA_NAME.IOS_UNSURE_MEDIA:window.TencentNews.invoke("closeWebview",{onCallback:function(){}})}}function P(e,t){var r=v.CommonHelpers.getDownloadButtonDOM();return(d||(d=new Promise(function(e){window.XJ_PLAY_COMPONENT?e():window.loadjs("//".concat(h.a.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/sdk/interactive/play.component.core.min.js"),function(){e()})}))).then(function(){var o=document.createElement("div");o.classList.add("XJ_PLAY_COMPONENT_EXIT-container"),document.body.appendChild(o),Object.assign(o.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3});var i=window.XJ_PLAY_COMPONENT.init({container:o,componentId:e,businessId:"XJ|derive",autoStart:!1,getTraceId:function(){return Object(f.getTraceId)()},onTransform:function(){if("websiteForm"===h.a.transformType){var e=document.querySelector(".xj-website-form");e&&(e.style.display="",window.XJViewer.XJWebForm&&window.XJViewer.XJWebForm.showFormForInteractive())}else r&&r.click()},onClose:function(){o.parentNode&&o.parentNode.removeChild(o)},onDestroy:function(){C(t)}});if(r)try{(new(0,n(43).default)).spaDownloader.on("statusChange",function(e){window.XJ_PLAY_COMPONENT.updateTransformStatus({targetUniqId:i,statusType:"download",status:e})})}catch(e){}return i})}function k(e){return x.apply(this,arguments)}function x(){return(x=w()(E.a.mark(function e(t){var n,r,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(history.pushState){e.next=2;break}return e.abrupt("return",!1);case 2:if(-1===[I.MEDIA_NAME.QQ,I.MEDIA_NAME.IOSQQ].indexOf(t)){e.next=14;break}if(e.prev=3,window.mqq){e.next=7;break}return e.next=7,Object(S.loadSDK)(t);case 7:return e.abrupt("return",!(null===(n=window.mqq)||void 0===n||null===(r=n.ui)||void 0===r||!r.closeWebViews));case 10:return e.prev=10,e.t0=e.catch(3),console.warn("手Q流量SDK加载失败",e.t0),e.abrupt("return",!1);case 14:if(!(t===I.MEDIA_NAME.QNEWS||t===I.MEDIA_NAME.IOS_UNSURE_MEDIA&&Object(f.judgeClient)()===f.judgeClient.SYS.IOS&&/qqnews\//i.test(navigator.userAgent))){e.next=26;break}if(e.prev=15,window.TencentNews){e.next=19;break}return e.next=19,Object(S.loadSDK)(I.MEDIA_NAME.QNEWS);case 19:return e.abrupt("return",!(null===(o=window.TencentNews)||void 0===o||!o.invoke));case 22:return e.prev=22,e.t1=e.catch(15),console.warn("新闻流量sdk加载失败",e.t1),e.abrupt("return",!1);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,null,[[3,10],[15,22]])}))).apply(this,arguments)}function N(e){return e.toString().split(",").map(function(e){return Number(e)}).includes(h.a.pageId)}function D(){return R.apply(this,arguments)}function R(){return(R=w()(E.a.mark(function e(){var t,n,r,o,i,a,s,c,u,l,d,p;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.a.isLite&&!h.a.isMedical&&"default-h5"!==h.a.pageType){e.next=2;break}return e.abrupt("return");case 2:if("DEFAULT"!==h.a.playableType||-1!==["android-app-h5","ios-app-h5"].indexOf(h.a.pageType)){e.next=4;break}return e.abrupt("return");case 4:if("DEFAULT"===h.a.playableType||-1!==["appDownload","websiteForm"].indexOf(h.a.transformType)){e.next=6;break}return e.abrupt("return");case 6:return t=Object(f.parseUrl)(),n=t&&t.gdt_media_id,r=t&&t.siteset,o=window.navigator&&window.navigator.userAgent,i=Object(f.parseClickExt)(),a=Object(I.getMediaName)({mediaId:n,siteSet:r,userAgent:o,clickExt:i}),console.warn("mediaName",a),e.next=15,k(a);case 15:if(e.sent){e.next=17;break}return e.abrupt("return");case 17:"//v.qq.com/cache/wuji_public/object?appid=xjFrontEnd&schemaid=test1&schemakey=4a63126b506e4f62ab795418e40255f5",s="//v.qq.com/cache/wuji_public/object?appid=xjFrontEnd&schemaid=SystemExitBehaviorRetentionExperiment&schemakey=b225657901064ae5b5de5b7cbbc235ca",c=window.viewerUtils.parseUrl(),u=c.gdt_product_id,l=parseInt(u),d=h.a.pageId,p=encodeURIComponent("(appId=".concat(l,' & pageId=["').concat(d,'"])|(appId=0 & pageId=["').concat(d,'"])|(appId=').concat(l,' & pageId="0")')),window.sfetch("".concat(s,"&filter=").concat(p),{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t;if(e.data)if(0!==e.data.length)if(1===e.data.length?t=e.data[0]:((t=e.data.find(function(e){return N(e.pageId)&&e.appId===l}))||(t=e.data.find(function(e){return N(e.pageId)})),t||(t=e.data.find(function(e){return e.appId===l}))),t){var n=t.componentId;if(n){if(window.loadjs)if(window.innerWidth/window.innerHeight>5/6)console.warn("webview比例不合适，跳过");else{var r=P(n,a),o=g.ActionAnalyzer.createSubject({subject:{events:[{type:"page-back",condition:"$page.back.enabled"}]}});g.ActionAnalyzer.updatePageCtx({"back.enabled":!0}),o.addListener("page-back",function(){console.warn("触发页面返回"),Object(y.TdwReportTrigger)({reportName:O.TDW_REPORT_REPORT_NAMES.PLAY_C},{action_type:O.TDW_REPORT_ACTION_TYPES.PLAY_C_EXIT_EMIT},{componentId:n,businessId:"XJ|derive",traceId:Object(f.getTraceId)(),isComponentPage:new RegExp(_.COMPONENT_PAGE_HOST).test(window.location.href)}),g.ActionAnalyzer.getPageContext().transform.executed?C(a):r.then(function(e){window.XJ_PLAY_COMPONENT.start(e)})})}}else console.warn("缺少互动组件id配置",JSON.stringify(t))}else console.warn("无匹配页面配置",h.a.pageId);else console.warn("无匹配页面配置",h.a.pageId)});case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j,L=n(15);function M(){var e=Object(L.getExpParams)()||{},t=parseInt(e.withLevelEvent,10);if(!t)return{isInExp:!1,whitelistURL:""};var n=window.viewerUtils.parseUrl().gdt_product_id;return{isInExp:!0,whitelistURL:"//v.qq.com/cache/wuji_public/object/".concat(n,"?appid=xjFrontEnd&schemaid=play_cmp_level_event_exp&schemakey=f4a29837d11b4c798c3b37a0a23de6e5"),expValue:t}}function B(e){var t=v.CommonHelpers.getDownloadButtonDOM();t&&window.loadjs&&(j||(j=new Promise(function(e){window.XJ_PLAY_COMPONENT_LITE?e():window.loadjs("//".concat(h.a.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/sdk/interactive/play.component.lite.min.js"),function(){e()})}))).then(function(){if(window.innerWidth/window.innerHeight>5/6)console.warn("webview比例不合适，跳过");else{var r=window.XJ_PLAY_COMPONENT_LITE.init({getTraceId:function(){return Object(f.getTraceId)()},onTransform:function(){t&&t.click()},tempExpOptions:{componentId:e,showTimeout:0,containerStyle:{position:"fixed",zIndex:1e3,top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"}},getAdId:function(){return Object(f.getAdId)()},getXjUi:function(){return Object(f.getXjUi)()}});if(t)try{(new(0,n(43).default)).spaDownloader.on("statusChange",function(e){window.XJ_PLAY_COMPONENT.updateTransformStatus({targetUniqId:r,statusType:"download",status:e})})}catch(e){}}})}function U(){var e=M();e.isInExp&&Object(A.startGeneralActionReport)(),e.isInExp&&!h.a.isLite&&v.CommonHelpers.isDownloadPage()&&"default-h5"!==h.a.pageType&&window.sfetch(e.whitelistURL,{method:"GET"}).then(function(e){return e.json()}).then(function(t){if(t.data){var n,r=JSON.parse(t.data.config),o=r.sdkConfig[e.expValue];if(o)if(Object.keys(r.pages).forEach(function(e){if(-1!==e.indexOf(h.a.pageId))return"匹配页面配置".concat(e),h.a.pageId,void(n=r.pages[e])}),n||(h.a.pageId,n=r.pages.default),n){var i=g.ActionAnalyzer.createSubject(o),a=p.create({actionAnalyser:i});n.levelEvents.forEach(function(e){a.register(e.type,function(){e.componentIds.forEach(function(t){Object(y.TdwReportTrigger)({reportName:y.TDW_REPORT_REPORT_NAMES.PLAY_C},{action_type:"playable_show_level",status:{level:e.type}},{traceId:Object(f.getTraceId)(),componentId:t,businessId:"lite",isComponentPage:new RegExp(_.COMPONENT_PAGE_HOST).test(window.location.href)}),B(t)})})})}else console.warn("无匹配页面配置",h.a.pageId);else console.warn("sdk配置不匹配",e.expValue)}})}},function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"d",function(){return p});var r=n(345);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(r.f)("+-"),c=Object(r.f)("+-*/%^"),u={"+":1,"-":1,"*":2,"/":2,"%":2,"^":3},l=i(i({},s),c),d=Object(r.f)("  \f\v​           \u2028\u2029  　\ufeff\r\n\t\f"),p=(Object(r.f)("("),Object(r.f)("(),"))},,function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),i=n(21),a=n.n(i),s=n(14),c=n.n(s),u=n(1),l=n.n(u),d=n(15),p=n(2),f=n(360),m=n.n(f);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={qaDisplayPromise:null,queryParams:null},y={DEVELOPMENT:"development",TESTING:"test",PRE_RELEASE:"prerelease",PRODUCTION:"prod"};t.default={getQaDisplayPromise:function(){var e=this;return g.qaDisplayPromise?g.qaDisplayPromise:(g.qaDisplayPromise=a()(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1===parseInt((Object(d.getExpParams)()||{}).openQA,10)){t.next=3;break}return t.abrupt("return",Promise.reject());case 3:if(l.a.pageType.toLowerCase().indexOf("website")>-1&&l.a.pageType.toLowerCase().indexOf("h5")>-1){t.next=5;break}return t.abrupt("return",Promise.reject());case 5:return n=e.getQuery2Params(),t.abrupt("return",e.getQAQualify(n).then(function(e){var t=e.sessionKey;return t?window.sfetch("https://v.qq.com/cache/wuji_public/object/6444d23cf6bef701610cef02?appid=xjFrontEnd&schemaid=qaHelper&schemakey=c249536200bb405bb3c998af1da52041").then(function(e){return e.json()}).then(function(e){if(e&&e.data&&e.data.data){var n,r=JSON.parse(e.data.data);return n=[y.TESTING,y.PRE_RELEASE,y.PRODUCTION].includes(l.a.env)?r[l.a.env].url:r[y.TESTING].url,Promise.resolve({sessionKey:t,landPageUrl:n})}return Promise.reject()}).catch(function(e){return Promise.reject()}):Promise.reject()}).catch(function(){return Promise.reject()}));case 7:case"end":return t.stop()}},t)}))(),g.qaDisplayPromise)},getOpenQaSta:function(){return!!Object(p.parseUrl)().xj_qa_sessionkey},getQuery2Params:function(){if(g.queryParams)return g.queryParams;var e=Object(p.parseUrl)(),t=e.xj_ui,n=e.wx_xj_ui,r=e.gdt_ad_id,o=e.xj_qa_sessionkey,i=Object(p.parseClickExt)().cmmd_id;return g.queryParams={xj_ui:n||t,b_type:"XJ",commodityid:i||void 0,adgroupid:r||void 0,sessionKey:o},g.queryParams},getQAQualify:function(e){var t={userTag:e.xj_ui,bizAppId:e.b_type,commodityId:e.commodityid,adGroupId:e.adgroupid,pageId:l.a.pageId};return new Promise(function(e,n){m.a.post("//h5.gdt.qq.com/pageview/interact/api/chat/checkOpenGpt",v({},t)).then(function(t){0===t.data.code?e({sessionKey:t.data.data.sessionKey}):n()}).catch(function(e){n()})})},getQAReply:function(e){var t,n={userTag:e.xj_ui,bizAppId:e.b_type,adGroupId:e.adgroupid,sessionKey:e.sessionKey,question:e.question};return m.a.post("//h5.gdt.qq.com/pageview/interact/api/chat/openGpt",v({},n),{timeout:8e3}).then(function(e){var n;if(0!==e.data.code)throw new Error;return n=(e.data.data&&e.data.data.contentList[0]).contentList.answer,t="succ",{resCode:e.data.data.resCode,resType:t,isEnd:!!e.data.data&&e.data.data.isEnd,context:{q:n}}}).catch(function(e){return Promise.resolve({resCode:void 0,resType:"retry",isEnd:!1,context:{q:"sorry，网络开小差了～～，请重试"}})})}}},function(e,t,n){n(27);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="xj-lazy-loading">\n    <div class="loading-wrapper">\n        <div class="rect">\n            <div class="rect-in"></div>\n        </div>\n        <div class="rect">\n            <div class="rect-in"></div>\n        </div>\n        <div class="rect">\n            <div class="rect-in"></div>\n        </div>\n        <div class="rect">\n            <div class="rect-in"></div>\n        </div>\n    </div>\n</div>'}},,,function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),a=r(n(5)),s=r(n(10)),c=r(n(1)),u=n(7),l=n(2),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(47)),p=n(363),f=n(88);n(405);var m=n(15);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var v=4e3,g=function(e){var t=v-500*e;return t>0?t:0},y=0,A=0,_=function(){function e(){var t=this;if((0,i.default)(this,e),this.$container=document.querySelector(".xj-outer-material"),this.$initBlurryImage=document.querySelector(".init-blurry-image"),this.$outerVideoMaterialContainer=this.$container.querySelector(".xj-video-for-material"),this.$outerImageMaterialContainer=this.$container.querySelector(".material-carousel-swiper-container"),this.$closeBtn=document.querySelector(".xj-outer-material-close-btn"),this.$unfoldBtn=document.querySelector(".xj-outer-material-unfold-btn"),this.commonConfig=c.default.commonConfig||JSON.parse(this.$container.dataset.commonConfig),this.isUseOuterMaterialConfig=this.commonConfig&&this.commonConfig.refCreative&&this.commonConfig.refCreative.use,this.isInAudit="1"===c.default.requestSource,this.isInWechatPreview=(0,l.isInWechat)()&&!(0,l.getTraceId)(),this.isUseOuterMaterialPosType="1"===(0,l.getParameter)(location.href,"xj_pos_type"),this.materialVisible=!1,this.tryHideFlag=!1,this.addBtnListener=function(){document.addEventListener("touchstart",function(e){t.isDisableHideElement(e.target)||t.hideMaterial()},!0),document.addEventListener("mousedown",function(e){t.isDisableHideElement(e.target)||(document.body.style.transform="",t.hideMaterial())},!0),(0,l.on)(t.$unfoldBtn,"click",function(e){t.showMaterial()})},this.showInitBlurryImage=function(e){t.$initBlurryImage.setAttribute("src",e)},this.fetchOuterMaterial=function(){Promise.resolve().then(function(){if(t.isInAudit){var e=document.createElement("div");e.innerHTML="审核环节，请点击右上角的x收起顶部素材拼接组件",e.classList.add("xj-outer-material-close-btn__tips"),document.querySelector(".xj-outer-material-close-btn").appendChild(e)}if(t.isInAudit||t.isInWechatPreview)throw t.showMaterial({duration:0}),new Error("fallback, 审核中或微信扫码预览")}).then(function(){var e=(0,l.getParameter)(location.href,"ad_id");if(e&&"default-h5"!==c.default.pageType)return t.showMaterial({duration:0}),window.sfetch("".concat(u.backendUrl,"/page/creativeId"),{method:"post",body:JSON.stringify({tid:e,isShowOuterMaterial:1}),mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(0!==e.code||!e.data.outerMaterialData)throw new Error("fallback, 请求异常");var n=e.data.outerMaterialData,r=n.tencentVideoId,o=n.poster,i=n.imageUrl;if(!(r||o||i&&0!==i.length))throw new Error("fallback, 外层素材数据不符合预期");r?(t.initTVideoPlayer(r,o),(0,m.hideFullscreen)()):(t.showInitBlurryImage(r?o:i),setTimeout(function(){t.initImageSwiper(i)},A))})}).catch(function(e){t.showBottomlessImage(),e.message})},this.showBottomlessImage=function(){var e=t.commonConfig.refCreative.image.url;setTimeout(function(){t.showInitBlurryImage(e),setTimeout(function(){t.initImageSwiper([e])},A)},y)},this.initImageSwiper=function(e){(0,s.default)(["//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/js/swiper.min.js?max_age=31536000","css!//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/css/swiper.min.css?max_age=31536000"],function(){for(var n=t.$container.querySelector(".material-carousel-swiper-container"),r=e.length,o="",i=0;i<r;i++){var a=e[i].replace(/http(s)?:/,"");o+='\n                    <div class="swiper-slide">\n                        <div class="xj-outer-material-imageContainer">\n                            <img class="xj-outer-material-image--blurry" src="'.concat(a,'"/>\n                            <img class="xj-outer-material-image" src="').concat(a,'"/>\n                        </div>\n                    </div>\n                ')}n.querySelector(".swiper-wrapper").innerHTML=o;var s={loop:!0,centeredSlides:!0,autoplay:!1,allowTouchMove:!1};r>1&&(s.autoplay={delay:g(1),disableOnInteraction:!1},s.allowTouchMove=!0),(0,p.renderSwiper)({container:n,basicConfig:s}),(0,l.disableSwipeBackGesture)()})},this.initTVideoPlayer=function(e,n){var r=t.$container.querySelector(".xj-video-for-material"),o=r.querySelector(".video-before-init"),i=r.querySelector(".data-video"),a="xj-outer-material-video";i.setAttribute("id",a);var c=e,p=n,m="".concat(t.$container.offsetWidth,"px"),h="".concat(t.$container.offsetHeight,"px");window.Txplayer?(0,f.initVideo)({vid:c,containerId:a,playerWidth:m,playerHeight:h,thumbnailUrl:p,videoBeforeInit:o,videoDom:i,videoWrapper:r,size:"",url:"",isMute:!0}):(0,s.default)(u.TENCENT_VIDEO_JS_API_V3,function(){(0,f.initVideo)({vid:c,containerId:a,playerWidth:m,playerHeight:h,thumbnailUrl:p,videoBeforeInit:o,videoDom:i,videoWrapper:r,size:"",url:"",isMute:!0})});var v=0;window.addEventListener("scroll",function(){var e,t;(t=window.pageYOffset)>v?e=f.DIRECTION.UP:t<v&&(e=f.DIRECTION.DOWN),v=t,(0,f.loopVideos)([r],function(t){var n=t.videoDom,r=t.player,o=t.containerId;r&&"function"==typeof r.getPlayerState&&(0,f.videoDetect)({winInnerHeight:window.innerHeight,direction:e,videoBoundingClientRet:n.getBoundingClientRect(),playerState:r.getPlayerState(),player:r,videoDom:n,containerId:o})})}),window.addEventListener("resize",function(){var e=function(){f.playerList.forEach(function(e){var t=e.player,n=e.videoWrapper,r=e.videoInfo,o=r.width,i=r.height,a=window.visualViewport.scale,s=window.innerWidth*a,c=(s>450?450:s)/a,u=c,l=i/(o/c);n.style.width="".concat(u,"px"),n.style.height="".concat(l,"px"),t&&"function"==typeof t.resize&&t.resize({width:u,height:l})})};e();var t=0,n=setInterval(function(){++t<5?e():clearInterval(n)},100)}),d.default.onChange(function(e){e===d.STATE_HIDDEN&&(0,f.pauseAllVideo)()}),(0,l.disableSwipeBackGesture)()},this.isUseOuterMaterialConfig&&(this.isInAudit||this.isInWechatPreview||this.isUseOuterMaterialPosType))return e.instance||(this.init(),this.addBtnListener(),e.instance=this),e.instance}return(0,a.default)(e,[{key:"init",value:function(){this.fetchOuterMaterial()}},{key:"setBodyTransitionOnce",value:function(e){document.body.addEventListener("transitionend",function t(){e(),document.body.classList.remove("body--transition"),document.body.removeEventListener("transitionend",t)}),document.body.classList.add("body--transition")}},{key:"hideMaterial",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(t.duration,t.startY);void 0===n&&this.$container.offsetHeight;this.materialVisible&&(this.materialVisible=!1,setTimeout(function(){e.$container.classList.remove("show"),e.$closeBtn.style.display="none",e.$unfoldBtn.style.display="block"},100),(0,f.pauseAllVideo)())}},{key:"showMaterial",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).duration;if(!this.materialVisible){this.materialVisible=!0;this.$container.addEventListener("transitionend",function t(){e.tryHideAutomatically(),e.$container.removeEventListener("transitionend",t)}),this.$container.classList.add("show"),document.body.style.transform="",this.$unfoldBtn.style.display="none",this.$closeBtn.style.display="block"}}},{key:"tryHideAutomatically",value:function(){var e=this;!0!==this.commonConfig.refCreative.autoHide||this.tryHideFlag||(this.tryHideFlag=!0,setTimeout(function(){e.hideMaterial()},1e3))}},{key:"isDisableHideElement",value:function(e){return e===this.$container||this.$container.contains(e)}},{key:"transformAnimate",value:function(e,t,n,r,o){var i,a=t,s=n-a;window.requestAnimationFrame(function t(n){i||(i=n);var c=n-i,u=0===r?1:Math.min(c/r,1);e.style.transform="translateY(".concat(a+s*u,"px)"),e.style.webkitTransform="translateY(".concat(a+s*u,"px)"),c<r?window.requestAnimationFrame(t):o()})}}]),e}();t.default=_},function(e,t,n){},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.autoFillAuth=void 0,t.creatFormViewModel=function(e){return t=(0,o.default)(p(e)),t.issubmited=!1,{cleanFormData:function(){t.issubmited=!1},getSubmittedStatus:function(){return t.issubmited},setSubmittedStatus:function(e){t.issubmited=e},getAll:function(){return t},get:function(e){return t[e]},set:function(e,n){var r=t[e];for(var o in n)!0===n.hasOwnProperty(o)&&(r[o]=n[o])}};var t},t.formDefaultData=p,t.getAutoFill=function(e){var t=e.classname,n=e.isNotShow;return'<div class="isd-form-item isd-form-privacyPolicy-item '.concat(t,'" style="display: ').concat(n?"none !important":"",'" >\n        <div class="isd-form-item-control-wrapper privacy-policy-wrapper ').concat(t?"privacy-policy-wrapper-auto-fill-phone-auth":"privacy-policy-wrapper-auto-fill-phone","  ").concat("1"===u?l:"",'">\n            <span class="isd-real-checkbox">\n                <span class="form-checkbox-fake"></span>\n                <span class="isd-form-privacy-policy-content">保存手机号, 下次自动填写</span>\n            </span>\n            <span class="isd-form-privacy-policy-url">《').concat(d,"》</span>\n        </div>\n    </div>")},t.getFormValue=function(e,t){return e.getAll().reduce(function(e,n){var r=e.formArray;return r.push((0,i.default)((0,i.default)((0,i.default)({type:n.type},t,n.label),"value",n.value),"required",n.required)),e},{formArray:[]}).formArray},t.moudleFormShow=t.initPrivacyPolicyConfirm=void 0,t.scrollToForm=function(e){try{var t=document.querySelectorAll("form"),n=null,r=1e8;t.forEach(function(e){var t=e.getBoundingClientRect().top;t<r&&(r=t,n=e)}),n&&(n.offsetParent&&"BODY"===n.offsetParent.tagName?window.scrollTo(0,n.offsetTop-e):window.scrollTo(0,n.getBoundingClientRect().top+window.scrollY-e),n.dataset.isAnchor="true")}catch(e){console.error(e)}};var o=r(n(24)),i=r(n(3)),a=n(358),s=r(n(129)),c=n(51),u=t.autoFillAuth=s.default.get("XJ_FORM_AUTO_FILL_AUTH_CODE"),l="js-isd-real-checkbox-checked",d="自动填写信息授权书";t.moudleFormShow=function(e){if("true"===e.dataset.inlayout)try{var t=window.getComputedStyle(e),n=parseFloat(t.height),r=e.parentNode.parentNode,o=window.getComputedStyle(r),i=parseFloat(o.top)||0+n,a=parseFloat(o.height)-n,s=r.parentNode.parentNode;r.style.height=n+"px",s.style.height=parseFloat(window.getComputedStyle(s).height)-a+"px";for(var c=s.querySelectorAll(".xj-layout-components"),u=0;u<c.length;u++)if(c[u]!==r){var l=window.getComputedStyle(c[u]),d=parseFloat(l.top);i>d||(c[u].style.top=d-a+"px")}}catch(e){}};function p(e){var t=[];return Array.prototype.slice.call(e.querySelectorAll(a.CONTROL_WRAPPER_SELECTOR)).forEach(function(e){var n=e.dataset.id.split("_").pop();t[n]={value:e.value||e.dataset.value||"",type:e.dataset.type,dom:e,label:e.dataset.label,required:"isRequired"===e.dataset.required,supType:e.dataset.supType}}),t}var f;t.initPrivacyPolicyConfirm=(f=null,function(){return f||(f=new c.Confirm({title:d,hideTitle:!1,content:'\n            <div style="font-size:14px;text-align: left;line-height:1.4;color:#000;font-family: -apple-system, PingFangSC-Regular, "Helvetica Neue", sans-serif;">\n            <p style="text-indent: 0;margin: 14px 0;">尊敬的用户：</p>\n            <p style="text-indent: 28px;margin: 14px 0;">若您主动填写了您的相关信息，且您选择使用“自动填写信息”功能（简称“本功能”），则表示您同意本平台按照本授权书所述目的和方式收集、使用您所填写的信息。您已知晓并同意，本功能将保存您主动填写的信息，在您下次浏览广告页面时，若需要填写您的信息，我们会帮助您自动填写您同意保存的历史信息（以您最近一次保存的内容为准）。填写完成后，若您点击提交按钮，则表示您同意该页面指向的广告主或其客服人员获取您的信息。</p>\n            <p style="text-indent: 28px;margin: 14px 0;">您填写的信息将存储在您的终端本地，未经您的同意，我们不会将您的信息用于本功能之外的其他用途。若我们超出以上用途使用您的信息，我们将再次向您进行说明，并征得您的同意。我们将在合理的安全水平内使用各种安全保护措施保障信息的安全，以防止信息的丢失、不当使用、未经授权访问或披露。</p>\n            <p style="text-indent: 28px;margin: 14px 0;">若您需要访问、更正或删除您的信息，您可以通过微信公众号【腾讯广告服务号】联系本平台，我们会在合理的期限内答复您的请求。</p>\n            <p style="text-align: right;margin: 14px 0;">腾讯公司</p>\n            </div>\n            ',closeable:!0,mask:!0,cover:!0,singleAndCoverBtn:!0,maskCloseAble:!0,visible:!1,zIndex:1e3,okText:"关闭",hideCancelBtn:!0})),f})},,function(e,t,n){var r=n(135),o=n(144);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},function(e,t,n){var r=n(460),o=n(467),i=n(440);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(518),o=n(134),i=n(519),a=n(520),s=n(521),c=n(86),u=n(141),l=u(r),d=u(o),p=u(i),f=u(a),m=u(s),h=c;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=h(new o)||i&&"[object Promise]"!=h(i.resolve())||a&&"[object Set]"!=h(new a)||s&&"[object WeakMap]"!=h(new s))&&(h=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case m:return"[object WeakMap]"}return t}),e.exports=h},,,,function(e,t,n){"use strict";var r=n(146),o=n(374),i=n(416),a=n(381);var s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(359));s.Axios=i,s.Cancel=n(351),s.CancelToken=n(430),s.isCancel=n(380),s.VERSION=n(382).version,s.all=function(e){return Promise.all(e)},s.spread=n(431),s.isAxiosError=n(432),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(146),o=n(375),i=n(417),a=n(418),s=n(381),c=n(429),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var i,l=[];if(this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)}),!o){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var p=t;r.length;){var f=r.shift(),m=r.shift();try{p=f(p)}catch(e){m(e);break}}try{i=a(p)}catch(e){return Promise.reject(e)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}}),e.exports=l},function(e,t,n){"use strict";var r=n(146);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(146),o=n(419),i=n(380),a=n(359),s=n(351);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(146),o=n(359);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,function(n){e=n.call(i,e,t)}),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||l||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(146);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(379);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(146);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(425),o=n(426);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(146),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(146);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(382).version,o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},function(e,t,n){"use strict";var r=n(351);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(146);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=n(2);n(434);var s=r(n(1)),c=(0,a.judgeClient)(),u=function(){function e(){var t=this;(0,o.default)(this,e),this.$container=document.querySelector(".xj-slideUp-guide-container"),this.isInAndroid=c===a.judgeClient.SYS.ANDROID,this.isInWechatChannel="2"===(0,a.getParameter)(location.href,"xj_pos_type"),this.isInWeishiHalfScreen="4"===(0,a.getParameter)(location.href,"xj_pos_type"),this.guideVisible=!1,this.addTouchEventListener=function(){console.warn("window.WeixinJSBridge:",window.WeixinJSBridge);var e=(new Date).getTime();window.WeixinJSBridge&&window.WeixinJSBridge.on("onVisibleHeightChange",function(t){var n=(new Date).getTime();console.warn("triggerTime - startTime:",n-e);var r=t.onVisibleHeightChange,o=t.maxHeight;o&&r>=o&&(console.warn("onVisibleHeightChange >= maxHeight:",r>=o),document.querySelector(".xj-slideUp-guide-container").classList.remove("show"),console.warn("%c 🍭 classList length","color:#6ec1c2",document.querySelector(".xj-slideUp-guide-container").classList.length))}),document.addEventListener("mousedown",function(e){t.hideGuide()},!0)},this.getIsAppIdInWhite=function(){return new Promise(function(e,t){s.default.appData||e(!1);var n=s.default.appData.appId;return window.sfetch("https://v.qq.com/cache/wuji_public/object/63314819e4ea79015db495a1?appid=xjFrontEnd&schemaid=featureAllowList&schemakey=3c854b6f9e3c452898983669512760c0").then(function(e){return e.json()}).then(function(e){return JSON.parse(e.data.UIDList)}).then(function(t){e(t.indexOf(n)>-1)}).catch(function(t){e(!1)})})},(this.isInWechatChannel&&this.isInAndroid||this.isInWeishiHalfScreen)&&this.getIsAppIdInWhite().then(function(n){if(!n)return e.instance||(t.init(),t.addTouchEventListener(),e.instance=t),e.instance})}return(0,i.default)(e,[{key:"init",value:function(){this.showGuide()}},{key:"hideGuide",value:function(){var e=this;this.guideVisible&&(this.guideVisible=!1,setTimeout(function(){e.$container.classList.remove("show")},100))}},{key:"showGuide",value:function(){var e=this;this.guideVisible||(this.guideVisible=!0,this.$container.classList.add("show"),setTimeout(function(){e.hideGuide()},4e3))}}]),e}();t.default=u},function(e,t,n){},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(137),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(128)(e))},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.graduallySelectCompleteStatus=t.XJ_FORM_USER_AUTH_CODE=t.XJ_FORM_AUTO_FILL_AUTH_CODE=t.SUBMIT_DEBOUNCE_MAX_WAIT=t.SUBMIT_DEBOUNCE_DURATION=t.PICKER_DEFAULT_TREE_DEPTH_MAP=t.PHONE_NUMBER_SOURCE=t.MEDIA_TO_TOKEN_NAME=t.MAX_DEFERRED_TIME=t.HIDE_PHONE_VERIFY_DELAY=t.FROM_PHONE_FOR_AUTO_FILL_SAVE_COOKIE=t.ENCRYPT_PHONE_COOKIE=t.AJAX_MESSAGE=t.AJAX_CODE=void 0;var o=r(n(1));t.graduallySelectCompleteStatus={incomplete:"INCOMPLETE",completed:"COMPLETED"},t.SUBMIT_DEBOUNCE_DURATION=2e3,t.SUBMIT_DEBOUNCE_MAX_WAIT=2e3,t.AJAX_MESSAGE={getTokenByBlackPhone:"根据用户反馈，系统不再支持该手机号的提交",getTokenFail:"表单信息提交失败，请重新尝试",repeatGetToken:"此手机号已提交成功，请更换手机号",repeatGetTokenWithNoPhone:"您已提交成功，请勿重复提交",notReviewed:"未审核通过的页面，暂不支持提交表单",incorrectAddress:"请输入正确的地址信息",submitFailByWrongSMSCode:"验证码输入错误，请重新输入",submitFailSMSCodeByTimeOut:"验证码已失效，请重新发送",submitFail:"表单信息提交失败，请重新尝试",submitSuccess:"表单提交成功",resubmit:"此手机号已提交成功，请更换手机号",resubmitWithNoPhone:"您已提交成功，请勿重复提交",submitFailIdCard:"姓名身份证不一致，请重新输入",submitFailIdCardMore:"姓名身份证不一致超过5次",reservationSuccessMessage:"活动预约成功, 我们将通过QQ提醒下发消息通知您"},t.AJAX_CODE={getTokenSuccess:0,repeatGetToken:102101,getTokenByBlackPhone:107101,notReviewed:107109,dirtyWords:103e3,incorrectAddress:102002,submitSuccess:0,submitFailByIllegal:2,resubmit:4,submitFailSMSCodeByTimeOut:107104,submitFailByWrongSMSCode:107105,submitFailNoSMSCode:107106,submitFailIdCard:102102},t.HIDE_PHONE_VERIFY_DELAY=600,t.MAX_DEFERRED_TIME=1e3,t.PICKER_DEFAULT_TREE_DEPTH_MAP={date:3,multiSelect:5,province:1,provinceCity:2,proCityArea:3,select:1},t.XJ_FORM_USER_AUTH_CODE="XJ_FORM_USER_AUTH_CODE",t.XJ_FORM_AUTO_FILL_AUTH_CODE="XJ_FORM_AUTO_FILL_AUTH_CODE",t.FROM_PHONE_FOR_AUTO_FILL_SAVE_COOKIE="FROM_PHONE_FOR_AUTO_FILL_SAVE_COOKIE",t.ENCRYPT_PHONE_COOKIE="ENCRYPT_PHONE_COOKIE",t.PHONE_NUMBER_SOURCE={USER:0,CLICK_BTN:1,AUTO_FILL:2,ALTER_AFTER_CLICK_BTN:3,ALTER_AFTER_AUTO_FILL:4},t.MEDIA_TO_TOKEN_NAME={QQ:"//".concat(o.default.cdnHost,"/tangram/jsbridge/api.js?max_age=0&_bid=3119"),IOSQQ:"//".concat(o.default.cdnHost,"/tangram/jsbridge/api.js?max_age=0&_bid=3119"),READ:"//mat1.gtimg.com/www/reading/android/js/jsapi/jsapi.js",QB:"//jsapi.qq.com/get?api=app.getAdvertisingID,device.getAndroidID,device.getOAID,device.getQAID,device.getQIMEI,device.getTAID",QNEWS:"//mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1"}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(123),o=n(345),i=n(398);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expr="",this.partial=!1,this.startPos=0,this.pos=0,this.tokenPos=0,this.expr=t.expr,this.lang=t.lang,this.partial=t.partial||!1}var t,n,s;return t=e,(n=[{key:"nextToken",value:function(){this.startPos=this.pos,this.skipWhitespace(),this.tokenPos=this.pos;var e=this.peek();if(!e)return this.token(r.c.EOF,"");var t=e.charCodeAt(0);return"."===e?(this.next(),this.readNum(e)):Object(o.c)(t)?this.readNum():"'"===e||'"'===e?this.readString():i.d[e]?this.token(r.c.PUNC,this.next()):i.b[e]?this.readOperator():Object(o.e)(t)?this.token(r.c.NAME,this.readName()):void this.error(r.b.UNEXPECTED_CHAR,{ch:e})}},{key:"peek",value:function(){return this.expr.charAt(this.pos)}},{key:"next",value:function(){var e=this.expr.charAt(this.pos);return this.pos+=1,e}},{key:"token",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:e,value:e===r.c.EOF?"":t,startPos:this.startPos,tokenPos:this.tokenPos,endPos:this.pos,partial:n,raw:this.expr.substring(this.tokenPos,this.pos),leadingSpace:this.expr.substring(this.startPos,this.tokenPos)}}},{key:"skipWhitespace",value:function(){for(;i.f[this.peek()];)this.next()}},{key:"readWhile",value:function(e){for(var t,n="",r=0;(t=this.peek())&&e(t,r+=1);)n+=this.next();return n}},{key:"readNum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!1,n=!1,i=!1,a="."===e,s=this.readWhile(function(e){var r=e.charCodeAt(0);return 120===r||88===r?!i&&(i=!0):101===r||69===r?!!i||!t&&(n=!0,t=!0):45===r||43===r?n:(n=!1,46===r?!(a||i||t)&&(a=!0):Object(o.b)(r))});e&&(s=e+s);var c=Object(o.h)(s);if(!isNaN(c))return this.token(r.c.NUM,c);this.error(r.b.INVALID_NUMBER,{num:s})}},{key:"readEscapedChar",value:function(){var e=this.next();switch(e||this.error(r.b.INVALID_STRING_ESCAPED_CHAR),e.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(this.hexBytes(2));case 117:return String.fromCharCode(this.hexBytes(4))}return e>="0"&&e<="7"?this.readOctalEscapeSequence(e):e}},{key:"readOctalEscapeSequence",value:function(e){var t=this.peek();return t>="0"&&t<="7"&&((e+=this.next())||this.error(r.b.INVALID_STRING_ESCAPED_CHAR),e[0]<="3"&&(t=this.peek())>="0"&&t<="7"&&((e+=this.next())||this.error(r.b.INVALID_STRING_ESCAPED_CHAR))),"0"===e?"\0":String.fromCharCode(parseInt(e,8))}},{key:"hexBytes",value:function(e){for(var t=0;e>0;--e){var n=this.next();n||this.error(r.b.INVALID_STRING_ESCAPED_CHAR);var o=parseInt(n,16);isNaN(o)&&this.error(r.b.INVALID_STRING_ESCAPED_CHAR),t=t<<4|o}return t}},{key:"readString",value:function(){for(var e="",t=this.next();;){var n=this.next();if(n||this.error(r.b.INVALID_STRING_END,{quote:t}),"\\"===n)n=this.readEscapedChar();else if(n===t)break;e+=n}return this.token(r.c.STRING,e)}},{key:"readName",value:function(){for(var e,t="";null!=(e=this.peek())&&Object(o.d)(e);)t+=this.next();return t}},{key:"readOperator",value:function(){var e=this,t=function t(n){if(!e.peek())return n;var r=n+e.peek();return i.a[r]?(e.next(),t(r)):n}((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||this.next());return this.token(r.c.OPERATOR,t)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.lang[e];if("string"==typeof n)throw new Error(Object(o.a)(n,t));throw new Error(n(t))}}])&&a(t.prototype,n),s&&a(t,s),e}()},function(e,t,n){(function(e){var r=n(50),o=n(515),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(this,n(128)(e))},function(e,t,n){var r=n(140),o=n(453);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){new A({container:document.querySelector(".xj-interactive-game")}),(0,l.disableSwipeBackGesture)()};var o=r(n(14)),i=r(n(21)),a=r(n(4)),s=r(n(5)),c=r(n(1));n(444);var u=r(n(10));n(445);var l=n(2),d=r(n(446)),p=r(n(452)),f=n(341),m=r(n(404)),h=r(n(433)),v=n(7),g=r(n(136));n.p="https://".concat(c.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/");var y=function(){try{var e=document.querySelector("#mcs-export_export_root");if(e)e.parentElement.style.overflow="hidden"}catch(e){console.error("fixStyle error",e)}},A=function(){function e(t){var n=this,r=t.container;(0,a.default)(this,e),this.tryFetchOuterMaterial=function(){if(!(c.default.commonConfig&&c.default.commonConfig.refCreative&&c.default.commonConfig.refCreative.use&&c.default.commonConfig.creativeToConfigMap))return null;var e=(0,l.getParameter)(location.href,"ad_id");return e&&"default-h5"!==c.default.pageType?new Promise(function(t,n){return window.sfetch("".concat(v.backendUrl,"/page/creativeId"),{method:"post",body:JSON.stringify({tid:e,isShowOuterMaterial:1}),mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(0!==e.code||!e.data.outerMaterialData)throw new Error("fallback, 请求异常");var n=e.data.outerMaterialData.originalVideoUrl;t(n?{material:{video:n.replace("http:","https:")},configMap:c.default.commonConfig.creativeToConfigMap}:null)})}):null},document.body.parentNode.classList.add("with-xj-interactive-game"),this.config=JSON.parse(r.dataset.config),this.$container=r,this.config,this.resetGlobalSetter(),this.initTransformElement(),Promise.resolve().then(function(){return n.tryFetchOuterMaterial()}).then(function(e){return e?n.executeSetMaterialInTemplate(n.config,e.material,e.configMap).then(function(){n.initGame()}):(n.initGame(),void new m.default)})}return(0,s.default)(e,[{key:"resetGlobalSetter",value:function(){c.default.pageTitle&&Object.defineProperty(document,"title",{set:function(){}})}},{key:"initTransformElement",value:function(){(0,l.getInteractiveShouldDownload)()&&n(52).default.init()}},{key:"executeSetMaterialInTemplate",value:function(){var e=(0,i.default)(o.default.mark(function e(t,n,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{r.video.forEach(function(e){(0,g.default)(t,e.path,n.video)})}catch(e){e.message}return e.abrupt("return");case 2:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"initGame",value:function(){var e=(0,i.default)(o.default.mark(function e(){var t,r,i,a,s,m,v=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:new h.default,t=this.config,r=(0,l.getInteractiveShouldDownload)(),i=!c.default.transformType&&-1===["QuestionAndAnswer"].indexOf(t.gameType),(r||i)&&(a=n(43).default,t.downloadManager=new a),s={RedPack:{value:"//".concat(c.default.cdnHost,"/ams-web/public/xj-game/rain/index.js"),key:"XJGame"},ChickenGame:{value:"//".concat(c.default.cdnHost,"/ams-web/public/xj-game/chicken/index.js"),key:"XJGame"},Eliminate:{value:"//".concat(c.default.cdnHost,"/ams-web/public/xj-game/eliminate/index.js"),key:"XJGame"},Pinball:{value:"//".concat(c.default.cdnHost,"/ams-web/public/xj-game/pinball/index.js"),key:"XJGame"},Doll:{value:"//".concat(c.default.cdnHost,"/ams-web/public/xj-game/doll/index.js"),key:"XJGame"}},m=s[t.gameType],e.t0=t.loadType,e.next="isv"===e.t0?10:"cdn"===e.t0?14:"xjComponent"===e.t0?18:22;break;case 10:return(0,d.default)(t),document.getElementById("root").style.minHeight="auto",(0,u.default)("".concat(t.loadPath,"index.js"),{error:function(){t.gameType},success:function(){y()}}),e.abrupt("break",22);case 14:return(0,p.default)(t),window.XJ_INTERACTIVE_SDK.invoke("viewchange",function(e){e.data.viewable}),(0,u.default)(m.value,{success:function(){new window[m.key](t,v.$container),y()},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}}),e.abrupt("break",22);case 18:(0,p.default)(t),e.next=22;break;case 22:f.DelayEvent.ready(f.EVENTS.INTERACTIVE_GAME_INIT);case 23:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){},function(e,t,n){"use strict";var r=n(12);!function(e){if(!e.viewerUtils||!e.viewerUtils.sendDMP){var t=new r.Report;e.viewerUtils.sendDMP=t.dmpReport.bind(t),e.viewerUtils.DMPTYPE=r.REPORT_TYPE}}(window)},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),a=r(n(5)),s=r(n(46)),c=r(n(36)),u=r(n(34)),l=r(n(8)),d=r(n(395)),p=r(n(19)),f=r(n(1)),m=r(n(37)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(47)),v=r(n(148)),g=n(12),y=n(306),A=r(n(120)),_=r(n(373)),b=r(n(368)),w=n(396),T=n(388),E=r(n(449)),S=n(450),O=r(n(451)),I=n(386),C=r(n(400));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}t.default=function(e){new g.Report;new(function(t){(0,c.default)(r,t);var n=k(r);function r(){var t;(0,i.default)(this,r),(t=n.call(this)).postMessageToMaker=y.postMessageToMaker.bind((0,s.default)(t)),t.timingHandler=y.timingHandler.bind((0,s.default)(t)),t.transformStatusChangeHandler=y.transformStatusChangeHandler.bind((0,s.default)(t)),t.fallbackUrlHandler=y.fallbackUrlHandler.bind((0,s.default)(t)),t.setExtraDataHandler=function(e){var n=e.payload,r=n.key,o=n.value;A.default.setExtraData(r,o),t.postMessageToMaker("setExtraData",{key:r,value:o})},t._onshowCallbackQueue=[],t.onshowHandler=function(e){var n=e.callback,r=function(){n()};t.postMessageToMaker("onshow"),v.default.viewable?r():t._onshowCallbackQueue.push(r)},t.visibilitychangeHandler=function(e){var n=e.callback;t.postMessageToMaker("visibilitychange"),h.default.onChange(function(e){e===h.STATE_VISIBLE?n(t.VISIBILITY.VISIBLE):n(t.VISIBILITY.HIDDEN)})},t.transform=(0,_.default)(function(e){var n=(0,I.getAlitaLeadsUuid)();if(n)(0,I.reportAlitaReservationCheck)(n,A.default.getExtraDataAll());else if(t.postMessageToMaker("transform"),e&&e.clickArea&&y.transformTdwReport.call((0,s.default)(t),e),m.default.sendRPT(m.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),A.default.onPlayDurationReady(p.default.reportReward.bind(p.default)),f.default.isContact)A.default.showContact();else switch(f.default.transformType){case"websiteLink":var r=document.getElementsByClassName("xj-website-link-button");r.length&&r[0].click();break;case"appDownload":document.getElementsByClassName("J_InteractiveHiddenButton")[0].click();break;case"websiteForm":A.default.showFormLayer();break;case"websiteConnect":A.default.showConnect();break;case"websitePhone":A.default.showPhone();break;case"websiteWXAttention":A.default.triggerWxAttention();break;case"websiteMiniProgram":A.default.jumpMiniProgram();break;case"websiteHapLink":A.default.jumpWebsiteHapLink();break;default:f.default.playableType}},400,{trailing:!1}),v.default.onShow(function(){A.default.addFallbackGameEndListener(p.default.reportReward.bind(p.default))}),v.default.onShow(function(){t._onshowCallbackQueue.forEach(function(e){e()}),t._onshowCallbackQueue=[]}),t.QaCanvasUtils=Object.assign({},w.QaCanvasUtils,{_config:e}),t.TTSUtils=new T.TTSUtils({config:e}),t.DSPUtils=new E.default({onUpdateTransform:function(e,t){if("websiteLink"===e){var n=(0,S.getLinkButton)();if(!n)return;var r=JSON.parse(n.dataset.value);r.url=t,n.dataset.value=JSON.stringify(r)}}});var o=(0,b.default)(e,"$commonConfig.extendWidgetsPersonalQA._disposableData");return o&&(t.PersonalQAUtils=new O.default({data:o,transformGuideText:function(){if(C.default.getOpenQaSta())return"";switch(f.default.transformType){case"websiteForm":return"亲亲，方便留个电话号码吗？这边安排客服MM给您提供报价方案哈～";case"websitePhone":case"websiteConnect":return"亲亲，这边安排了一个客服MM给您做详细方案介绍，点击下方按钮就可以联系上TA哈～";case"websiteWXAttention":return"亲亲，这边安排了一个客服MM给您做详细报价哈，点击下方按钮加TA好友就可以领取啦～";default:return""}}(),onSelect:function(e){var n=e.key,r=e.value,o=e.extendData;A.default.setExtraData(n,r,o),t.postMessageToMaker("setExtraData",{key:n,value:r})},openQAOptions:C.default.getQuery2Params(),getQAReply:function(e){var t=e.xj_ui,n=e.b_type,r=e.adgroupid,o=e.sessionKey,i=e.question;return C.default.getQAReply({xj_ui:t,b_type:n,adgroupid:r,sessionKey:o,question:i})},getOpenQaSta:C.default.getOpenQaSta()})),t}return(0,a.default)(r,[{key:"getConfigAsync",value:function(){return this.postMessageToMaker("getConfigAsync"),Promise.resolve(e)}},{key:"getEnv",value:function(){this.postMessageToMaker("getEnv");var t=C.default.getOpenQaSta();return{mute:p.default.getSceneEnv().disableVideoAutoplay,publicPath:e.loadPath,suggestVideoProp:A.default.getVideoProp(),autoTransform:["websiteForm"].includes(f.default.transformType),openQA:t,transformable:!t}}},{key:"spaDownloaderClick",value:function(e,t){var n=f.default.marketDownloadEnable,r=void 0!==n&&n,o=t.downloadPercentage;!0===r&&(void 0===o?0:o)<=0?e.handleMarketDownload():e.handleDownloadClick()}}]),r}(d.default))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_NAME=void 0;t.SDK_NAME="XJ_INTERACTIVE_SDK"},function(e,t,n){var r=n(138),o=n(139);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var r=n(4),o=n.n(r),i=n(5),a=n.n(i),s=n(2),c=function(){function e(t){o()(this,e),this.thisOptions=t}return a()(e,[{key:"getMacroQueryAll",value:function(){return Object(s.getMacroQueryObject)()}},{key:"updateTransform",value:function(e){var t=e.transformType,n=e.url;this.thisOptions.onUpdateTransform(t,n)}}]),e}()},function(e,t,n){"use strict";function r(){var e=document.getElementsByClassName("xj-website-link-button");if(e)return e[0]}n.r(t),n.d(t,"getLinkButton",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var r,o=n(3),i=n.n(o),a=n(21),s=n.n(a),c=n(4),u=n.n(c),l=n(5),d=n.n(l),p=n(14),f=n.n(p);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e[e.TEXT=1]="TEXT",e[e.QAR=2]="QAR",e[e.QQR=3]="QQR"}(r||(r={}));var v=function(){function e(t){var n=this;if(u()(this,e),this._nextIndex=0,this._finalData={content:[]},t.data){var o=-1;this._onSelect=t.onSelect,this._originContentGroupUUID=t.data.contentUuid,this._openQAOptions=t.openQAOptions,this._getQAReply=t.getQAReply,this._getOpenQaSta=t.getOpenQaSta;try{this._finalData.content=t.data.contentList.reduce(function(e,t,o){var i=null;try{i={id:t.questionId,type:t.questionType,context:function(){switch(t.questionType){case r.TEXT:if(t.question)return{q:t.question};console.warn("".concat(r.TEXT,": contentIndex => ").concat(o));case r.QAR:var e={q:t.question,a:t.contentList.answers.reduce(function(e,t,n){return t.answer&&t.cutscenes?e.concat({a:t.answer,r:t.cutscenes}):(console.warn("".concat(r.QAR,": contentIndex => ").concat(o,", itemIndex => ").concat(n)),e)},[])};if(e.q&&e.a&&e.a.length>0)return e;case r.QQR:var i={q:n._getOpenQaSta?"您看有什么想要了解的信息吗？":"请问您还有其他问题吗？",a:t.contentList.questionList.reduce(function(e,t,n){return t.question&&t.answer?e.concat({a:t.question,r:t.answer}):(console.warn("".concat(r.QQR,": contentIndex => ").concat(o,", itemIndex => ").concat(n)),e)},[])};if(i.q&&i.a&&i.a.length>0)return i}}(),showTransform:!1}}catch(e){console.warn("format contentList error:",e)}return i&&i.context?e.concat(i):e},[]);var i=this._finalData.content.length;this._finalData.content.forEach(function(e,t){t+1==i?(o=-1===o?t:o,e.showTransform=!0):e.showTransform=!1}),t.transformGuideText&&(this._finalData.content[o].showTransform=!1,this._finalData.content.splice(o+1,0,{id:"-1",type:r.TEXT,context:{q:t.transformGuideText},showTransform:!1}))}catch(e){console.warn("[error][personalQA]",e.message)}}}return d()(e,[{key:"getAsync",value:function(){var e=s()(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this._finalData.content[this._nextIndex]||null)&&[r.TEXT].includes(t.type)&&this._nextIndex++,e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"select",value:function(e,t){var n=-1,o=this._finalData.content.find(function(t,r){return t.id===e&&(n=r,!0)});switch(o.type){case r.TEXT:return;case r.QAR:var i;return this._nextIndex=n+1,void this._onSelect({key:o.context.q,value:(null===(i=o.context.a[t])||void 0===i?void 0:i.a)||"其他",extendData:{qa_from:1,qa_group_uuid:this._originContentGroupUUID,qa_cur_id:o.id}});case r.QQR:var a,s;return this._nextIndex=n+1,void this._onSelect({key:(null===(a=o.context.a[t])||void 0===a?void 0:a.a)||"其他",value:(null===(s=o.context.a[t])||void 0===s?void 0:s.r)||"其他",extendData:{qa_from:2,qa_group_uuid:this._originContentGroupUUID,qa_cur_id:o.id}})}}},{key:"getChatReply",value:function(){var e=s()(f.a.mark(function e(t){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._openQAOptions,e.next=3,this._getQAReply(h(h({},n),{},{question:t}));case 3:return 0===(r=e.sent).resCode&&r.context.q&&this._onSelect({key:t||"其他",value:r.context.q||"其他",extendData:{qa_from:2,qa_group_uuid:this._originContentGroupUUID,qa_cur_id:""}}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(46)),s=r(n(36)),c=r(n(34)),u=r(n(8)),l=r(n(395)),d=r(n(1)),p=r(n(37)),f=n(12),m=n(306),h=r(n(120)),v=r(n(373)),g=n(396),y=n(388),A=r(n(19)),_=r(n(148)),b=n(386);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}t.default=function(e){new f.Report;new(function(t){(0,s.default)(r,t);var n=w(r);function r(){var t;return(0,o.default)(this,r),(t=n.call(this)).viewchangeHandler=m.viewchangeHandler,t.transformStatusChangeHandler=m.transformStatusChangeHandler.bind((0,a.default)(t)),t.timingHandler=function(e){if(m.timingHandler.call((0,a.default)(t),e),"QuestionAndAnswer"===d.default.gameType&&e.payload===t.TIMING.END){var n=(0,b.getAlitaLeadsUuid)();if(n)return void(0,b.reportAlitaReservationCheck)(n,h.default.getExtraDataAll());switch(d.default.transformType){case"websiteWXAttention":h.default.showWxAttention();break;case"websiteMiniProgram":h.default.showMiniProgram();break;case"websiteForm":h.default.showFormLayer();break;case"websiteHapLink":h.default.showWebsiteHapLink()}}},t.fallbackUrlHandler=m.fallbackUrlHandler.bind((0,a.default)(t)),t.setExtraDataHandler=function(e){var t=e.payload,n=t.key,r=t.value;return h.default.setExtraData(n,r)},t.transform=(0,v.default)(function(e){if(d.default.transformType,e&&e.clickArea&&m.transformTdwReport.call((0,a.default)(t),e),p.default.sendRPT(p.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),h.default.onPlayDurationReady(A.default.reportReward.bind(A.default)),d.default.isContact)h.default.showContact();else switch(d.default.transformType){case"websiteLink":var n=document.getElementsByClassName("xj-website-link-button");n.length&&n[0].click();break;case"appDownload":document.getElementsByClassName("J_InteractiveHiddenButton")[0].click();break;case"websiteWXAttention":h.default.triggerWxAttention();break;case"websiteForm":h.default.showFormLayer();break;case"websiteConnect":h.default.showConnect();break;case"websitePhone":h.default.showPhone();break;case"websiteMiniProgram":h.default.jumpMiniProgram();break;case"websiteHapLink":h.default.jumpWebsiteHapLink();break;default:d.default.playableType}},400,{trailing:!1}),_.default.onShow(function(){h.default.addFallbackGameEndListener(A.default.reportReward.bind(A.default),{slideCount:4,touchCount:4,requiredPlayTime:2e4})}),t.QaCanvasUtils=Object.assign({},g.QaCanvasUtils,{_config:e}),t.TTSUtils=new y.TTSUtils({config:e}),t}return(0,i.default)(r,[{key:"downloadStatusChangeHandler",value:function(t){var n=t.callback;e.downloadManager&&e.downloadManager.spaDownloader.on("statusChange",function(e){n(e)})}}]),r}(l.default))}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(460),o=n(569),i=n(440);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(574),o=n(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},function(e,t,n){var r=n(580);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(345),o=n(398),i=n(438),a=n(123);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokenizer=new i.a({expr:t,lang:n,partial:!1}),this.lang=n,this.token=this.tokenizer.nextToken()}var t,n,c;return t=e,c=[{key:"isToken",value:function(e,t,n){return e.type===t&&(null==n||e.value===n)}}],(n=[{key:"process",value:function(){var e=this.processExpression();return this.is(a.c.EOF)||this.error(a.b.INVALID_EXPRESSION_END),e}},{key:"processExpression",value:function(){return this.processBinary(this.processUnary(),0)}},{key:"next",value:function(){return this.token=this.tokenizer.nextToken()}},{key:"is",value:function(t,n){return e.isToken(this.token,t,n)}},{key:"expectToken",value:function(e,t){this.is(e,t)?this.next():this.error(a.b.UNEXPECTED_TOKEN,{type:e,value:String(t)})}},{key:"expectPunc",value:function(e){return this.expectToken(a.c.PUNC,e)}},{key:"processUnary",value:function(){var e=this.is(a.c.OPERATOR)?this.token.value:null;return e&&o.e[e]?(this.next(),{type:a.a.UNARY,op:e,expression:this.processUnary()}):this.processAtom()}},{key:"processBinary",value:function(e,t){var n=this.is(a.c.OPERATOR)?this.token.value:null;if(null==n)return e;var r=o.c[n];if(null!=r&&r>t){this.next();var i=this.processBinary(this.processUnary(),r);return this.processBinary({type:a.a.BINARY,left:e,op:n,right:i},t)}return e}},{key:"processAtom",value:function(){var t=this.token;if(e.isToken(t,a.c.PUNC)){if("("===t.value){this.next();var n=this.processExprList(")");return n.length>1&&this.error(a.b.UNEXPECTED_COMMA),this.processSubscripts({type:a.a.PARENTHESES,expression:n[0]})}this.error(a.b.UNEXPECTED_TOKEN,{type:t.type,value:String(t.value)})}if(t.type===a.c.STRING||t.type===a.c.NUM||t.type===a.c.NAME)return this.processSubscripts(this.processAtomNode());this.error(a.b.UNEXPECTED_TOKEN,{type:t.type,value:String(t.value)})}},{key:"processSubscripts",value:function(e){return this.is(a.c.PUNC,"(")?(this.next(),e.type!==a.a.SYMBOL&&this.error(a.b.UNSUPPORTED_CALL_EXPRESSION,{type:e.type}),this.processSubscripts({type:a.a.CALL,expression:e,args:this.processExprList(")")})):e}},{key:"processExprList",value:function(e){for(var t=!0,n=[];!this.is(a.c.PUNC,e);)t?t=!1:this.expectPunc(","),n.push(this.processExpression());return this.next(),n}},{key:"processAtomNode",value:function(){var e=this.token;return e.type===a.c.NAME?(this.next(),{type:a.a.SYMBOL,value:e.value,raw:e.raw}):(this.next(),{type:a.a.LITERAL,literal:e.type,value:e.value,raw:e.raw})}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.lang[e];if("string"==typeof n)throw new Error(Object(r.a)(n,t));throw new Error(n(t))}}])&&s(t.prototype,n),c&&s(t,c),e}()},,,function(e,t,n){var r=n(513),o=n(465),i=n(71),a=n(439),s=n(143),c=n(466),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),p=!n&&!l&&!d&&c(e),f=n||l||d||p,m=f?r(e.length,String):[],h=m.length;for(var v in e)!t&&!u.call(e,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,h))||m.push(v);return m}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.querySelector(".xj-wx-redpacket-content"),t=document.querySelector(".xj-wx-redpacket-chat-item-redpack"),n=document.querySelector(".xj-wx-redpacket-dialog-container"),r=document.querySelector(".xj-wx-redpacket-dialog-rate"),o=document.querySelector(".xj-wx-redpacket-click-step1"),d=document.querySelector(".xj-wx-redpacket-click-step2"),p=document.querySelector(".xj-wx-redpacket-click-step3"),f=document.querySelector(".xj-wx-redpacket-receive"),m=document.querySelector(".xj-wx-redpacket-receive-button .xj-download-button.xj-wx-redpacket-receve-button-content"),h=document.querySelector(".xj-interactive-game"),v=h?JSON.parse(h.dataset.config):null,g=window.viewerUtils.parseUrl().gdt_product_id;v&&v.scenes[0].riskTip&&v.scenes[0].riskTip.text||![1105602870,1109845168,1142110895,1477031443].includes(Number(g))||[document.querySelector(".xj-wx-redpacket-chat-item-rp-tip"),document.querySelector(".xj-wx-redpacket-dialog-header-tip"),document.querySelector(".xj-wx-redpacket-receive-risk-tip")].forEach(function(e){e.innerHTML="具体金额以端内活动规则为准，满0.3元可提现"});a.DelayEvent.onReady(a.EVENTS.INTERACTIVE_GAME_INIT,function(){m.addEventListener("click",function(){window.XJ_INTERACTIVE_SDK.transform()}),window.XJ_INTERACTIVE_SDK.invoke("downloadStatusChange",function(e){m.progressInstance=m.progressInstance||new s.default(m),m.progressInstance.setState(e)})});var y=!1,A=!1,_=!1,b=!1,w=null;c&&c({attr:"playable_dom_ready",val:1,count:1,from:"WXRedpacket"},"c0055bbe00dee90e"),window.addEventListener("load",function(e){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_RESOURCE_LOAD_COMPLETED),c&&c({attr:"playable_onload",val:1,count:1,from:"WXRedpacket"},"c0055bbe00dee90e")});var T=setTimeout(function(){u(t),clearTimeout(T)},700),E=setTimeout(function(){y||(u(o),clearTimeout(E))},2700),S=setTimeout(function(){b||O()},6e3);t.addEventListener("click",function(e){O(),b=!0,clearTimeout(S)});r.addEventListener("click",function(e){I(),_=!0,clearTimeout(w)});var O=function(){u(n),l(o),y=!0;var e=setTimeout(function(){A||(u(d),clearTimeout(e))},1500);w=setTimeout(function(){_||I()},4e3),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_START),c&&c({attr:"play_step1",val:1,count:1,from:"WXRedpacket"},"c0055bbe00dee90e")},I=function(){C(),l(o),l(d),l(p),A=!0,r.classList.add("xj-wx-redpacket-coin-animation");var t=setTimeout(function(){l(n),l(e),u(f),clearTimeout(t)},700),i=setTimeout(function(){u(p),clearTimeout(i)},1400);c&&c({attr:"play_step2",val:1,count:1,from:"WXRedpacket"},"c0055bbe00dee90e"),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_END)},C=function(){var e=document.querySelector(".xj-wx-redpacket-receive-money");try{var t=JSON.parse(e.dataset.realmoneymin),n=JSON.parse(e.dataset.realmoneymax),r=(0,i.getRandom)(t,n);e.innerHTML=r}catch(e){}};window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.DOWNLOAD_AFTER_GAME_END),m.addEventListener("click",function(){c&&c({attr:"click_to_download",val:1,count:1,from:"WXRedpacket"},"c0055bbe00dee90e")},!1)};var o=r(n(6));n(463);var i=n(349),a=(r(n(1)),n(341)),s=r(n(126)),c=function(e,t){"gxt report: ".concat(e.attr),e&&(0,o.default)(e)},u=function(e){e.classList.remove("hidden")},l=function(e){e.classList.add("hidden")}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(4)),a=r(n(5)),s=n(349),c=n(341),u=r(n(71)),l=r(n(522));n(523);var d=r(n(126));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var f=new(function(){function e(){var t=this;(0,i.default)(this,e),this.showCallback=function(){var e=document.querySelector(".xj-interactive-game .reward-dialog"),t=document.querySelector(".xj-interactive-game .reward-content");e.classList.remove("hidden"),t.classList.remove("hidden"),document.querySelector(".bg-guang").classList.remove("hidden"),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_END)},this.hideCallback=function(){t.hideDialog()},this.getDialogType=function(){return document.querySelector(".xj-interactive-game .reward-dialog").getAttribute("data-dialogtype")},this.getRewardConfig=function(){var e=document.querySelector(".xj-interactive-game .reward-dialog");try{return JSON.parse(e.getAttribute("data-rewardConfig"))}catch(e){return{}}},this.getTemplateName=function(){return document.querySelector(".xj-interactive-game .reward-dialog").getAttribute("data-templatename")},this.getRealRewardContent=function(e){var n=t.getRewardConfig()||{};return(0,l.default)(parseInt(e,10))&&(0,u.default)(n)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({desc:n[e].desc},n[e].rewardContent):e||"[object Object]"!==Object.prototype.toString.call(n)?void 0:n},this.renderRewardDesc=function(e){var t=document.querySelector(".reward-content .desc");e.desc&&(t.innerHTML=e.desc)},this.renderPrize=function(e){var n,r=document.querySelector(".reward-content .real-prize");if("money"===e.style){var o=e&&e.moneyNumMin,i=e&&e.moneyNumMax,a=(0,s.getRandom)(o,i);n='\n            <div class="money">'.concat(a,'.00</div>\n            <div class="unit" style="font-size: 0.4865rem;">元</div>\n        '),r.innerHTML=n}else"goods"===e.style&&((0,s.preloadImg)(e.goodsImg),t.DrawImage(e.goodsImg,300,300,t.setImgSize),n='<img class="goods" src='.concat(e.goodsImg,"/>"));r.innerHTML=n},this.hideDialog=function(){var e=document.querySelector(".xj-interactive-game .reward-dialog"),t=document.querySelector(".xj-interactive-game .reward-content");e.classList.add("hidden"),t.classList.add("hidden"),document.querySelector(".bg-guang").classList.add("hidden")},this.renderReward=function(e){if(!("image"===t.getDialogType())){var n=t.getRealRewardContent(e);if("goods"===n.style&&t.renderGoodsPage(),t.renderPrize(n),t.renderRewardDesc(n),"SlotMachine"===t.getTemplateName()){var r=document.querySelector(".xj-interactive-game .reward-dialog .risk-tip");r&&("money"===n.style?r.style.top="7.6rem":r.style.top="8.4rem")}}},this.bindEvents=function(){var e=t.props,n=e.onClose,r=e.onBottomTipClick,o=document.querySelector(".xj-interactive-game .reward-dialog");if(JSON.parse(o.getAttribute("data-isAllowClose"))){document.querySelector(".reward-dialog .mask").addEventListener("click",function(){t.hideDialog(),n()},!1);var i=document.querySelector(".reward-dialog .close-btn");i&&i.addEventListener("click",function(){t.hideDialog(),n()},!1)}if(r){var a=document.querySelector(".reward-dialog .tips");a&&a.addEventListener("click",function(){r()})}}}return(0,a.default)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onClose,r=void 0===n?function(){}:n,o=t.onBottomTipClick,i=void 0===o?function(){}:o;this.props={onClose:r,onBottomTipClick:i};var a=document.querySelector(".reward-dialog .xj-download-button");c.DelayEvent.onReady(c.EVENTS.INTERACTIVE_GAME_INIT,function(){a.addEventListener("click",function(){window.XJ_INTERACTIVE_SDK.transform()}),window.XJ_INTERACTIVE_SDK.invoke("downloadStatusChange",function(e){a.progressInstance=a.progressInstance||new d.default(a),a.progressInstance.setState(e)})}),this.renderReward(e),this.bindEvents()}},{key:"renderGoodsPage",value:function(){var e=document.querySelector(".xj-interactive-game .reward-content"),t=document.querySelector(".xj-interactive-game .desc"),n=document.querySelector(".xj-interactive-game .real-prize"),r=document.querySelector(".xj-interactive-game .download-btn "),o=r.querySelector("button");e.style.width="6.9333rem",e.style.height="8.1600rem",e.style.backgroundImage="url('//xj.gdtimg.com/xjimg/0/f684f6b9c134fddb59d11a2fa42b8c7c29182d95.png/0')",t.style.top="0.7600rem",n.style.top="22.3%",n.classList.add("real-prize-goods"),r.style.bottom="0.7600rem",o.style.width="4.5333rem"}},{key:"DrawImage",value:function(e,t,n,r){var o,i,a=new Image;a.src=e,a.onload=function(){a.width>0&&a.height>0&&(a.width/a.height>=t/n?a.width>t?(o=t,i=a.height*t/a.width):(o=a.width,i=a.height):a.height>n?(i=n,o=a.width*n/a.height):(o=a.width,i=a.height),r(o/2,i/2))}}},{key:"setImgSize",value:function(e,t){var n=document.querySelector(".goods");n.style.width="".concat(e/150*4,"rem"),n.style.height="".concat(e/150*4,"rem")}}]),e}());t.default={init:function(e,t){return f.init(e,t)},showCallback:f.showCallback,hideCallback:f.hideCallback,updateReward:f.renderReward}},function(e,t,n){var r=n(514),o=n(124),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var r=n(516),o=n(435),i=n(436),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(406),o=n(517),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(123),o=n(345);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.result=o.g,this.ast=t}var t,n,a;return t=e,(n=[{key:"process",value:function(){return this.result=this.print(this.ast),this.getResult()}},{key:"getResult",value:function(){return this.result}},{key:"print",value:function(e){switch(e.type){case r.a.UNARY:return this.printUnary(e);case r.a.BINARY:return this.printBinary(e);case r.a.LITERAL:return this.printLiteral(e);case r.a.SYMBOL:return this.printSymbol(e);case r.a.CALL:return this.printCall(e);case r.a.PARENTHESES:return this.printParentheses(e)}}},{key:"printUnary",value:function(e){var t=e.op,n=e.expression,r=this.print(n);switch(t){case"+":return r;case"-":return function(e,t){return-r(e,t)};default:return o.g}}},{key:"printBinary",value:function(e){var t=e.op,n=e.left,r=e.right,i=this.print(n),a=this.print(r);switch(t){case"+":return function(e,t){return i(e,t)+a(e,t)};case"-":return function(e,t){return i(e,t)-a(e,t)};case"*":return function(e,t){return i(e,t)*a(e,t)};case"/":return function(e,t){return i(e,t)/a(e,t)};case"%":return function(e,t){return i(e,t)%a(e,t)};case"^":return function(e,t){return Math.pow(i(e,t),a(e,t))};default:return o.g}}},{key:"printCall",value:function(e){var t=this,n=e.expression.value,r=e.args.map(function(e){return t.print(e)});return function(e,t){var o=t[n];return"function"==typeof o?o.apply(void 0,i(r.map(function(n){return n(e,t)}))):o}}},{key:"printLiteral",value:function(e){var t=e.literal,n=e.value;return t===r.c.NUM?function(){return n}:function(e){return e[n]}}},{key:"printSymbol",value:function(e){var t=e.value;return function(e,n){var r=n[t];return"function"==typeof r?r():r}}},{key:"printParentheses",value:function(e){return this.print(e.expression)}}])&&s(t.prototype,n),a&&s(t,a),e}()},function(e,t,n){"use strict";var r=n(345),o=n(123);t.a=Object(r.f)(Object.keys(o.b))},,,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-richEditor"),t=document.querySelectorAll(".xj-basic-text span"),n=function(t){var n=e[t].getAttribute("data-value");e[t].innerHTML=n,(0,i.on)(e[t],"click",function(n){var r=JSON.parse(e[t].getAttribute("data-link"));if(r.isLink){if("link"===r.linkType){if(-1===u.default.pageType.indexOf("website-h5"))return;var o=new a.Report;o.dmpReport({actionType:a.REPORT_TYPE.LINK,customAction:""}),o.dmpReport({map:a.REPORT_TYPE_MAPS.NEW_GAME_ORDER})}var s=JSON.parse(e[t].getAttribute("data-clipboard")||"{}");(0,i.jumpLinkCommonFunction)({type:r.linkType,data:d(d({},r),{},{clipboardConfig:s}),event:n})}}),p(e[t])},r=0;r<e.length;r++)n(r);for(var o=function(e){var n=t[e].getAttribute("data-value");t[e].innerHTML=n,(0,i.on)(t[e],"click",function(n){var r=JSON.parse(t[e].getAttribute("data-link"));if(r.isLink){if("link"===r.linkType){if(-1===u.default.pageType.indexOf("website-h5"))return;var o=new a.Report;o.dmpReport({actionType:a.REPORT_TYPE.LINK,customAction:""}),o.dmpReport({map:a.REPORT_TYPE_MAPS.NEW_GAME_ORDER})}var s=JSON.parse(t[e].getAttribute("data-clipboard"));(0,i.jumpLinkCommonFunction)({type:r.linkType,data:d(d({},r),{},{clipboardConfig:s}),event:n})}}),p(t[e].parentNode)},l=0;l<t.length;l++)o(l);try{(0,i.previewShowArea)("xj-basic-text"),(0,i.previewShowArea)("xj-richEditor"),c.default.init();var f=document.querySelectorAll(".xj-text");[].forEach.call(f,function(e){var t=e.dataset,n=t.giftId,r=t.componentId,o=t.giftModalInited;n&&!o&&(new s.default("div.xj-text[data-component-id='".concat(r,"']"),n,"text"),e.dataset.giftModalInited="true")})}catch(e){}};var o=r(n(3));n(475);var i=n(2),a=n(12),s=r(n(301)),c=r(n(343)),u=r(n(1));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t="true"===e.dataset.inlayout,n=e.dataset.layoutid;if(t&&!n)try{!function(){var t=e.parentNode.parentNode,n=window.getComputedStyle(t),r=t.parentNode.parentNode,o=parseFloat(window.getComputedStyle(r).height),i=parseFloat(window.getComputedStyle(e).height),a=parseFloat(n.top),s=i-parseFloat(n.height);r.style.height=o+s+"px",t.style.height=i+"px";for(var c=r.getElementsByClassName("xj-layout-components"),u=0;u<c.length;u++)if(c[u]!==t){var l=window.getComputedStyle(c[u]),d=parseFloat(l.top);a+i>=d||(c[u].style.top=d+s+"px")}}()}catch(e){console.error("text组件高度处理失败")}}},function(e,t,n){},,,,function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(481),o=n(482),i=n(455),a=n(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(461)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(481),o=n(71);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){new m};var o=r(n(3)),i=r(n(5)),a=r(n(4));n(485);var s=n(11),c=r(n(1)),u=r(n(26)),l=(r(n(148)),n(44));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p={DEVELOPMENT:"development",TESTING:"test",PRE_RELEASE:"prerelease",PRODUCTION:"prod"},f=[p.DEVELOPMENT,p.TESTING].includes(c.default.env),m=(0,i.default)(function e(){var t=this;(0,a.default)(this,e),this.init=function(){if(t.$container){var e=["MINIGAME_INTERACTION","WEBSITE_INTERACTION","ZIP_INTERACTION"].includes(c.default.playableType),n=(0,l.getExpParams)()||{},r=parseInt(n.feedbackTop,10),o=parseInt(n.feedbackBottom,10),i=parseInt(n.feedbackBottomAndTop,10),a=parseInt(n.withLevelEvent,10);if((i||r||o)&&!a){var u=document.createElement("link");u.href=t.cssSrc,u.rel="stylesheet",u.type="text/css",u.crossorigin="anonymous",document.getElementsByTagName("head")[0].appendChild(u);var d=document.createElement("script");d.type="text/javascript",d.crossorigin="anonymous",d.src=t.jsSrc,d.onload=function(){window.__BRICKS_COMPONENTS__&&window.__BRICKS_COMPONENTS__.Feedback&&(t.bindEvent(),!i&&!o||e||(t.$bottonContainer.style.display="block"),(i||r)&&setTimeout(function(){t.$openTriggerTop.style.display="flex",(0,s.TdwReport)().clickReport({reportName:"XJFeedback"},{action_type:"xj_feedback_exposure",status:{position:"top",trace_url:window.location.href}})},5e3))},document.body.appendChild(d)}}},this.bindEvent=function(){var e={env:f?"test":"production",businessId:"xj_landingpage",advertiserId:window.viewerData.accountId,traceId:(0,l.getTraceId)(),evaluate:"",pageId:window.viewerData.pageId,pageUrl:window.location.href,templateId:1,onSubmit:function(e){e&&(t.$openTriggerTop.style.display="none",(0,s.TdwReport)().clickReport({reportName:"XJFeedback"},{action_type:"xj_feedback_submit",status:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)}))},onClose:function(){(0,s.TdwReport)().clickReport({reportName:"XJFeedback"},{action_type:"xj_feedback_close",status:{trace_url:window.location.href}})}};t.$openTriggerPositive&&u.default.on(t.$openTriggerPositive,"tap",function(t){e.evaluate="positive",window.__BRICKS_COMPONENTS__.Feedback.show(e),(0,s.TdwReport)().clickReport({reportName:"XJFeedback"},{action_type:"xj_feedback_click",status:{feedback_pos:"bottom",trace_url:window.location.href}})}),t.$openTriggerNegative&&u.default.on(t.$openTriggerNegative,"tap",function(t){e.evaluate="negative",window.__BRICKS_COMPONENTS__.Feedback.show(e),(0,s.TdwReport)().clickReport({reportName:"XJFeedback"},{action_type:"xj_feedback_click",status:{feedback_pos:"bottom",trace_url:window.location.href}})}),t.$openTriggerTop&&u.default.on(t.$openTriggerTop,"tap",function(t){e.evaluate="positive",window.__BRICKS_COMPONENTS__.Feedback.show(e),(0,s.TdwReport)().clickReport({reportName:"XJFeedback"},{action_type:"xj_feedback_click",status:{feedback_pos:"top",trace_url:window.location.href}})}),t.$closeTrigger&&u.default.on(t.$closeTrigger,"tap",function(e){t.$topContainer.style.display="none",e.stopPropagation(),(0,s.TdwReport)().clickReport({reportName:"XJFeedback"},{action_type:"xj_feedback_close",status:{trace_url:window.location.href}})})},this.$container=document.querySelector(".xj-feedback"),this.$bottonContainer=this.$container&&this.$container.querySelector(".xj-feedback__bottom"),this.$openTriggerPositive=this.$container&&this.$container.querySelector(".xj-feedback-openTrigger-positive"),this.$openTriggerNegative=this.$container&&this.$container.querySelector(".xj-feedback-openTrigger-negative"),this.$openTriggerTop=this.$container&&this.$container.querySelector(".xj-feedback-openTrigger-top"),this.$closeTrigger=this.$container&&this.$container.querySelector(".xj-feedback-closeTrigger"),this.$topContainer=this.$container&&this.$container.querySelector(".xj-feedback__icon"),this.cssSrc=f?"https://xj-i-gtimg-cn-test-1258344703.cos.ap-guangzhou.myqcloud.com/qzone/biz/gdt/lib/bricks/libs/cdn/libIndex.css":"https://xj-gtimg-cn-1258344703.cos.ap-guangzhou.myqcloud.com/bricks-components/libs/cdn/libIndex.css",this.jsSrc=f?"https://xj-i-gtimg-cn-test-1258344703.cos.ap-guangzhou.myqcloud.com/qzone/biz/gdt/lib/bricks/libs/cdn/libIndex.js":"https://xj-gtimg-cn-1258344703.cos.ap-guangzhou.myqcloud.com/bricks-components/libs/cdn/libIndex.js",this.init()})},function(e,t,n){},function(e,t,n){var r=n(27);e.exports=function(e){"use strict";e=e||{};var t="",n=r.$escape,o=e.createByJS,i=e.cdnHost;return t+="<div class='xj-smartPhone-loading'>\n    <p><img class='xj-smartPhone-loading-icon' src=\"//",t+=n(o?i:r.$getCdnHost()),t+='/qzone/biz/gdt/lib/xijing/viewer/cdn/img/smartPhone-loading.png"></p>\n</div>'}},function(e,t,n){},,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.checkAndJumpMiniGame=function(e,t){return g.apply(this,arguments)},t.checkAndJumpMiniProgram=function(e,t){return _.apply(this,arguments)};var o=r(n(14)),i=r(n(3)),a=r(n(21)),s=n(90),c=n(114),u=n(2),l=r(n(26)),d=r(n(85)),p=r(n(1)),f=n(49),m=n(49);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(){return(g=(0,a.default)(o.default.mark(function e(t,n){var r,i,a,s,l,p,h,v,g;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.miniGame,i=t.clipboardConfig,e.next=3,(0,f.generateMiniGamePath)(r);case 3:return a=e.sent,s={miniProgram_id:r.originId||r.userName,miniProgram_link:a},i&&(0,u.clipBoard)(i),e.next=8,(0,c.jumpMiniProgramByOpenSDK)(s,n,"miniGame");case 8:if((l=e.sent).res){e.next=20;break}if(p=t.miniGame,h=p.configType,v=p.url,void 0!==h&&"auth"!==h&&"combine"!==h){e.next=19;break}return l.productId&&t.miniGame&&t.miniGame.monitorText&&(t.miniGame.monitorText+="&wxgamepro=".concat(l.productId)),e.next=15,y(t,n);case 15:(g=e.sent)&&!g.res&&r.url?(0,u.jumpLinkCommonFunction)({type:"link",data:{url:v},forceJumpWithoutClickId:!0}):d.default.error("当前流量暂不支持小游戏跳转，可在广告预览阶段进行查看"),e.next=20;break;case 19:"custom"===h&&(v?(0,u.jumpLinkCommonFunction)({type:"link",data:{url:v},forceJumpWithoutClickId:!0}):d.default.error((0,m.getJumpMiniTips)({data:t,jumpRes:l})));case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e,t){return A.apply(this,arguments)}function A(){return(A=(0,a.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.default)(o.default.mark(function e(n,r){var i,a,c,m,h,v;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,u.parseUrl)(),a=i.token,c="//".concat(p.default.backendHost,"/player"),m="".concat(c,"/wechat/generateScheme?advertiserId=").concat(p.default.accountId,"&traceId=").concat((0,u.getTraceId)()),e.next=5,(0,f.generateMiniGamePath)(t.miniGame);case 5:0===(h=e.sent).indexOf("?")&&(h=h.slice(1)),v={token:a,path:"",query:h,advertiserId:p.default.accountId,authorizerAppid:t.miniGame.authorizerAppId,pageId:1===p.default.pageId?void 0:p.default.pageId,authorizedByUnion:"combine"===t.miniGame.configType},l.default.fetch(m,"POST",v).then(function(e){0===e.code&&e.data?((0,s.detectJumpoutByVisibility)(function(e){n(e?{res:!1}:{res:!0})}),location.href=e.data):(console.error(e),d.default.error("获取小游戏 url scheme 失败"),n({res:!1}))}).catch(function(e){console.error(e),d.default.error("获取小游戏 url scheme 失败"),n({res:!1})});case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){return(_=(0,a.default)(o.default.mark(function e(t,n){var r,i,a,s,l,p,f,h,g,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,u.parseUrl)(),i=r.mp_path,t.type,a=t.miniProgram_id,s=t.miniProgram_appid,l=t.miniProgram_type,p=t.miniProgram_link,f=t.miniProgram_standby_link,h=t.clipboardConfig,a&&(p||i)){e.next=6;break}return e.abrupt("return",(0,u.jumpLinkCommonFunction)({type:"link",data:v(v({},t),{},{clipboardConfig:h}),event:n,ev:n}));case 6:return e.next=9,(0,c.jumpMiniProgramByOpenSDK)(v(v({},t),{},{miniProgram_link:i||p,clipboardConfig:h}),n);case 9:if((g=e.sent).res){e.next=21;break}if(!s||"combine"!==l){e.next=19;break}return e.next=15,b(t,n);case 15:(y=e.sent)&&!y.res&&(f?(0,c.jumpStandbyLink)(t):d.default.error((0,m.getJumpMiniTips)({data:t,jumpRes:g}))),e.next=21;break;case 19:(0,c.jumpStandbyLink)(t);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t){return w.apply(this,arguments)}function w(){return(w=(0,a.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.default)(o.default.mark(function e(n,r){var i,a,c,m,h,v,g,y,A,_,b;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,u.parseUrl)(),a=i.token,c=i.mp_path,m=t.miniProgram_appid,h=t.miniProgram_link,v="//".concat(p.default.backendHost,"/player"),g="".concat(v,"/wechat/generateScheme?advertiserId=").concat(p.default.accountId,"&traceId=").concat((0,u.getTraceId)()),y=h,e.next=7,(0,f.generateMiniGamePath)();case 7:0===(A=e.sent).indexOf("?")&&(A=A.slice(1)),c&&((_=c.indexOf("?"))>-1?(y=c.substr(0,_),A+="&".concat(c.substr(_+1))):y=c),b={token:a,path:y,query:A,advertiserId:p.default.accountId,authorizerAppid:m,pageId:1===p.default.pageId?void 0:p.default.pageId,authorizedByUnion:!0},l.default.fetch(g,"POST",b).then(function(e){0===e.code&&e.data?((0,s.detectJumpoutByVisibility)(function(e){n(e?{res:!1}:{res:!0})}),location.href=e.data):(console.error(e),d.default.error("获取小程序 url scheme 失败"),n({res:!1}))}).catch(function(e){console.error(e),d.default.error("获取小程序 url scheme 失败"),n({res:!1})});case 12:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"LeadMaterialFixedModel",function(){return m});var r=n(4),o=n.n(r),i=n(5),a=n.n(i),s=n(11),c=n(24),u=n.n(c),l=function(){return Math.min(window.innerWidth,450)},d=function(){return window.innerHeight},p=function(e){var t=l();return parseFloat((e/t*10).toFixed(4))},f=function(e){var t=e.elPageRoot,n=e.elComponent,r=e.x,o=e.y,i=t.getBoundingClientRect().x,a=l(),s=d(),c=n.getBoundingClientRect(),u=c.width,f=c.height,m="".concat(p(r/100*(a-u)+i),"rem"),h="".concat(p(o/100*(s-f)),"rem");Object.assign(n.style,{left:m,bottom:h})},m=function(){function e(t){o()(this,e),h.call(this);var n=t.x,r=t.y,i=t.elPageRoot,a=t.elComponent,s=t.w,c=t.h,u=t.elCloseBtn;this.elComponent=a,this.elPageRoot=i,this.x=n,this.y=r,this.w=s,this.h=c,this.elCloseBtn=u,this.init()}return a()(e,[{key:"init",value:function(){this.bindEvent(),this.resizeHandler(),this.showComponent()}},{key:"showComponent",value:function(){this.elComponent.style.opacity="1"}},{key:"bindEvent",value:function(){window.addEventListener("resize",this.resizeHandler),this.elComponent.addEventListener("click",this.componentClick),this.elCloseBtn.addEventListener("click",this.disposeHandler)}},{key:"removeEvent",value:function(){window.removeEventListener("resize",this.resizeHandler),this.elComponent.removeEventListener("click",this.componentClick),this.elCloseBtn.removeEventListener("click",this.disposeHandler)}}]),e}(),h=function(){var e=this;this.x=0,this.y=0,this.w=0,this.h=0,this.pageWidth=0,this.pageHeight=0,this.resize=function(){},this.dispose=function(){},this.disposeHandler=function(t){t.stopPropagation(),e.removeEvent(),e.elComponent.remove(),e.dispose(),Object(s.TdwReportTrigger)({reportName:"LeadMaterial"},{action_type:"derive_suspen_close"})},this.componentClick=function(){Object(s.TdwReportTrigger)({reportName:"LeadMaterial"},{action_type:"derive_suspen_click"})},this.resizeHandler=function(){var t=e.elComponent,n=e.elPageRoot,r=e.x,o=e.y;e.pageWidth=l(),e.pageHeight=d(),f({elComponent:t,elPageRoot:n,x:r,y:o}),e.resize(),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=n,i=setInterval(function(){o<=0?clearInterval(i):(e.apply(void 0,u()(t)),o-=1)},r)}(function(){var i=d();i!==e.pageHeight&&(e.pageHeight=i,f({elComponent:t,elPageRoot:n,x:r,y:o}))},[],5,100)}}},,,,,function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(86),o=n(124),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(86),o=n(453),i=n(124),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(461)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(70)(n(50),"DataView");e.exports=r},function(e,t,n){var r=n(70)(n(50),"Promise");e.exports=r},function(e,t,n){var r=n(70)(n(50),"Set");e.exports=r},function(e,t,n){var r=n(70)(n(50),"WeakMap");e.exports=r},function(e,t,n){var r=n(86),o=n(124),i="[object Number]";e.exports=function(e){return"number"==typeof e||o(e)&&r(e)==i}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.municipality=t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(33)),s=r(n(36)),c=r(n(34)),u=r(n(8)),l=r(n(367)),d=r(n(129)),p=r(n(26)),f=r(n(713)),m=r(n(600)),h=r(n(1)),v=r(n(10)),g=n(358),y=n(437),A=n(387),_=r(n(716)),b=n(2);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var T=t.municipality=["北京市","上海市","天津市","重庆市"];(t.default=function(e){(0,s.default)(n,e);var t=w(n);function n(e,r,i){var a;(0,o.default)(this,n);for(var s=arguments.length,c=new Array(s>3?s-3:0),u=3;u<s;u++)c[u-3]=arguments[u];return(a=t.call.apply(t,[this,e,r].concat(c))).setLocationInfo=function(e){T.indexOf(e.province)>-1&&(e.province=e.province.substr(0,2));var t=JSON.stringify({province:e.province,provinceCity:e.provinceCity,proCityArea:e.proCityArea}),n=new Date((new Date).getTime()+6e5);return d.default.set("locationInfo",t,{expires:n}),t},a.updateValue=function(e,t){var r=e.dataset.id.split("_").pop(),o=e.dataset.type,i=t||e.dataset.value,s=e.dataset.label,c=p.default.closest(e,n.SELECT_CONTROL_SELECTOR);if("appointmentDate"===o){var u=i.split("|");i="".concat(u[0]," ").concat(u[1],":").concat(u[2])}a.pluginContext.emit("insert",{dom:e});var l={value:i,type:o,dom:c,label:s};return a.formViewModel.set(r,l),l},a.validator=function(e,t){var r=e.dataset.type,o=p.default.closest(e,n.SELECT_CONTROL_SELECTOR),i=o.dataset.required,s=o.dataset.label;if(i===g.IS_REQUIRED){var c=new A.Validator;c.add(t,(0,A.validatorMap)(r,s),e);var u=c.lazyValidate();u&&u.errorMsg?a.formViewModel.getSubmittedStatus()&&a.showErrorTips(u.errorMsg,o):a.hideErrorTips(o)}},a.setOptions=function(e,t,n){var r={date:_.default,province:n,provinceCity:n,proCityArea:n};if(r[e])return r[e];var o=[];try{o=JSON.parse(t.dataset.configs)}catch(e){throw new Error(e)}return o},a.setTreeDepth=function(e){return y.PICKER_DEFAULT_TREE_DEPTH_MAP[e]||0},a.initSelectClick=function(){a.$selectDomArray.forEach(function(e){a.$input=e;var t=e.dataset.type,n=e.dataset.placeholder,r="";if(["province","provinceCity","proCityArea"].indexOf(t)>-1)f.default.getLocationList().then(function(o){if(!o||!o.length)throw"location list is empty";var i=a.setOptions(t,e,o);a.initPicker({$ele:e,type:t,initValue:r,configs:i,placeholder:n,getRuntimeValue:a.getRuntimeValue})}).catch(function(o){(0,v.default)(["//".concat(h.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/region.js")],function(){var o=a.setOptions(t,e,window.H5FormRegion);a.initPicker({$ele:e,type:t,initValue:r,configs:o,placeholder:n,getRuntimeValue:a.getRuntimeValue})})});else{var o=a.setOptions(t,e);r="date"===t?p.default.initDateValue().join("|"):e.dataset.value,a.initPicker({$ele:e,type:t,initValue:r,configs:o,placeholder:n})}})},a.locationInfoToValue=function(e,t){var n="",r=t.dataset.type;try{if("{}"!==JSON.stringify(e)){var o=JSON.parse(e);o.province&&("province"===r?n=o.province:"provinceCity"===r?n=o.province+"|"+o.provinceCity:"proCityArea"===r&&(n=o.province+"|"+o.provinceCity+"|"+o.proCityArea))}}catch(e){console.error("get locationInfo error",e)}if(!n)switch(r){case"province":case"provinceCity":case"proCityArea":n="";break;default:n=t.dataset.value}return n},a.getRuntimeValue=function(e){if(!h.default.isNeedLocation)return Promise.resolve();var t=d.default.get("locationInfo"),n=e.dataset.id.split("_").pop(),r=a.formViewModel.get(n).value;return void 0!==t||r?r?Promise.resolve():Promise.resolve(a.locationInfoToValue(t,e)):f.default.getLocationInfo().then(function(t){if(0===t)return Promise.resolve();var n=a.setLocationInfo(t);return a.locationInfoToValue(n,e)}).catch(function(e){return console.error("获取地域接口失败:",e),Promise.resolve()})},a.initPicker=function(e){var t=e.$ele,n=e.type,r=e.initValue,o=e.configs,i=e.placeholder,s=e.getRuntimeValue;new m.default({$dom:t,is3D:!0,type:n,initValue:r,placeholder:i,options:o,getRuntimeValue:s,treeDepth:a.setTreeDepth(n),onsubmit:function(e){var t=e.dataset.value;e.querySelector(".".concat(g.SHOW_PICKER_VALUE_CLASSNAME)).classList.add(g.HAS_PICKER_VALUE),a.updateValue(e),a.validator(e,t)},onblur:function(e){var t=e.dataset.value;a.validator(e,t)},filterOptions:function(e,t,r){var i=o.startDate,a=o.endDate,s=o.startTime,c=o.endTime,u=o.isSelectTime;if("appointmentDate"===n&&u&&1===parseInt(t,10)&&r[1]){var l="iOS"===(0,b.judgeClient)(),d=l?"".concat(i," ").concat(s,":00").replaceAll("-","/"):"".concat(i," ").concat(s,":00"),p=l?"".concat(a," ").concat(c,":00").replaceAll("-","/"):"".concat(a," ").concat(c,":00"),f=new Date(d).getTime(),m=new Date(p).getTime(),h="".concat(r[0].value," ").concat(r[1].value);return e.filter(function(e){var t=l?"".concat(h,":").concat(e.value,":00").replaceAll("-","/"):"".concat(h,":").concat(e.value,":00"),n=new Date(t).getTime();return n>=f&&n<=m})}return e}})},a.formViewModel=r,a.pluginContext=i,a.$selectDomArray=Array.prototype.slice.call(e.querySelectorAll(g.SELECT_SELECTOR)),a.initSelectClick(),a}return(0,i.default)(n,[{key:"showErrorTips",value:function(e,t){(0,a.default)((0,u.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,a.default)((0,u.default)(n.prototype),"hideErrorTips",this).call(this,e)}}]),n}(l.default)).SELECT_CONTROL_SELECTOR=".js-isd-form-control"},,,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.default)(["//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/js/swiper.min.js?max_age=31536000","css!//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/css/swiper.min.css?max_age=31536000"],function(){for(var e=document.getElementsByClassName("carousel-swiper-container"),t=0;t<e.length;t++){var n=JSON.parse(e[t].getAttribute("data-area")),r={loop:!0,centeredSlides:!0,autoplay:{delay:u(n.displaySpeed),disableOnInteraction:!1},on:{init:function(){s.default.init()}}};(0,i.renderSwiper)({effect:n.effect,container:e[t],basicConfig:r})}(0,a.disableSwipeBackGesture)()})};var o=r(n(10));n(529);var i=n(363),a=n(2),s=r(n(343)),c=4e3,u=function(e){var t=c-500*e;return t>0?t:0}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.querySelectorAll(f.WRAPPER);[].forEach.call(e,function(e){new v(e)})};var o=r(n(5)),i=r(n(4));n(531);var a=n(2),s=r(n(52)),c=n(313),u=r(n(1)),l=n(7),d=r(n(301)),p=r(n(69)),f={WRAPPER:".xj-app-gift-pack",PACK:".xj-app-gift-pack__pack",PACK_STATUS:".xj-app-gift-pack__end",COPY_BUTTON:".xj-app-gift-pack__button-copy",PACK_MODEL_TRIGGER:'.xj-app-gift-pack__left[data-scene="gift-component"]',PACK_MODEL_CUSTOM_TRIGGER:".xj-app-gift-pack-custom",MODAL:".xj-app-gift-pack__modal",MODAL_MASK:".xj-app-gift-pack__modal__mask",MODAL_CLOSE:".xj-app-gift-pack__modal__close",DOWNLOAD_AREA_TEXT:".xj-app-gift-pack__button-text",DOWNLOAD_BTN:".xj-app-gift-pack__button-download"},m=[1202,1203,1234],h="end",v=(0,o.default)(function e(t){var n=this;(0,i.default)(this,e),this.fetchData=function(){var t={componentId:n.packId,pageId:u.default.pageId,accountId:u.default.accountId,uniqueUserId:n.giftUi,clickId:"0_null_default"===n.giftUi?"test":n.clickId};(0,c.fetchGiftData)(e.getGiftStatus,"POST",t).then(function(e){0===e.code?e.data&&e.data.remainCount&&(n.$pack.querySelector(".J_Remain").innerHTML="剩余数量：".concat(e.data.remainCount||0)):m.indexOf(e.code)>-1?n.disablePack():(p.default.error("礼包加载异常，请稍后再试"),n.disablePack(),(0,c.reportClick)("xj_gift_pack_fetch",u.default.pageId,n.packId,1,e.code))}).catch(function(e){n.disablePack(),(0,c.reportClick)("xj_gift_pack_fetch",u.default.pageId,n.packId,1,9999)})},this.disablePack=function(){n.packStatus=h,n.$packStatus&&n.$packStatus.setAttribute("style","display:block")};var r=t.dataset,o=r.id,l=r.packStyle;this.packId=o,this.clickId=(0,a.getTraceId)(),this.giftUi=(0,a.parseUrl)().xj_ui||"",this.packStatus="",this.autoDownload="1"===(0,a.parseUrl)().autodownload,this.$pack=t.querySelector(f.PACK),this.$packStatus=t.querySelector(f.PACK_STATUS),this.giftUi||(this.clickId&&(0,c.reportClick)("xj_xjui_miss",u.default.pageId,this.packId,1,0),this.giftUi="0_null_default"),this.packId&&this.fetchData(),s.default.init(),"custom"===l?new d.default(f.PACK_MODEL_CUSTOM_TRIGGER,this.packId,"custom"):new d.default(f.PACK_MODEL_TRIGGER,this.packId,"text")});v.getGiftStatus="".concat(l.backendUrl,"/gameGift/getRemainCount"),v.drawGift="".concat(l.backendUrl,"/gameGift/drawOne")},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(604));t.default=o.default},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.phoneCall=function(e,t,n){if(n.preventDefault(),!(0,a.isLoadingDomExit)(p)){var r={createByJS:!0,cdnHost:o.default.cdnHost};(0,a.createLoadingDom)((0,l.default)(r))}if("xj-smartPhone-loading"===n.target.className||"xj-smartPhone-loading-icon"===n.target.className)return;if(!d["callingStatus".concat(t)]){d["callingStatus".concat(t)]=!0;var i=e.getAttribute("phone-type"),u=e.getAttribute("component-id"),h=e.getAttribute("phone-owner")||0,v=new s.Report;if(i&&"smart"===i&&u){v.dmpReport({actionType:s.REPORT_TYPE.SMART_COMPONENT_CLICK,customAction:"",actionParam:{OBJECT:"CLICK_INTELLIGENT_PHONE"}});var g=(0,a.getLoadingDom)(p),y=Date.now(),A=setTimeout(function(){m(g,!1)},500);f(u,h).then(function(e){d["callingStatus".concat(t)]=!1,Date.now()-y<=500&&clearTimeout(A),m(g,!0),0===e.code?window.location.href="tel:".concat(e.data.full_number):c.default.error("智能电话请求失败，请稍后重试")}).catch(function(e){d["callingStatus".concat(t)]=!1,Date.now()-y<=500&&clearTimeout(A),m(g,!0),c.default.error("智能电话请求失败，请稍后重试")})}else v.dmpReport({actionType:s.REPORT_TYPE.CONSULT,customAction:"",consultType:s.PHONE_TYPE}),d["callingStatus".concat(t)]=!1,window.location.href=e.getElementsByTagName("a")[0].href}};var o=r(n(1)),i=n(2),a=n(15),s=n(12),c=r(n(85)),u=n(7),l=r(n(486));n(487);var d={},p="xj-smartPhone-loading",f=function(e,t){var n="application/json;charset=UTF-8";-1!==u.CDN_HOSTS.indexOf(window.location.host)&&(n="text/plain;charset=UTF-8");var r={clickId:(0,i.getTraceId)(),componentId:e,uid:Number(t)||(0,i.getAdvertiserId)(),pageId:o.default.pageId||0};return window.sfetch(u.backendUrl+"/phone/getFullNumber",{method:"post",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":n}}).then(function(e){return 200===e.status?e.json():{code:1,err:"error"}}).catch(function(e){return{code:1,err:e}})},m=function(e,t){t?(e.style.display="none",document.body.style.overflow="auto"):(e.style.display="block",document.body.style.overflow="hidden")}},,,,,,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u&&u({attr:"playable_dom_ready",val:1,count:1,from:"turnable_interactive_template"},"c0055bbe00dee90e"),window.addEventListener("load",function(e){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_RESOURCE_LOAD_COMPLETED),u&&u({attr:"playable_onload",val:1,count:1,from:"turnable_interactive_template"},"c0055bbe00dee90e")});var e,t,n,r=function(){try{return JSON.parse(document.querySelector(".xj-interactive-game").getAttribute("data-config"))}catch(e){}}()||{},o=r.scenes,d=!!o[0].rewardConfig,p=function(e){var t=[{image:"//xj.gdtimg.com/xjimg/0/98e2b36f2595cde3ffe9b3c29c5348ecaf4ffe89.png/0",name:"红包",className:"prize"},{image:"//xj.gdtimg.com/xjimg/0/3e1d7eafa5f7d6cac776594780655b7a3d323bd1.png/0",name:"元宝",className:"prize"},{image:"//xj.gdtimg.com/xjimg/0/0f2f4d0ad45b12248aa9aeeabbe6bbfbb8c093ab.png/0",name:"金币",className:"prize"},{image:"//xj.gdtimg.com/xjimg/0/3e1d7eafa5f7d6cac776594780655b7a3d323bd1.png/0",name:"元宝",className:"prize"},{image:"//xj.gdtimg.com/xjimg/0/98e2b36f2595cde3ffe9b3c29c5348ecaf4ffe89.png/0",name:"红包",className:"prize"},{image:"//xj.gdtimg.com/xjimg/0/0f2f4d0ad45b12248aa9aeeabbe6bbfbb8c093ab.png/0",name:"金币",className:"prize"},{image:"//xj.gdtimg.com/xjimg/0/98e2b36f2595cde3ffe9b3c29c5348ecaf4ffe89.png/0",name:"红包",className:"prize"},{image:"//xj.gdtimg.com/xjimg/0/8f8318aa8ee9b8eac819b51fbc1879c018a35936.png/0",name:"开心",className:"prize"}];e&&(o[0].rewardConfig.forEach(function(e){e.className="prize"}),t=(0,a.default)(o[0].rewardConfig));return t}(d),f=document.getElementsByClassName("download-btn")[0],m=0,h=!1,v=function(){var e,t;return d?n=function(e){var t=[];e.forEach(function(e,n){for(var r=0;r<Number(e.prizeWeight);r++)t.push(n)});var n=Math.floor(Math.random()*t.length);return t[n]+1}(o[0].rewardConfig):(e=[0,1,2,3,4,5,6],t=Math.floor(Math.random()*e.length),n=e[t]),n},g=function(){for(var e=document.querySelectorAll(".light p"),t=0;t<e.length;t++)e[t].classList.toggle("blin")},y=function(){var e=document.getElementsByClassName("prize");g(),m++;var t=(m%=e.length)-1;(0,i.pollyfillJQeq)(e,t-1).classList.remove("active"),(0,i.pollyfillJQeq)(e,t).classList.add("active")},A=function(n){"nineGrid"===n?e=setInterval(y,1e3):"circle"===n&&(t=setInterval(g,1e3)),h=!1};if("nineGrid"===r.scenes[0].contentStyle){!function(){var t=document.querySelector(".turnable-box-nine-grid .turnable-content"),n={image:c,name:"",className:"start-btn"};p.splice(4,0,n);for(var r=0;r<p.length;r++){var o="\n                <li class=".concat(p[r].className,">\n                    <img src=").concat(p[r].image,'>\n                    <span class="prize-name">').concat(p[r].name,"</span>\n                </li>\n            ");t.innerHTML+=o}e=setInterval(y,1e3)}();var _=document.querySelector(".turnable-box-nine-grid .turnable-content .start-btn");s.default.init(0,{onClose:function(){A("nineGrid")},onBottomTipClick:function(){s.default.hideCallback(),A("nineGrid")}}),_.addEventListener("click",function(){h||(l(),function(){h=!0,clearInterval(e),n=v(),s.default.updateReward(n-1);for(var t=n+32-m,r=1;r<=t;r++)setTimeout(y,2*r*r);setTimeout(function(){setTimeout(s.default.showCallback,1e3)},2*t*t)}())},!1)}else if("circle"===r.scenes[0].contentStyle){(function(){for(var e=document.querySelector(".turnable-box-circle .light"),n=0;n<32;n++){var r=11.25*n,o='<p style="transform: rotate('.concat(r,'deg)" class=').concat(n%2==0&&"blin","> </p>");e.innerHTML+=o}t=setInterval(g,1e3)})(),function(){for(var e=document.querySelector(".turnable-box-circle .turnable-content .turnable-content-bg"),t=0;t<p.length;t++){var n=360/p.length*(t+1),r='<li style="transform: rotate('.concat(n,'deg)"></li>');e.innerHTML+=r}}(),function(){for(var e=document.querySelector(".turnable-box-circle .turnable-content .prize-list"),t=0;t<p.length;t++){var n=360/p.length*(t+1),r="\n            <li class=".concat(p[t].className,' style="transform: rotate(').concat(n,'deg)">\n                <span>').concat(p[t].name,"</span>\n                <img src=").concat(p[t].image,">\n            </li>\n        ");e.innerHTML+=r}}(),s.default.init(0,{onClose:function(){A("circle")},onBottomTipClick:function(){s.default.hideCallback(),A("circle")}});var b=document.querySelector(".turnable-box-circle .start-btn");b.addEventListener("click",function(){h||(l(),function(){var e=document.querySelector(".turnable-box-circle .start-btn .btn");h=!0,n=v(),s.default.updateReward(n-1);var r=n+32,o=document.querySelector(".turnable-box-circle .rotate-area");o.classList.add("rotate"),o.style.transform="rotate(0deg)",setTimeout(function(){clearInterval(t);var r=360*n/p.length-360/p.length/2;o.classList.remove("rotate"),o.style.transform="rotate(".concat(-r,"deg)"),e.classList.add("rewarded"),setTimeout(s.default.showCallback,1e3)},2*r*r)}())},!1)}f.addEventListener("click",function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.DOWNLOAD_AFTER_GAME_END),u&&u({attr:"click_to_download",val:1,count:1,from:"turnable_interactive_template"},"c0055bbe00dee90e")},!1)};var o=r(n(6)),i=n(349),a=r(n(558)),s=r(n(464));n(341);n(591);var c="//xj.gdtimg.com/xjimg/0/8444f6b09b2ccc325f998fe7b234760d96775479.png/0",u=function(e,t){"gxt report: ".concat(e.attr),e&&(0,o.default)(e)},l=function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_START),u&&u({attr:"play_step1",val:1,count:1,from:"turnable_interactive_template"},"c0055bbe00dee90e")}},function(e,t,n){var r=n(559),o=1,i=4;e.exports=function(e){return r(e,o|i)}},function(e,t,n){var r=n(560),o=n(566),i=n(135),a=n(567),s=n(568),c=n(571),u=n(572),l=n(573),d=n(575),p=n(576),f=n(577),m=n(411),h=n(578),v=n(579),g=n(585),y=n(71),A=n(439),_=n(587),b=n(48),w=n(589),T=n(410),E=n(454),S=1,O=2,I=4,C="[object Arguments]",P="[object Function]",k="[object GeneratorFunction]",x="[object Object]",N={};N[C]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[x]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[P]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,D,R,j,L){var M,B=n&S,U=n&O,F=n&I;if(D&&(M=j?D(t,R,j,L):D(t)),void 0!==M)return M;if(!b(t))return t;var G=y(t);if(G){if(M=h(t),!B)return u(t,M)}else{var q=m(t),W=q==P||q==k;if(A(t))return c(t,B);if(q==x||q==C||W&&!j){if(M=U||W?{}:g(t),!B)return U?d(t,s(M,t)):l(t,a(M,t))}else{if(!N[q])return j?t:{};M=v(t,q,B)}}L||(L=new r);var H=L.get(t);if(H)return H;L.set(t,M),w(t)?t.forEach(function(r){M.add(e(r,n,D,r,t,L))}):_(t)&&t.forEach(function(r,o){M.set(o,e(r,n,D,o,t,L))});var V=G?void 0:(F?U?f:p:U?E:T)(t);return o(V||t,function(r,o){V&&(r=t[o=r]),i(M,o,e(r,n,D,o,t,L))}),M}},function(e,t,n){var r=n(131),o=n(561),i=n(562),a=n(563),s=n(564),c=n(565);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},function(e,t,n){var r=n(131);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(131),o=n(134),i=n(147),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(409),o=n(410);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(409),o=n(454);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(48),o=n(406),i=n(570),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(50),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(128)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(409),o=n(455);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(409),o=n(480);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(483),o=n(455),i=n(410);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(483),o=n(480),i=n(454);e.exports=function(e){return r(e,i,o)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(456),o=n(581),i=n(582),a=n(583),s=n(584),c="[object Boolean]",u="[object Date]",l="[object Map]",d="[object Number]",p="[object RegExp]",f="[object Set]",m="[object String]",h="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",A="[object Float64Array]",_="[object Int8Array]",b="[object Int16Array]",w="[object Int32Array]",T="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]";e.exports=function(e,t,n){var I=e.constructor;switch(t){case v:return r(e);case c:case u:return new I(+e);case g:return o(e,n);case y:case A:case _:case b:case w:case T:case E:case S:case O:return s(e,n);case l:return new I;case d:case m:return new I(e);case p:return i(e);case f:return new I;case h:return a(e)}}},function(e,t,n){var r=n(50).Uint8Array;e.exports=r},function(e,t,n){var r=n(456);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(74),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(456);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(586),o=n(482),i=n(406);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(48),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(588),o=n(435),i=n(436),a=i&&i.isMap,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(411),o=n(124),i="[object Map]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(590),o=n(435),i=n(436),a=i&&i.isSet,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(411),o=n(124),i="[object Set]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.querySelector(".xj-download-button.flip-card-downlaod-btn");a.DelayEvent.onReady(a.EVENTS.INTERACTIVE_GAME_INIT,function(){e.addEventListener("click",function(){window.XJ_INTERACTIVE_SDK.transform()}),window.XJ_INTERACTIVE_SDK.invoke("downloadStatusChange",function(t){e.progressInstance=e.progressInstance||new s.default(e),e.progressInstance.setState(t)})}),b&&b({attr:"playable_dom_ready",val:1,count:1,from:"flipCard_interactive_template"},"c0055bbe00dee90e"),window.addEventListener("load",function(e){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_RESOURCE_LOAD_COMPLETED),b&&b({attr:"playable_onload",val:1,count:1,from:"flipCard_interactive_template"},"c0055bbe00dee90e")});var t={};try{var n=(t=JSON.parse(document.querySelector(".xj-interactive-game").getAttribute("data-config")))&&t.scenes;A(n),d(n),v(n),_(),document.querySelector(".red-pack__close").addEventListener("click",function(){p(n)}),document.querySelector(".red-pack__replay").addEventListener("click",function(){p(n)})}catch(e){}};var o=r(n(6)),i=n(349),a=n(341);n(593);var s=r(n(126)),c=!0,u=!1,l=null;var d=function(e){new Promise(function(t){setTimeout(function(){m(e),t()},1500)}).then(function(){return new Promise(function(e){setTimeout(function(){e(h())},500)})}).then(function(){l=setTimeout(function(){f()},5e3)})},p=function(e){A(e),function(e){for(var t=document.querySelectorAll(".flip-card-home-page .cards .card-item"),n=document.querySelectorAll(".card-item .item-content"),r="three"===e[0].cardCount?e[0].threeCardConfig:e[0].fourCardConfig,o="three"===e[0].cardCount?[1,2]:[1,2,3],i=0;i<t.length;i++)if(t[i].style.backgroundImage="url('".concat(e[0].cardBgImgFront,"')"),t[i].classList.contains("flip180deg")&&(t[i].style.transition="none",t[i].classList.remove("flip180deg")),n[i].classList.remove("hidden"),n[i].classList.contains("flip180deg"))n[i].classList.remove("flip180deg");else{var a=n[i].querySelector("img"),s=n[i].querySelector("span"),c=Math.floor(Math.random()*o.length);a.src="".concat(r[o[c]].image),s.innerText=r[o[c]].desc,o.splice(c,1)}}(e),function(){for(var e=document.querySelectorAll(".flip-card-home-page .cards .card-item"),t=0;t<e.length;t++)e[t].style.animation="none",e[t].classList.remove("slideAnimate".concat(t))}(),c=!0,u=!1,d(e),y()},f=function(){var e=document.querySelectorAll(".flip-card-home-page .card-item")[0];u||(c=!1,e.click())},m=function(e){for(var t=document.querySelectorAll(".flip-card-home-page .cards .card-item"),n=document.querySelectorAll(".card-item .item-content"),r=0;r<t.length;r++)t[r].style.backgroundImage="url('".concat(e[0].cardBgImgCover,"')"),n[r].classList.add("hidden"),t[r].style.transition=""},h=function(){for(var e=document.querySelectorAll(".flip-card-home-page .cards .card-item"),t=0;t<e.length;t++)e[t].style.animation="",e[t].classList.add("slideAnimate".concat(t));return new Promise(function(e){setTimeout(function(){c=!1,e()},1500)})},v=function(e){document.querySelector(".flip-card-home-page .cards").addEventListener("click",function(t){var n=t.target||t.srcElement;!function(e,t){if(!(t.classList.contains("cards")||c||u)){clearTimeout(l),u=!0;var n=document.querySelectorAll(".card-item .item-content"),r=t.getAttribute("data-index"),o=t.style.backgroundImage!=='url("'.concat(e[0].cardBgImgFront,'")');t.classList.toggle("flip180deg"),n[r].classList.toggle("flip180deg"),n[r].classList.toggle("hidden"),function(e,t){var n=t.querySelector(".card-item .item-content img"),r=t.querySelector(".card-item .item-content span"),o="three"===e[0].cardCount?e[0].threeCardConfig:e[0].fourCardConfig;n.src=o[0].image,r.innerText=o[0].desc}(e,t),t.style.backgroundImage='url("'.concat(o?e[0].cardBgImgFront:e[0].cardBgImgCover,'")'),w(),setTimeout(g,1e3)}}(e,n)},!0)},g=function(){var e=document.querySelector(".flip-card-container .flip-cardred-pack-mask"),t=document.querySelector(".flip-cardred-pack-mask .red-pack");e.classList.remove("hidden"),t.classList.remove("hidden"),T()},y=function(){var e=document.querySelector(".flip-card-container .flip-cardred-pack-mask"),t=document.querySelector(".flip-cardred-pack-mask .red-pack");e.classList.add("hidden"),t.classList.add("hidden")},A=function(e){var t=document.querySelector(".reward-content .money");if(t){var n=e[1].rewardContent.moneyNumMin,r=e[1].rewardContent.moneyNumMax;t.innerHTML=(0,i.getRandom)(n,r)}},_=function(){document.querySelector(".flip-card-container .red-pack .download-btn").addEventListener("click",function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.DOWNLOAD_AFTER_GAME_END),b&&b({attr:"click_to_download",val:1,count:1,from:"flipCard_interactive_template"},"c0055bbe00dee90e")},!1)},b=function(e,t){"gxt report: ".concat(e.attr),e&&(0,o.default)(e)},w=function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_START),b&&b({attr:"play_step1",val:1,count:1,from:"flipCard_interactive_template"},"c0055bbe00dee90e")},T=function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_END)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.querySelector(".result_do_download .xj-download-button");c.DelayEvent.onReady(c.EVENTS.INTERACTIVE_GAME_INIT,function(){viewerData.transformType||(viewerData.transformType="appDownload"),e.addEventListener("click",function(){window.XJ_INTERACTIVE_SDK.transform()}),window.XJ_INTERACTIVE_SDK.invoke("downloadStatusChange",function(t){e.progressInstance=e.progressInstance||new u.default(e),e.progressInstance.setState(t)})}),l&&l({attr:"playable_dom_ready",val:1,count:1,from:"Materials"},"c0055bbe00dee90e"),window.addEventListener("load",function(e){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_RESOURCE_LOAD_COMPLETED),l&&l({attr:"playable_onload",val:1,count:1,from:"Materials"},"c0055bbe00dee90e")});(0,s.default)(["//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/js/swiper.min.js?max_age=31536000","css!//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/css/swiper.min.css?max_age=31536000"],function(){var e,t=new window.Swiper(".xj_Materials_swiper-container",{spaceBetween:8,initialSlide:2,slidesPerView:4.3,centeredSlides:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}}),n=document.querySelectorAll(".mask"),r=document.querySelector(".maskInfo"),a=document.querySelectorAll(".swiper-slide"),s=document.querySelector(".swiper-wrapper"),c=document.querySelector(".space_left"),u=document.querySelector(".span_text_left"),d=document.querySelector(".space_right"),p=document.querySelector(".span_text_right"),f=document.querySelector(".combineBtn"),m=document.querySelector(".result"),h=document.querySelector(".result_dan"),v=document.querySelector(".result_do_download"),g=document.querySelector(".result__close"),y=document.querySelector(".result__replay"),A=!0,_=0,b=0,w=!1;function T(){r.style.display="none";for(var e=0;e<n.length;e++)n[e].style.display="none";A=!1,s.removeEventListener("touchmove",E)}function E(){A&&T()}function S(e){if(!(w||_>=2)){w=!0,A&&T();var n=e.currentTarget,r=e.target.src;!function(e){var t="none"===c.lastElementChild.style.display&&"img"===c.lastElementChild.tagName.toLowerCase(),n=0===_||1===_&&t?[c,u]:[d,p],r=(0,o.default)(n,2),i=r[0];r[1].style.display="none";var a=document.createElement("img");a.src=e,i.appendChild(a),i.classList.add("boxShadow"),1===_&&f.classList.add("buttonAnimate");a.classList.add("enlargeAnimate")}(r);var i=function(e){for(var t=s.children,n=0;n<t.length;n++)if(e===t[n])return n}(n);n.classList.add("shinkAnimate"),new Promise(function(e){setTimeout(function(){if(t.removeSlide(i),t.activeIndex===i)return t.slideToClosest(300),void e(!0);e()},700)}).then(function(e){return new Promise(function(t){e?setTimeout(function(){t()},300):t()})}).then(function(){w=!1}),_++}}function O(e){if(!function(){var e=new Date,t=e-b;if(t>0&&t<500)return!0;return b=e,!1}()||e.manual){var n=e.currentTarget,r="none"!==n.lastElementChild.style.display&&"img"===n.lastElementChild.tagName.toLowerCase();if(r&&_>=1&&_<=2){var o=n.lastElementChild.src;n.classList.remove("boxShadow"),n.lastElementChild.classList.replace("enlargeAnimate","shinkAnimate2"),setTimeout(function(){n.lastElementChild.style.display="none",n.firstElementChild.style.display="block"},400),function(e){var n=document.createElement("div"),r=document.createElement("img");n.classList.add("swiper-slide"),n.addEventListener("click",S),r.src=e,n.appendChild(r),t.appendSlide(n),t.slideToClosest(400)}(o),_--}2!==_&&f.classList.remove("buttonAnimate")}}function I(){c.classList.remove("combineAnimateL"),d.classList.remove("combineAnimateR"),f.classList.replace("shinkAnimate2","buttonAnimate"),s.classList.remove("shinkAnimate2"),c.style.backgroundImage="",d.style.backgroundImage="",c.style.width="",c.style.height="",c.style.left="",c.style.top="",d.style.width="",d.style.height="",d.style.right="",d.style.top="",O({currentTarget:c,manual:!0}),O({currentTarget:d,manual:!0}),m.style.display="none",h.classList.remove("enlargeAnimate2"),v.classList.remove("downloadAnimate"),g.classList.remove("show"),g.classList.remove("show"),y.classList.remove("show")}s.addEventListener("touchmove",E),(e=a,(0,i.default)(e)).map(function(e,t){e.addEventListener("click",S)}),f.addEventListener("click",function(){2===_&&(c.style.backgroundImage="unset",d.style.backgroundImage="unset",c.style.width="4.0000rem",c.style.height="5.3333rem",c.style.left="0.5067rem",c.style.top="0.1067rem",d.style.width="4.0000rem",d.style.height="5.3333rem",d.style.right="0.5067rem",d.style.top="0.1067rem",c.classList.add("combineAnimateL"),d.classList.add("combineAnimateR"),f.classList.replace("buttonAnimate","shinkAnimate2"),s.classList.add("shinkAnimate2"),m.style.display="flex",h.classList.add("enlargeAnimate2"),v.classList.add("downloadAnimate"),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_END),setTimeout(function(){g.classList.add("show"),y.classList.add("show")},2e3))}),c.addEventListener("click",O),d.addEventListener("click",O),g.addEventListener("click",I),y.addEventListener("click",I),s.addEventListener("click",function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_START),l&&l({attr:"play_step1",val:1,count:1,from:"Materials"},"c0055bbe00dee90e")},{once:!0})}),document.querySelector(".result_do_download").addEventListener("click",function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.DOWNLOAD_AFTER_GAME_END),l&&l({attr:"click_to_download",val:1,count:1,from:"Materials"},"c0055bbe00dee90e")},!1)};var o=r(n(42)),i=r(n(24)),a=r(n(6));n(595);var s=r(n(10)),c=n(341),u=r(n(126)),l=function(e,t){"gxt report: ".concat(e.attr),e&&(0,a.default)(e)}},function(e,t,n){},function(e,t,n){var r=n(156);function o(t,n,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=o=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(33)),s=r(n(36)),c=r(n(34)),u=r(n(8)),l=r(n(367)),d=r(n(26)),p=n(358),f=n(387),m=n(13);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v=t.default=function(e){(0,s.default)(n,e);var t=h(n);function n(e,r,i){var a;(0,o.default)(this,n);for(var s=arguments.length,c=new Array(s>3?s-3:0),u=3;u<s;u++)c[u-3]=arguments[u];(a=t.call.apply(t,[this,e,r].concat(c))).updateValue=function(e){var t=e.dataset.parentid,r=e.dataset.type,o=e.dataset.value,i=d.default.closest(e,n.RADIO_CONTROL_SELECTOR),s=a.formViewModel.get(t).value!==o;s?a.pluginContext.emit("insert",{dom:e}):a.pluginContext.emit("delete",{dom:e});var c={value:o=s?o:"",type:r,dom:i,label:i.dataset.label};return a.formViewModel.set(t,c),c},a.getRadioWrapperDOM=function(e){return d.default.closest(e,n.RADIO_CONTROL_SELECTOR)},a.validator=function(e,t){var r=e.dataset.type,o=d.default.closest(e,n.RADIO_CONTROL_SELECTOR),i=o.dataset.required,s=o.dataset.label;if(i===p.IS_REQUIRED){var c=new f.Validator;c.add(t,(0,f.validatorMap)(r,s),e);var u=c.lazyValidate();u&&u.errorMsg?a.formViewModel.getSubmittedStatus()&&a.showErrorTips(u.errorMsg,o):a.hideErrorTips(o)}},a.main=function(){a.$radioArray.forEach(function(e){d.default.on(e,"tap",function(e){var t=e.target;if((t=d.default.closest(t,n.RADIO_OPTION_SELECTOR))&&t.dataset&&t.dataset.parentid){var r=a.updateValue(t);a.selected(t),a.validator(t,r.value)}})})},a.formViewModel=r,a.pluginContext=i,a.$radioArray=Array.prototype.slice.call(e.querySelectorAll(p.RADIO_SELECTOR));try{var l=JSON.parse(e.dataset.formstyle);a.selectedCorlor=l.buttonBackgroundColor||""}catch(e){console.error("获取颜色失败：",e)}return a.main(),a}return(0,i.default)(n,[{key:"showErrorTips",value:function(e,t){(0,a.default)((0,u.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,a.default)((0,u.default)(n.prototype),"hideErrorTips",this).call(this,e)}},{key:"hadSelected",value:function(e){return e.classList.contains(n.RADIO_SELECTED_CLASSNAME)}},{key:"selected",value:function(e){this.hadSelected(e)?n.cancel(e):(n.removeSelected(e),this.target(e),e.style.background=(0,m.rgbAddOpacity)(this.selectedCorlor,.05),e.style.color=this.selectedCorlor,e.style.border="1px solid ".concat(this.selectedCorlor))}},{key:"target",value:function(e){e.classList.toggle(n.RADIO_SELECTED_CLASSNAME)}}],[{key:"cancel",value:function(e){e.classList.remove(n.RADIO_SELECTED_CLASSNAME),e.style.backgroundColor="",e.style.border="",e.style.color=""}},{key:"removeSelected",value:function(e){var t=d.default.closest(e,n.RADIO_CONTROL_SELECTOR);Array.prototype.slice.call(t.querySelectorAll(n.RADIO_OPTION_SELECTOR)).forEach(function(e,t){e.classList.remove(n.RADIO_SELECTED_CLASSNAME),e.style.backgroundColor="",e.style.border="",e.style.color=""})}}]),n}(l.default);v.RADIO_CONTROL_SELECTOR=".js-isd-form-control",v.RADIO_OPTION_SELECTOR=".js-isd-form-option",v.RADIO_SELECTED_CLASSNAME="isd-radio-item-selected"},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(33)),s=r(n(36)),c=r(n(34)),u=r(n(8)),l=r(n(367)),d=r(n(26)),p=n(358),f=n(387),m=n(13);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v=t.default=function(e){(0,s.default)(n,e);var t=h(n);function n(e,r,i){var a;(0,o.default)(this,n);for(var s=arguments.length,c=new Array(s>3?s-3:0),u=3;u<s;u++)c[u-3]=arguments[u];(a=t.call.apply(t,[this,e,r].concat(c))).updateValue=function(e){var t=e.dataset.parentid,r=e.dataset.value,o=e.dataset.type,i=d.default.closest(e,n.CHECKBOX_CONTROL_SELECTOR),s=a.formViewModel.get(t).value||"",c=(s+="").split("|");-1===c.indexOf(r)?(c.push(r),r=c.filter(function(e){return e}).join("|"),a.pluginContext.emit("insert",{dom:e})):(r=c.filter(function(e){return e}).filter(function(e){return e!==r}).join("|"),a.pluginContext.emit("delete",{dom:e}));var u=i.dataset.label,l={value:r,type:o,dom:i,label:u};return a.formViewModel.set(t,l),l},a.validator=function(e,t){var r=d.default.closest(e,n.CHECKBOX_CONTROL_SELECTOR),o=r.dataset.required,i=r.dataset.label,s=e.dataset.type;if(o===p.IS_REQUIRED){var c=new f.Validator;c.add(t,(0,f.validatorMap)(s,i),e);var u=c.lazyValidate();u&&u.errorMsg?a.formViewModel.getSubmittedStatus()&&a.showErrorTips(u.errorMsg,r):a.hideErrorTips(r)}},a.main=function(){a.$checkboxArray.forEach(function(e){d.default.on(e,"tap",function(e){var t=e.target;if((t=d.default.closest(t,n.CHECKBOX_OPTION_SELECTOR))&&t.dataset&&t.dataset.parentid){var r=a.updateValue(t);a.selected(t),a.validator(t,r.value)}})})},a.formViewModel=r,a.pluginContext=i,a.$checkboxArray=Array.prototype.slice.call(e.querySelectorAll(p.CHECKBOX_SELECTOR));try{var l=JSON.parse(e.dataset.formstyle);a.selectedCorlor=l.buttonBackgroundColor||""}catch(e){console.error("获取颜色失败：",e)}return a.main(),a}return(0,i.default)(n,[{key:"showErrorTips",value:function(e,t){(0,a.default)((0,u.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,a.default)((0,u.default)(n.prototype),"hideErrorTips",this).call(this,e)}},{key:"hadSelected",value:function(e){return e.classList.contains(n.CHECKBOX_SELECTED_CLASSNAME)}},{key:"selected",value:function(e){this.hadSelected(e)?n.cancel(e):(this.target(e),e.style.background=(0,m.rgbAddOpacity)(this.selectedCorlor,.05),e.style.color=this.selectedCorlor,e.style.border="1px solid ".concat(this.selectedCorlor))}},{key:"target",value:function(e){e.classList.toggle(n.CHECKBOX_SELECTED_CLASSNAME)}}],[{key:"cancel",value:function(e){e.classList.remove(n.CHECKBOX_SELECTED_CLASSNAME),e.style.backgroundColor="",e.style.border="",e.style.color=""}}]),n}(l.default);v.CHECKBOX_SELECTED_CLASSNAME="isd-checkbox-item-selected",v.CHECKBOX_CONTROL_SELECTOR=".js-isd-form-control",v.CHECKBOX_OPTION_SELECTOR=".js-isd-form-option"},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(24)),a=r(n(4)),s=r(n(5)),c=r(n(33)),u=r(n(36)),l=r(n(34)),d=r(n(8)),p=r(n(367)),f=r(n(26)),m=n(358),h=n(387),v=n(11),g=n(2);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var _=t.default=function(e){(0,u.default)(n,e);var t=A(n);function n(e,r,o){var s;(0,a.default)(this,n);for(var c=arguments.length,u=new Array(c>3?c-3:0),l=3;l<c;l++)u[l-3]=arguments[l];return(s=t.call.apply(t,[this,e,r].concat(u))).updateCount=function(e){var t=e.dataset.maxlength,r=e.value,o=r?r.length:0;f.default.closest(e,n.TEXTAREA_SELECTOR).querySelector(n.COUNT_SELECTOR).innerText="".concat(o,"/").concat(t)},s.updateValue=function(e){var t=e.dataset.type,n=e.dataset.id.split("_").pop(),r=e.dataset.label,o={value:e.value,type:t,dom:e,label:r};return s.formViewModel.set(n,o),o},s.inputValidator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.dataset.maxlength,o=f.default.closest(e,n.TEXTAREA_SELECTOR).querySelector(n.COUNT_SELECTOR);r<t.length?o.classList.add("error"):o.classList.remove("error")},s.validator=function(e,t){var n=e.dataset.maxlength,r=new h.Validator,o=e.dataset.type,a=e.dataset.label,c=e.dataset.required,u=[].concat((0,i.default)((0,h.validatorMap)(o,a)),[{strategy:"maxLength:".concat(n),errorMsg:"".concat(a,"不能超过").concat(n,"个字")}]);c===m.IS_REQUIRED&&u.push((0,h.validatorNonEmpty)(a)),r.add(e.value,u,e);var l=r.lazyValidate();l&&l.errorMsg?s.formViewModel.getSubmittedStatus()&&s.showErrorTips(l.errorMsg,e):s.hideErrorTips(e)},s.formViewModel=r,s.pluginContext=o,s.$textareaArray=Array.prototype.slice.call(e.querySelectorAll(m.TEXTAREA_SELECTOR)),s.addEventListenerChange(),s.addEventListenerBlur(),s.addEventListenerFocus(),s}return(0,s.default)(n,[{key:"showErrorTips",value:function(e,t){(0,c.default)((0,d.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,c.default)((0,d.default)(n.prototype),"hideErrorTips",this).call(this,e)}},{key:"addEventListener",value:function(e,t){this.$textareaArray.forEach(function(n){n.addEventListener(e,function(n){t&&t(n,e)})})}},{key:"addEventListenerChange",value:function(){var e=this;this.addEventListener("input",function(t,n){var r=t.target,o=t.inputType;o&&o.includes("insert")?e.pluginContext.emit("insert",{dom:r}):o&&o.includes("delete")&&"deleteCompositionText"!==o&&e.pluginContext.emit("delete",{dom:r});var i=e.updateValue(r);e.validator(r,i.value),e.updateCount(r),e.inputValidator(r,i.value)})}},{key:"addEventListenerBlur",value:function(){var e=this;this.addEventListener("blur",function(t,n){var r=t.target,o=e.updateValue(r);e.validator(r,o.value),e.updateCount(r)})}},{key:"addEventListenerFocus",value:function(){var e=this;this.addEventListener("focus",function(t,n){var r=t.target;e.hideErrorTips(r),f.default.manualBlurInputToiOS(r);var i=(0,g.extractParamsFromDom)(t,"isd-web-form-global-wrapper"),a={};"{}"===JSON.stringify(i)&&(i=(0,g.extractParamsFromDom)(t,"web-form-layerform-module"),JSON.parse(i.forminfo).isLayerForm&&(a={formtype:2})),(0,v.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"click_form",ei:"4007001",formid:i.id||"",status:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a)})})}}]),n}(p.default);_.COUNT_SELECTOR=".isd-form-textarea-count",_.TEXTAREA_SELECTOR=".isd-form-item-control-wrapper-textarea"},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(714));t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnClickOutside=r,t.draggable=function(e,t){var n=!1,r="ontouchstart"in window;return o=e,i=t,a=function(e){i.drag&&i.drag(r?e.changedTouches[0]||e.touches[0]:e)},s=function e(t){r||(document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e)),document.onselectstart=null,document.ondragstart=null,n=!1,i.end&&i.end(r?t.changedTouches[0]||t.touches[0]:t)},o.addEventListener(r?"touchstart":"mousedown",function(e){n||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},r||(document.addEventListener("mousemove",a),document.addEventListener("mouseup",s)),n=!0,i.start&&(e&&e.preventDefault(),i.start(r?e.changedTouches[0]||e.touches[0]:e)))}),void(r&&(o.addEventListener("touchmove",a),o.addEventListener("touchend",s),o.addEventListener("touchcancel",s)));var o,i,a,s},t.translateUtil=void 0;t.translateUtil=function(){var e,t=document.documentElement.style,n=!1;window.opera&&"[object Opera]"===Object.prototype.toString.call("opera")?e="presto":"MozAppearance"in t?e="gecko":"WebkitAppearance"in t?e="webkit":"string"==typeof navigator.cpuClass&&(e="trident");var r={trident:"-ms-",gecko:"-moz-",webkit:"-webkit-",presto:"-o-"}[e],o={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[e],i=document.createElement("div"),a=o+"Perspective",s=o+"Transform",c=r+"transform",u=o+"Transition",l=r+"transition",d=o.toLowerCase()+"TransitionEnd";function p(e){var t={left:0,top:0};if(null===e||null===e.style)return!1;var n=e.style[s],r=/translate\(\s*(-?\d+(\.\d+?)?)px,\s*(-?\d+(\.\d+?)?)px\)\s*translateZ\(0px\)/gi.exec(n);return r&&(t.left=+r[1],t.top=+r[3]),t}function f(e){if(null!==e&&null!==e.style){var t=e.style[s];t&&(t=t.replace(/translate\(\s*(-?\d+(\.\d+?)?)px,\s*(-?\d+(\.\d+?)?)px\)\s*translateZ\(0px\)/g,""),e.style[s]=t)}}return void 0!==i.style[a]&&(n=!0),{transformProperty:s,transformStyleName:c,transitionProperty:u,transitionStyleName:l,transitionEndProperty:d,getElementTranslate:p,translateElement:function(e,t,r){if((null!==t||null!==r)&&null!==e&&void 0!==e&&null!==e.style&&(e.style[s]||0!==t||0!==r)){if(null===t||null===r){var o=p(e);null===t&&(t=o.left),null===r&&(r=o.top)}f(e),e.style[s]+=n?" translate(".concat(t?t+"px":"0px",", ").concat(r?r+"px":"0px",") translateZ(0px)"):" translate(".concat(t?t+"px":"0px",", ").concat(r?r+"px":"0px",")")}},cancelTranslateElement:f}}();function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return this.evt=function(n){if(n.target!=e){var r=e.contains(n.target),o=n.target.className.split(" ")[0]||"",i=o?e.querySelectorAll(".".concat(o)):[];return!r&&i.length<=0?t?t():null:void 0}},this.wrapper=n,this.event="ontouchstart"in window?"touchstart":"mousedown",this.wrapper.addEventListener(this.event,this.evt,!1),this}r.prototype.remove=function(){this.wrapper.removeEventListener(this.event,this.evt,!1)},r.prototype.reinit=function(){this.wrapper.addEventListener(this.event,this.evt,!1)}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(123);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.result="",this.ast=t}var t,n,i;return t=e,(n=[{key:"process",value:function(){return this.print(this.ast),this.getResult()}},{key:"getResult",value:function(){return this.result}},{key:"print",value:function(e){switch(e.type){case r.a.UNARY:return void this.printUnary(e);case r.a.BINARY:return void this.printBinary(e);case r.a.LITERAL:case r.a.SYMBOL:return void this.printLiteral(e);case r.a.CALL:return void this.printCall(e);case r.a.PARENTHESES:return void this.printParentheses(e)}}},{key:"printUnary",value:function(e){this.write(e.op),"typeof"!==e.op&&"void"!==e.op||this.space(),this.print(e.expression)}},{key:"printBinary",value:function(e){this.print(e.left),this.space(),this.write(e.op),this.space(),this.print(e.right)}},{key:"printCall",value:function(e){this.print(e.expression),this.write("(");for(var t=0;t<e.args.length;t++)this.print(e.args[t]),t!==e.args.length-1&&(this.write(","),this.space());this.write(")")}},{key:"printLiteral",value:function(e){this.write(e.raw)}},{key:"printParentheses",value:function(e){this.write("("),this.print(e.expression),this.write(")")}},{key:"space",value:function(){this.result+=" "}},{key:"write",value:function(e){this.result+=e}}])&&o(t.prototype,n),i&&o(t,i),e}()},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(605));t.default=o.default},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(14)),i=r(n(21)),a=r(n(24)),s=r(n(4)),c=r(n(5)),u=r(n(85)),l=r(n(26)),d=n(7);n(606);var p=n(607),f=n(11),m=n(2),h=l.default.compatibleClickEvent();function v(e,t){return e<=0?[]:Array.apply(null,Array(e)).map(function(){return t})}var g=function(){function e(t){(0,s.default)(this,e),y.call(this),this.onsubmit=t.onsubmit,this.onHide=t.onHide,this.phone=t.phone,this.advertiserId=t.advertiserId,this.token=t.token,this.type=t.type,this.encryptPhone=t.encryptPhone||"",this.postInfo=null,this.postUrl=e.getMsgUrl,this.$wrapper=null,this.$return=null,this.$phoneNumber=null,this.$inputContainer=null,this.$countdownContainer=null,this.$smsinput=null,this.$smslabels=null,this.$verifibtn=null,this.lefttime=e.LEFTTIME,this.isSuccessSubmit=!1,this.setTimeoutId=null,this.codeArray=[],this.autoPostCode=!0,this.smsReport=!0,this.isFirstReport=!0,this.triggerDom=t.dom,this.formId=t.formId,this.main()}return(0,c.default)(e,[{key:"initDOM",value:function(){var e=this.$wrapper;this.$return=e.querySelector(".cancelbtn"),this.$phoneNumber=e.querySelector(".phone-number"),this.$inputContainer=e.querySelector(".xj-input-container"),this.$countdownContainer=e.querySelector(".verification-code-countdown-container-full-screen"),this.$time=e.querySelector(".countdown"),this.$smsinput=e.querySelector(".xj-sms-input"),this.$smslabels=e.querySelectorAll(".xj-sms-input-label"),this.$verifibtn=e.querySelector(".verify-btn")}},{key:"formatPhone",value:function(e){return"number"==typeof e&&(e=e.toString()),e.substr(0,3)+"****"+e.substr(7,11)}},{key:"main",value:function(){this.render(),this.initDOM(),this.showSMSVerificationCode(),this.countdownAddEvent(),this.returnBtnAddEvent(),this.submitVerifyCodeEvent(),this.fakeCursorEvent(),this.showtime(),this.getCode(),this.syncFakeInput()}}]),e}();g.LEFTTIME=60,g.codelength=6,g.urlRoot=d.backendUrl,g.getMsgUrl="".concat(g.urlRoot,"/api/message/sendMessage"),g.postMsgUrl="/message/checkMessage";var y=function(){var e=this;this.interfaceShow=function(t){e.isSuccessSubmit&&(e.clearInput(),e.autoPostCode=!0,e.showtime(),e.getCode()),e.showSMSVerificationCode(),t&&t()},this.interfaceHide=function(t){e.hideSMSVerificationCode(),t&&t()},this.interfaceClearTime=function(){e.clearTime()},this.interfaceSetPhone=function(t){t&&(e.phone=t,e.$phoneNumber.innerText=e.formatPhone(t))},this.interfaceSetAdvertiserId=function(t){t&&(e.advertiserId=t)},this.interfaceSetToken=function(t){t&&(e.token=t)},this.interfaceUpdateOptions=function(t){var n=t.phone,r=t.advertiserId,o=t.token;e.interfaceSetPhone(n),e.interfaceSetAdvertiserId(r),e.interfaceSetToken(o)},this.clearTime=function(){e.lefttime=g.LEFTTIME,e.changeSubmitStatus(!0),clearTimeout(e.setTimeoutId)},this.clearInput=function(){e.$smsinput.value="",e.updateFakeInput("")},this.interfaceSubmit=function(t){var n={phone:e.phone,code:e.codeArray.join("")};return t&&t(n)},this.interfaceSubmitError=function(){e.addCodeErrorClass(),e.verifyBtnAddClickClassName()},this.interfaceSubmitSuccess=function(){e.verifyBtnRemoveClickClassName()},this.changeSubmitStatus=function(t){e.isSuccessSubmit=t||!1},this.countdownRender=function(){return'<div class="verification-code-countdown-container-full-screen '.concat(p.countdownDisableClassName,'">\n            <span class="text">重新发送</span>\n            <span class="countdown"></span>\n        </div>')},this.inputRender=function(){for(var e=v(g.codelength,"").map(function(e,t){return'<label\n                        for="xj-sms-input"\n                        class="'.concat(p.fakeInputClassName,'"\n                    ></label>')}).join(""),t="",n=0;n<g.codelength;n++)t+='<span class="sms-error-underscore"></span>';t='<div class="sms-error-underscore-wrapper">'.concat(t,"</div>");var r='<input\n                class="xj-sms-input"\n                id="xj-sms-input"\n                maxLength='.concat(g.codelength,'\n                pattern="[0-9]*"\n                autofocus\n                type="number"\n            >');return'<div class="xj-sms-input-container">\n            '.concat(r,"\n            ").concat(e,"\n        </div>\n        ").concat(t)},this.tipsRender=function(){return'<div class="xj-phone-tips-container full-screen">\n                        <span class="phone-info">\n                            <span class="phone-text">短信已发送至手机</span>\n                            <span class="phone-number">'.concat(e.formatPhone(e.phone),"，</span>\n                        </span>\n                        ").concat(e.countdownRender(),"\n                    </div>")},this.verifyBtnRender=function(){return'<button class="'.concat(p.verifyBtnClassName," ").concat(p.verifyBtnDisableClassName,'">验证</button>')},this.cancelBtnRender=function(){return'\n            <span class="cancelbtn">取消</span>\n        '},this.render=function(){var t='<div class="xj-sms-verification-code-auto-container">\n\t\t\t\t\t\t'.concat(e.tipsRender()).concat(e.inputRender(),"\n\t\t\t\t\t\t").concat(e.verifyBtnRender(),"\n\t\t\t\t\t\t").concat(e.cancelBtnRender(),"\n\t\t\t\t</div>"),n='<div class="xj-sms-verification-code-containt">\n                        '.concat('\n            <span class="xj-sms-verification-code-header-text">请输入短信验证码</span>\n        ',"\n                        ").concat(t,"\n                    </div>"),r=document.getElementsByClassName(p.wrapperClassName)[0],o=r||document.createElement("div");return o.className=p.wrapperClassName,o.innerHTML=n,r||document.body.appendChild(o),e.$wrapper=o,(e.render=function(){return o})()},this.addCodeErrorClass=function(){e.$wrapper.classList.add(p.codeErrorClassName)},this.removeCodeErrorClass=function(){e.$wrapper.classList.remove(p.codeErrorClassName)},this.inputFocus=function(){setTimeout(function(){e.$smsinput.focus()},100),e.ctrlFakeCursor({show:!0,activeDom:e.$smslabels[0]})},this.isAutoInput=function(t){var n=e.codeArray.filter(function(e){return e&&" "!==e}).length;return t.length-n>=2&&t.length>=g.codelength},this.syncFakeInput=function(){e.$smsinput.addEventListener("input",function(t){e.removeCodeErrorClass(),e.verifyBtnRemoveClickClassName();var n=t.target.value,r=n;if(e.isAutoInput(n)){var o=e.codeArray.filter(function(e){return e&&" "!==e}).length;r=n.slice(o)}n.length>g.codelength&&(r=r.substr(0,g.codelength),e.$smsinput.value=r),e.isAutoInput(n)&&window.viewerUtils&&window.viewerUtils.RPTTYPE&&e.smsReport&&(e.smsReport=!1,setTimeout(function(){e.smsReport=!0},1e3),window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.ACTION_XJ_FORM_AUTO_FILL)),e.isFirstReport&&(e.isFirstReport=!1,(0,f.TdwReportTrigger)({target:e.triggerDom},{action_type:"fill_verification",formid:e.formId,ei:4007008,is_auto_save:(0,m.checkFormPhoneAutoSave)(e.triggerDom)})),e.updateFakeInput(r)})},this.fakeCursorEvent=function(){e.$smsinput.addEventListener("blur",function(){e.ctrlFakeCursor({show:!1})}),e.$smsinput.addEventListener("focus",function(t){var n=t.target;e.ctrlFakeCursor({show:!0,activeDom:e.getActiveCursorDom(n.value.length)})})},this.getActiveCursorDom=function(t){return t===g.codelength?null:e.$smslabels[t]},this.changeBtnColorWhenAutoPostCode=function(t){t&&(e.toggleVerifyBtn(!0),setTimeout(function(){e.toggleVerifyBtn(!1)},300))},this.updateFakeInput=function(t){if(/^[0-9]*$/.test(t)){var n=t.length,r=[].concat((0,a.default)(t.split("")),(0,a.default)(v(g.codelength-n," ")));e.codeArray=r,r.forEach(function(t,n){e.$smslabels[n].innerText=t;var r=" "===t?"remove":"add";e.$smslabels[n].classList[r](p.activeInputLabelClassName)}),e.ctrlFakeCursor({show:!1}),e.ctrlFakeCursor({show:!0,activeDom:e.getActiveCursorDom(n)});!function(t){if(t&&e.autoPostCode)return e.changeBtnColorWhenAutoPostCode(e.autoPostCode),e.postCode(),void(e.autoPostCode=!1);t?e.toggleVerifyBtn(!0):e.toggleVerifyBtn(!1)}(n===g.codelength)}else e.$smsinput.value=t.replace(/[^0-9]/gi,"")},this.ctrlFakeCursor=function(t){var n=t.show,r=t.activeDom;n?r&&r.classList.add(p.fakeCursorClassName):e.$smslabels.forEach(function(e){e.classList.remove(p.fakeCursorClassName)})},this.toggleVerifyBtn=function(t){var n=t?"remove":"add";e.$verifibtn.classList[n](p.verifyBtnDisableClassName)},this.showSMSVerificationCode=function(){e.$wrapper.style.display="inline-block",e.inputFocus()},this.hideSMSVerificationCode=function(){e.$wrapper.style.display="none",e.onHide&&e.onHide()},this.returnBtnAddEvent=function(){e.$return.addEventListener(h,function(t){e.hideSMSVerificationCode(),e.verifyBtnRemoveClickClassName()})},this.verifyBtnAddClickClassName=function(){e.$verifibtn.classList.contains(p.verifyBtnClickClassName)||e.$verifibtn.classList.add(p.verifyBtnClickClassName)},this.verifyBtnRemoveClickClassName=function(){e.$verifibtn.classList.remove(p.verifyBtnClickClassName)},this.submitVerifyCodeEvent=function(){e.$verifibtn.addEventListener(h,function(t){e.$verifibtn.classList.contains(p.verifyBtnDisableClassName)||(e.postCode(),e.toggleVerifyBtn(!1))})},this.postCode=function(){var t={phone:e.phone,code:e.codeArray.join("")};e.onsubmit&&e.onsubmit(t,function(){e.clearInput(),e.inputFocus()})},this.getCodeAgain=function(){return l.default.fetch("".concat(e.postUrl).concat(e.postUrl.includes("?")?"&":"?","data=").concat(encodeURIComponent(JSON.stringify(e.postInfo))),"POST",e.postInfo)},this.getCode=(0,i.default)(o.default.mark(function t(){var n,r,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.generateEncryptToken)(e.encryptPhone||e.phone);case 2:n=t.sent,r={phone:e.phone,advertiserId:e.advertiserId,token:e.token,encryptPhone:e.encryptPhone,authToken:n},i=g.getMsgUrl,e.type&&(i=i+"?type="+e.type),e.postInfo=r,e.postUrl=i,l.default.fetch(i,"POST",r).then(function(t){return t&&400===parseInt(t.code,10)&&"data has error"===t.message?e.getCodeAgain():t}).then(function(e){0===e.code?u.default.success("已发送短信验证码"):u.default.error("获取短信验证码失败，请稍后重试")}).catch(function(e){u.default.error("获取短信验证码失败，请稍后重试")});case 9:case"end":return t.stop()}},t)})),this.countdownAddEvent=function(){e.$countdownContainer.addEventListener(h,function(t){var n=e.$countdownContainer.classList;n.contains(p.countdownDisableClassName)||(n.add(p.countdownDisableClassName),e.inputFocus(),e.showtime(),e.getCode())})},this.addZero=function(e,t){var n=(t=t||2)-(e+="").length;return n>0&&(e=new Array(n+1).join("0")+e),e},this.showtime=function(){e.changeSubmitStatus(!1),e.lefttime--;var t=e.addZero(e.lefttime,2);if(e.$time.innerText="(".concat(t,"s)"),e.lefttime<=0)return e.$time.innerText="",e.$countdownContainer.classList.remove(p.countdownDisableClassName),void(e.lefttime=g.LEFTTIME);e.setTimeoutId=setTimeout(e.showtime,1e3)}};t.default=g},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapperClassName=t.verifyBtnDisableClassName=t.verifyBtnClickClassName=t.verifyBtnClassName=t.fakeInputClassName=t.fakeCursorClassName=t.countdownDisableClassName=t.codeErrorClassName=t.activeInputLabelClassName=void 0;t.codeErrorClassName="xj-sms-error-verification-code",t.wrapperClassName="xj-sms-verification-code-wrapper-auto",t.fakeInputClassName="xj-sms-input-label",t.fakeCursorClassName="xj-sms-input-cursor-animation",t.verifyBtnDisableClassName="verify-btn-disable",t.countdownDisableClassName="countdown-disable",t.activeInputLabelClassName="xj-sms-input-label-active",t.verifyBtnClassName="verify-btn",t.verifyBtnClickClassName="verify-btn-click"},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(4)),a=r(n(5)),s=(n(369),n(11)),c=n(437);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"apply",value:function(e){var t=e.formId,n={},r=["gender","radio","imageRadio","checkbox","imageCheckbox"],i={};e.formInfo.isLayerForm&&(i={formtype:2});var a=function(e){var a=e.dom,l=e.source,d=void 0===l?c.PHONE_NUMBER_SOURCE.USER:l,p=a,f=a.dataset.type;r.includes(f)&&(p=a.parentNode);var m=p.dataset,h=m.label,v=m.id,g="false"!==p.dataset.required,y=0;d===c.PHONE_NUMBER_SOURCE.ALTER_AFTER_CLICK_BTN||d===c.PHONE_NUMBER_SOURCE.CLICK_BTN?y=1:d===c.PHONE_NUMBER_SOURCE.AUTO_FILL&&(y=2),n[v]||(n[v]=!0,(0,s.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"fill_form",ei:"4007002",formid:t,status:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({field:{type:f,label:h,required:g},fillType:y},i)}))};e.on("insert",a),e.on("delete",a)}}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(4)),a=r(n(5)),s=(n(369),n(11)),c=r(n(26));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"apply",value:function(e){var t=e.formId,n=e.formInfo,r=["INPUT","TEXTAREA"],o=new Map,i={};n.isLayerForm&&(i={formtype:2});var a=c.default.debounce(function(){o.forEach(function(e){(0,s.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"refill_form",formid:t,status:l(l({},e),i),ei:"4007003"})}),o.clear()},250);e.on("delete",function(e){var t=e.dom;if(r.includes(t.tagName)){var n=t.dataset,i=n.label,s=n.type,c=n.id,u="false"!==t.dataset.required,l=o.get(c),d=(new Date).getTime();l?(l.count++,l.endTime=d,l.timeCost=d-l.starTtime):o.set(c,{filed:{type:s,label:i,required:u},count:1,starTtime:d,endTime:d,timeCost:0}),a()}})}}]),e}();t.default=d},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(42)),a=r(n(4)),s=r(n(5)),c=(n(369),n(11)),u=n(2);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var d=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,[{key:"apply",value:function(e){var t,n=e.formViewModel,r=e.formId,a={};function s(){t?(e.removeListener("insert",s),e.removeListener("delete",s)):t=(new Date).getTime()}e.formInfo.isLayerForm&&(a={formtype:2}),e.on("insert",s),e.on("delete",s),e.on("submitAfterValidation",function(s){var d,p=s.valid,f=n.getAll(),m=(new Date).getTime(),h=f.reduce(function(e,t){var n=(0,i.default)(e,2),r=n[0],o=n[1],a=t.label,s=t.type,c=t.required,u=t.value;return c&&!u&&r.push({label:a,type:s,required:c}),c||u||o.push({label:a,type:s,required:c}),[r,o]},[[],[]]),v=(0,i.default)(h,2),g=v[0],y=v[1];t&&(d=m-t,(0,c.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007038",action_type:"submit_form",formid:r,status:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({valid:p,timeCost:d,nonfillNecessaryFields:g,nonfillunNecessaryFields:y},a),is_auto_save:(0,u.checkFormPhoneAutoSave)(e.$form)}))})}}]),e}();t.default=d},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(4)),a=r(n(5)),s=(n(369),n(11));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"apply",value:function(e){var t,n=e.formViewModel,r=e.formId,i={};function a(){t?(e.removeListener("insert",a),e.removeListener("delete",a)):t=(new Date).getTime()}e.formInfo.isLayerForm&&(i={formtype:2}),e.on("insert",a),e.on("delete",a),e.on("submitSuccess",function(){if(t){var e=n.getAll(),a=e.length,u=e.filter(function(e){return e.value}).length,l=a-u;(0,s.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007039",formid:r,action_type:"subsucess_form",status:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({filledCount:u,noFilledCount:l},i)})}})}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(42)),a=r(n(4)),s=r(n(5)),c=(n(369),n(11));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,[{key:"apply",value:function(e){var t=e.formViewModel,n=e.formId,r=e.formInfo,a=0,s=!1,l="onpagehide"in window?"pagehide":"unload";e.on("insert",p),e.on("delete",p),e.on("submitSuccess",function(){s=!0}),window.addEventListener(l,function(){if(s)return;var e,r=t.getAll(),l=(new Date).getTime(),p=r.reduce(function(e,t,n,r){var o=(0,i.default)(e,3),a=o[0],s=o[1],c=o[2],u=t.label,l=t.type,d=t.value,p=t.required;d?(a.push({label:u,type:l,required:p}),c=void 0):(s.push({label:u,type:l,required:p}),r[n-1]&&(c={label:u,type:l,required:p}));return[a,s,c]},[[],[]]),f=(0,i.default)(p,3),m=f[0],h=f[1],v=f[2];if(!a)return;e=l-a,(0,c.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"abandon_form",formid:n,ei:"4007004",status:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({timeCost:e,lastEmptyField:v,filledFields:m,noFilledFields:h,filledCount:m.length,noFilledCount:h.length},d)})});var d={};function p(){a?(e.removeListener("insert",p),e.removeListener("delete",p)):a=(new Date).getTime()}r.isLayerForm&&(d={formtype:2})}}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),i=r(n(4)),a=r(n(36)),s=r(n(34)),c=r(n(8));function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var l=function(e){(0,a.default)(n,e);var t=u(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this)).$form=e,o.formViewModel=r,o.formInfo=JSON.parse(e.dataset.forminfo),o.formId=o.formInfo.formId,o}return(0,o.default)(n)}(r(n(752)).default);t.default=l},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=r(n(634));n(362);var i=r(n(26)),a=r(n(120)),s=n(2),c=[];function u(){for(var e=document.getElementsByClassName("xj-wx-attention"),t=document.getElementsByClassName("xj-wx-attention-container"),n=function(){var n=e[r].dataset.wechatpackageid,i=e[r].dataset.stalewechatids,u=e[r].dataset.singlewechatidstr,l=e[r].dataset.wechatid,d=e[r].dataset.wechatname,p=e[r].dataset.isneedlead,f=e[r].dataset.autocopywechat,m=e[r].dataset.wechattype,h=e[r].dataset.isdiverting,v=e[r].dataset.buttonstyle,g=e[r].dataset.packagetype,y=e[r].dataset.wechatfanpageid,A=e[r].dataset.$componentid||"",_=JSON.parse(e[r].dataset.iscustomizeddmp||!1),b=e[r].dataset.conversiontime||0,w=e[r].dataset.visitproportion||0,T=e[r].dataset.copytime||0,E=JSON.parse(e[r].dataset.isInteractivePage||!1),S=e[r].dataset.isInteractFinished||"no",O=null;try{var I=JSON.parse(e[r].dataset.wecominfo);I&&(O=I),(0,s.setBtnGestureAnimation)(e[r],"XJWeChatAttention")}catch(e){console.error("解析企微信息失败")}c.push(new o.default({weChatPackageId:n,staleWeChatIds:i,singleWeChatIdStr:u,weChatId:l,weChatName:d,isNeedLead:p,autoCopyWeChat:f,weChatType:m,packageType:g,weChatFanPageId:y,isDiverting:h,buttonStyle:v,$componentId:A,wecomInfo:O,dom:e[r],index:r,wrapperDom:t[r],isCustomizedDmp:_,isDmpReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return E?e>=b&&("yes"===S&&a.default.getGameFinished()||"no"===S)&&n>T:e>=b&&Math.round(1e3*t)/1e3>=w&&n>=T},conversionTimeConf:b,visitProportionConf:w,isInteractivePage:E,isInteractFinished:S}))},r=0;r<e.length;r++)n()}u.showWxAttention=function(e){var t=document.getElementsByClassName("xj-wx-attention-container");e?t[e].style.display="block":Array.prototype.slice.call(t).map(function(e){"none"===e.style.display&&(e.style.display="block")})},u.bindOuterTriggerDom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=c[t];r.asyncLoadWechatIds().then(function(t){var o=t.weChatId;t.codeUrl;r.weChatId||(r.weChatId=o),r.selectedWechatId||(r.selectedWechatId=r.getCopyValue()),e.style.position="relative";var a=document.createElement("div");a.innerText="复制",a.style.cssText="top: -1.17rem;left: 50%",a.classList.add("xj-wx-attention-copy-btn"),i.default.bindLongPress(e,r.onLongPressMainBtn.bind(r,a)),r.bindMainCopyEvent(a,!0),e.appendChild(a),n&&(e.querySelector(".xj-rich-editor__wxAccount").innerText=r.selectedWechatId,e.scrollIntoView())})}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNCIgaGVpZ2h0PSI1IiB2aWV3Qm94PSIwIDAgNCA1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMi40OTMxNyAwLjE5NDgyNEwwLjE5MjMyMiAyLjQ5NzI2TDIuNDk5MDEgNC44MDYwN0MzLjc2OTIzIDMuNTMzMiAzLjc2OTIzIDEuNDcxOTUgMi40OTkwMSAwLjIwMDY2OEMyLjQ5Njg4IDAuMTk4NTQzIDIuNDk0MjMgMC4xOTY5NDkgMi40OTMxNyAwLjE5NDgyNFoiIGZpbGw9IiM1NTUiLz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNCIgaGVpZ2h0PSIxMSIgdmlld0JveD0iMCAwIDQgMTEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xLjc5ODIzIDAuODk3ODlDMS43OTcxNyAwLjg5NTc2NSAxLjc5NTA0IDAuODk0MTcyIDEuNzkyMzkgMC44OTI1NzhMMC42NDI3NjEgMi4wNDM4QzAuNjQzODI0IDIuMDQ1OTIgMC42NDU5NDkgMi4wNDc1MiAwLjY0ODYwNSAyLjA1MDE3QzIuNTUzMTQgMy45NTY4MyAyLjU1MzE0IDcuMDUwMyAwLjY0ODYwNSA4Ljk1ODAxTDEuNzk3NyAxMC4xMDkyQzQuMzQxMzIgNy41NjcyIDQuMzQxMzIgMy40NDE1MSAxLjc5ODIzIDAuODk3ODlaIiBmaWxsPSIjNTU1Ii8+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNSIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDUgMTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yLjA5MjY4IDAuNTg5MzU1TDAuOTQzMDU0IDEuNzQwNTdDMC45NDU3MSAxLjc0MjcgMC45NDY3NzMgMS43NDQyOSAwLjk0OTk2MSAxLjc0NjQyQzQuMTI2MyA0LjkyNTQyIDQuMTI2MyAxMC4wODA3IDAuOTQ5OTYxIDEzLjI1OTdMMi4wOTg1MiAxNC40MTE0QzUuOTA5NzEgMTAuNTk2NSA1LjkwOTcxIDQuNDEwMTEgMi4wOTg1MiAwLjU5NTE5OUMyLjA5NjQgMC41OTM2MDUgMi4wOTUzNCAwLjU5MDk0OSAyLjA5MjY4IDAuNTg5MzU1WiIgZmlsbD0iIzU1NSIvPgo8L3N2Zz4K"},,,,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.cryptoJSEncode=f,t.getToken=p,t.payFetch=function(e,t,n){var r="application/json;charset=UTF-8";-1!==i.CDN_HOSTS.indexOf(window.location.host)&&(r="text/plain;charset=UTF-8");return p().then(function(o){return window.sfetch(e,{headers:{"Content-Type":r,token:o},method:t,mode:"cors",body:JSON.stringify(n)}).then(function(e){return e.json()})})},t.payGXTReport=m;var o=r(n(3)),i=n(7),a=n(2),s=r(n(10)),c=r(n(37)),u=r(n(1)),l=n(89);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(){return new Promise(function(e,t){var n=Date.now();window.CryptoJS?e(f()):(0,s.default)(["//".concat(u.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/crypto-js.min.js?max_age=31536000")],{success:function(){m("gxt_loadjs_success_rate_pay",{val:Date.now()-n,code:0,interface:"load-cryptojs",pageId:window.viewerData.pageId,timing:2}),e(f())},error:function(){m("gxt_loadjs_success_rate_pay",{val:Date.now()-n,code:99999,interface:"load-cryptojs",pageId:window.viewerData.pageId,timing:2}),t()}})})}function f(){var e=l.PAGE_VIEWER.PAY_APP_SCERET,t=Date.now(),n=Math.floor(t/1e3),r="player"+e+n,o=window.CryptoJS.SHA1(r).toString(window.CryptoJS.enc.Hex),i="".concat("player",",").concat(n,",").concat(o),a=window.CryptoJS.enc.Utf8.parse(i);return window.CryptoJS.enc.Base64.stringify(a)}function m(e,t){t.media_name=u.default.mediaName.toLowerCase(),t.media_id=u.default.currentSpaMediaId,t.page_type=u.default.pageType.replace(/-/g,"_"),t.count=1,t.render_style=c.default.getRenderStyle();var n=(0,a.parseUrl)().payChannel;t.payChannel=n||1,t.env=(0,a.isInWechat)()?"WX":"UN_WX",window.tianqinReport&&window.tianqinReport({type:"GXT",data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({attr:e},t)})}},,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){viewerData.pageType.indexOf("app")>=0&&i.default.init();(0,o.default)(["//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/js/swiper.min.js?max_age=31536000","css!//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/css/swiper.min.css?max_age=31536000"],function(){var e=document.querySelectorAll(".xj-image-set"),t=window.innerHeight;[].forEach.call(e,function(e){e.querySelector(".swiper-wrapper").style.height="".concat(t,"px");for(var n=e.querySelectorAll(".image-set-not-first"),r=0;r<n.length;r++)n[r].style.display="flex";new window.Swiper(".xj-image-set",{loop:!0,navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},on:{init:function(){viewerData.pageType.indexOf("app")>=0&&i.default.init();var t=e.querySelectorAll(".tag");t.forEach(function(e){var t=e.parentNode.parentNode,n=t.querySelector(".xj-download-button"),r=t.querySelector(".website-btn");e.addEventListener("click",function(t){if(e&&e.parentNode&&e.parentNode.parentNode&&"function"==typeof e.parentNode.parentNode.querySelector)if(null!==n);else if(null!==r){var o=r.dataset.value,i=JSON.parse(r.dataset.clipboard||"{}");(0,a.jumpLinkCommonFunction)({type:"link",data:{url:o,clipboardConfig:i},event:t})}}),null!==r&&r.addEventListener("click",function(e){var t=r.dataset.value,n=JSON.parse(r.dataset.clipboard||"{}");(0,a.jumpLinkCommonFunction)({type:"link",data:{url:t,clipboardConfig:n},event:e})})})}}})}),(0,a.disableSwipeBackGesture)()})};var o=r(n(10)),i=r(n(52));n(626);var a=n(2)},function(e,t,n){},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},n(631)},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){new c};var o=r(n(4)),i=r(n(5));n(633);var a=r(n(148)),s=n(2),c=function(){function e(){var t=this;(0,o.default)(this,e),this.$container=document.querySelector(".xj-bottom-info"),this.$content=this.$container.querySelector(".content"),a.default.onShow(function(){return t.scaleTextContent()}),window.addEventListener("resize",(0,s.throttle)(this.scaleTextContent).bind(this))}return(0,i.default)(e,[{key:"scaleTextContent",value:function(){var e=this.$content.innerText.length,t=this.$container.offsetWidth,n=1;if(12*e>t&&(n=.8),1!==n){var r=(t-t*n)/2;this.$content.style.transform="scale(".concat(n,")"),this.$content.style.webkitTransform="scale(".concat(n,")"),this.$content.style.width="".concat(t/n,"px"),this.$content.style.marginLeft="-".concat(r+12,"px")}}}]),e}()},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ENV=void 0;var o=r(n(14)),i=r(n(21)),a=r(n(4)),s=r(n(5)),c=n(2),u=n(12),l=n(11),d=r(n(26)),p=n(7),f=r(n(85)),m=(n(369),r(n(47))),h=r(n(120)),v=r(n(37)),g=r(n(1)),y=r(n(19)),A=y.default&&y.default.getSceneEnv&&y.default.getSceneEnv()||{},_=["寽","嗜","彨","恽","扈","曽","朦","欥","毋","壱","歧","毓","氲","芽","悑","嬩","堰","嘤","巠","彧","叨","嵶","廸","怿","恇","扟","掿","斿","柹","昫"],b={PERSION:"PERSION",PUBLIC:"PUBLIC",WECOM:"WECOM"},w={HYBRID:"HYBRID",MICRO:"MICRO_PROGRAM",FANPAGE:"FAN_PAGE"},T=function(){(new u.Report).dmpReport({actionType:u.REPORT_TYPE.XJ_WX_OPEN,customAction:"",actionParam:{OBJECT:"xj_we_chat_open"}})},E={timerOfTimeDiff:null,timerOfVisibilityChange:null,monitorWithTimeDiff:function(e){var t=(new Date).getTime();E.timerOfTimeDiff=setTimeout(function(){var n=(new Date).getTime();window.history.length>1||(n-t>2600?((0,l.TdwReportTrigger)({target:e},{ei:"4007037",action_type:"open_wechat_success"}),T()):(0,l.TdwReportTrigger)({target:e},{ei:"4007037",action_type:"open_wechat_fail"}))},2500)},monitorWithVisibilityChange:function(e){E.timerOfVisibilityChange=m.default.onChange(function(t){"hidden"===t&&(clearTimeout(E.timerOfTimeDiff),(0,l.TdwReportTrigger)({target:e},{ei:"4007037",action_type:"open_wechat_success"}),T(),console.warn("hidden")),"visible"===t&&(console.warn("visible"),m.default.remove(E.timerOfVisibilityChange))}),setTimeout(function(){m.default.remove(E.timerOfVisibilityChange)},1e3)}},S=(t.ENV={DEVELOPMENT:"development",TESTING:"test",PRE_RELEASE:"prerelease",PRODUCTION:"prod"},function(){function e(t){var n=this;(0,a.default)(this,e),this.specialCallbacks={starCallback:function(){n.startClicktime=Date.now(),n.weChatType===b.PERSION&&n.packageType===w.HYBRID&&n.isLongPressBtn&&(n.conversionTime=(n.startClicktime-window.xjPerformance.initStart)/1e3)},endCallback:function(){n.endPressTime=Date.now(),n.copyTime=(n.endPressTime-n.startClicktime)/1e3}},this.init(t)}return(0,s.default)(e,[{key:"init",value:function(e){var t;this.$dom=e.dom,this.index=e.index,this.weChatId=e.weChatId,this.weChatName=e.weChatName,this.weChatPackageId=e.weChatPackageId,this.staleWeChatIds=e.staleWeChatIds,this.singleWeChatIdStr=e.singleWeChatIdStr,this.weChatType=e.weChatType,this.packageType=e.packageType,this.weChatFanPageId=e.weChatFanPageId,this.isNeedLead="false"!==e.isNeedLead,this.autoCopyWeChat="false"!==e.autoCopyWeChat,this.isDiverting=e.isDiverting&&"false"!==e.isDiverting,this.buttonStyle=e.buttonStyle,this.oldWrapperZIndex="",this.isCustomizedDmp=e.isCustomizedDmp||!1,this.wxAttentionWrapper=e.wrapperDom,this.wxAttentionWrapperParent=this.wxAttentionWrapper.parentNode,this.wxAttentionBtn=e.dom.getElementsByClassName("xj-wx-attention-btn")[0],this.dialog=e.dom.getElementsByClassName("xj-wx-attention-dialog")[0],this.closeBtn=e.dom.getElementsByClassName("xj-wx-attention-dialog-close")[0],this.jumpBtn=e.dom.getElementsByClassName("xj-wx-attention-submit-btn")[0],this.activeWxNumberArea=e.dom.getElementsByClassName("xj-wx-attention-wx-number__active")[0],this.wxNumberArea=e.dom.getElementsByClassName("xj-wx-attention-wx-number")[0],this.wxNumberCopyBtn=e.dom.getElementsByClassName("xj-wx-attention-copy-btn__pop")[0],this.wxNumberCopyBtnMain=e.dom.getElementsByClassName("xj-wx-attention-copy-btn__main")[0],this.wxQrcodeBtn=e.dom.getElementsByClassName("xj-wx-attention-qrcode")[0],this.wxDialog=e.dom.getElementsByClassName("xj-wx-attention-dialog")[1],this.wxCloseBtn=e.dom.getElementsByClassName("xj-wx-attention-dialog-close")[1],this.pageCloseBtn=e.dom.getElementsByClassName("xj-wx-attention-page-close-btn")[0],this.asyncLoadWechatIdsPromise=null,this.isLongPressBtn="wxAttention-longPress"===this.buttonStyle,this.isQACustomImage="customImage-qa"===this.buttonStyle,this.conversionTime=1/0,this.copyTime=1/0,this.isDmpReport=e.isDmpReport,this.isCustomizedDmp&&(this.startClicktime=null,this.endPressTime=null),this.conversionTimeConf=e.conversionTimeConf,this.visitProportionConf=e.visitProportionConf,this.isInteractivePage=e.isInteractivePage,this.isInteractFinished=e.isInteractFinished,this.needExtraCopyText=!0,this.selectedWechatId="",this.codeUrl="",this.componentId=e.$componentId,this.wecomInfo=e.wecomInfo,this.initEvent(),e.wecomInfo&&(t=e.wecomInfo.weComBackgroundImageUrl)&&(0,c.isInWechat)()&&setTimeout(function(){(new Image).src=t},3e3),this.weChatMiniProgramid=c.ADD_FANS_MINI_ID}},{key:"initEvent",value:function(){var e=this;if(this.wxQrcodeBtn&&(!this.wxQrcodeBtn.getAttribute("isBindEvent")&&!(0,c.isInWechat)()&&g.default&&"1"!==g.default.requestSource)){var t=document.createElement("div");t.style.position="absolute",t.style.width="85%",t.style.height="85%",this.wxQrcodeBtn.insertBefore(t,this.wxQrcodeBtn.firstChild),(0,c.preloadWeComMiniProgram)(this.wecomInfo,{reportName:"XJWeChatAttention"}),d.default.bindLongPress(this.wxQrcodeBtn,function(){(0,c.jumpToWeComMiniProgram)(e.wecomInfo,{reportName:"XJWeChatAttention"},e.componentId)},100,!0,{}),this.wxQrcodeBtn.setAttribute("isBindEvent",!0)}if(this.wxAttentionBtn)if(this.isLongPressBtn)d.default.bindLongPress(this.wxAttentionBtn,this.onLongPressMainBtn.bind(this,this.wxNumberCopyBtnMain),600,!0,this.specialCallbacks),this.bindMainCopyEvent(this.wxNumberCopyBtnMain),this.asyncLoadWechatIds().then(function(t){var n=t.weChatId,r=t.codeUrl;e.weChatId=n,e.codeUrl=r||"",e.selectedWechatId=e.getCopyValue(),e.wxAttentionBtn.innerHTML=e.getText()}),this.conditionPreloadWeChatMiniProgram();else{if("iOS"!==(0,c.judgeClient)()||(0,c.isInWechat)()&&this.isPersionAccountType()||this.isNeedLead||this.asyncLoadWechatIds().then(function(t){var n=t.weChatId,r=t.codeUrl;e.weChatId=n,e.codeUrl=r||""}),this.bindAttentionClick(this.wxAttentionBtn),this.weChatType===b.WECOM&&g.default)if("1"===g.default.requestSource)"nativePage"===this.wecomInfo.jumpPath?(new c.MiniPagePreview).addCodePreview(this.wecomInfo,1):(0,c.getWeComCodePreviewInstance)().addCodePreview(this.wecomInfo,1);else if(this.wecomInfo.autoJumpFollowPage){if(A.disableAutoInstall)return;(0,c.jumpToWeComMiniProgram)(this.wecomInfo,{reportName:"XJWeChatAttention"},this.componentId,!1)}else(0,c.isInWechat)()||"nativePage"!==this.wecomInfo.jumpType&&(0,c.preloadWeComMiniProgram)(this.wecomInfo,{reportName:"XJWeChatAttention"});this.conditionPreloadWeChatMiniProgram()}(0,c.isInWechat)()&&this.isPersionAccountType()?(this.wxCloseBtn&&this.bindCloseClick(this.wxCloseBtn),this.pageCloseBtn&&this.bindJumpBtnClick(this.pageCloseBtn)):(this.closeBtn&&this.bindCloseClick(this.closeBtn),this.jumpBtn&&this.bindJumpBtnClick(this.jumpBtn)),this.activeWxNumberArea&&this.bindWxNumberLongPress(this.activeWxNumberArea),this.wxNumberCopyBtn&&this.bindCopyBtnEvent(this.wxNumberCopyBtn)}},{key:"conditionPreloadWeChatMiniProgram",value:function(){if(this.isPersionMiniAccountType()&&g.default&&"1"!==g.default.requestSource&&!(0,c.isInWechat)()){var e={miniProgram_id:this.weChatMiniProgramid};(0,c.preloadWeChatMiniProgram)(e,{reportName:"XJWeChatAttention"})}}},{key:"asyncLoadWechatIds",value:function(){var e=this;return this.asyncLoadWechatIdsPromise?this.asyncLoadWechatIdsPromise:(this.asyncLoadWechatIdsPromise=new Promise(function(t,n){if(e.weChatType===b.PUBLIC)t({weChatId:e.weChatId});else if(e.weChatPackageId){var r=(new Date).getTime();d.default.fetch("".concat(p.backendUrl,"/wechat/getWeChatIdsByPackageId/").concat(e.weChatPackageId,"?version=1&advertiserId=").concat(g.default.accountId,"&traceId=").concat((0,c.getTraceId)()),"GET").then(function(e){var o=(new Date).getTime();if(0!==e.code||!e.data)throw n({msg:"无可用微信号"}),new Error("getWeChatIdsByPackageId error: ".concat(JSON.stringify(e)));window.tianqinReport&&window.tianqinReport({type:"GXT",data:{attr:"xj_get_wechatids_by_id_time_cost",val:o-r,count:1,requestError:0,errorMsg:""}});var i=e.data,a=i.name,s=i.code_url;t({weChatId:a,codeUrl:s})}).catch(function(n){window.tianqinReport&&window.tianqinReport({type:"GXT",data:{attr:"xj_get_wechatids_by_id_time_cost",val:9999,count:1,requestError:1,errorMsg:n}}),t({weChatId:e.staleWeChatIds})})}else e.weChatId?t({weChatId:e.weChatId}):e.singleWeChatIdStr&&t({weChatId:e.singleWeChatIdStr.replace(/\(.*?\)/g,"").replace(/\n/g,",").replace(/,$/,"")})}),this.asyncLoadWechatIdsPromise)}},{key:"bindAttentionClick",value:function(e){var t=this;(0,c.on)(e,"click",function(e){if(v.default.sendRPT(v.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),t.weChatType===b.PERSION&&t.packageType===w.HYBRID&&(t.conversionTime=(Date.now()-window.xjPerformance.initStart)/1e3),t.weChatType===b.WECOM)return(0,l.TdwReportTrigger)({reportName:"XJWeChatAttention"},{action_type:"etp_attention_xj_click"}),void("nativePage"===t.wecomInfo.jumpPath?(0,c.jumpToMiniPage)({weComInfo:t.wecomInfo,ev:{reportName:"XJWeChatAttention"},componentId:t.componentId}):(0,c.jumpToWeComMiniProgram)(t.wecomInfo,{reportName:"XJWeChatAttention"},t.componentId));t.asyncLoadWechatIds().then(function(){var n=(0,i.default)(o.default.mark(function n(r){var i,a,s,u,d,p;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.weChatId,a=r.codeUrl,t.weChatId=i,t.codeUrl=a||"",!t.isPersionMiniAccountType()||!t.weChatPackageId){n.next=23;break}if(s=window.LandingPageInsightSDKInstance&&window.LandingPageInsightSDKInstance.getmaxDepth()||0,u=100*(s+screen.height)/document.body.scrollHeight,d={dom:t.$dom,miniProgram_id:t.weChatMiniProgramid,miniProgram_app_id:c.ADD_FANS_MINI_APP_ID,isCustomizedDmp:t.isCustomizedDmp,pageInitTime:window.xjPerformance.initStart,visitProportion:Math.round(1e3*u)/1e3,conversionTimeConf:t.conversionTimeConf,visitProportionConf:t.visitProportionConf,isInteractivePage:t.isInteractivePage,isInteractFinished:"yes"===t.isInteractFinished&&h.default.getGameFinished()||"no"===t.isInteractFinished,packageType:t.packageType,weChatFanPageId:t.weChatFanPageId,codeUrl:t.codeUrl,weChatName:t.weChatId,packageId:t.weChatPackageId},t.packageType!==w.FANPAGE){n.next=18;break}if(t.weChatFanPageId){n.next=10;break}return n.abrupt("return",f.default.error("自定义加粉页不存在"));case 10:return n.next=12,t.getFanPageToken(t.weChatFanPageId);case 12:if(p=n.sent){n.next=17;break}return n.abrupt("return",f.default.error("获取token失败，请重试！"));case 17:d.fanPageToken=p;case 18:return(0,c.jumpToWeChatMiniProgram)(d,e,t.componentId),(0,l.TdwReportTrigger)({target:t.$dom},{action_type:"miniapp_forward_h5_click"}),n.abrupt("return");case 23:(0,l.TdwReportTrigger)(e,{ei:"4007001",action_type:"attention_btn_click"});case 24:t.wxNumberArea&&(t.selectedWechatId=t.getCopyValue(),t.wxNumberArea.innerHTML="<span>".concat(t.getText(),"</span>")),t.autoCopyWeChat&&t.copyAndReport(),t.commonProcessAfterUserAction();case 27:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()).catch(function(e){f.default.error("".concat(e&&e.msg||"无可用微信号"))})})}},{key:"getFanPageToken",value:function(e){return new Promise(function(t){var n=g.default.pageId,r={id:e,advertiserId:g.default.accountId,businessId:"xj_landingpage"},o=n&&Number(n)>1;o&&(r.landingPageId=n);var i=p.backendUrl+"/fanpage/".concat(o?"token":"previewToken");d.default.fetch(i,"POST",r).then(function(e){0===e.code&&e.data?t(encodeURIComponent(e.data)):(window.aegis&&window.aegis.report("getFanPageToken失败： ".concat(JSON.stringify(e),", data is: ").concat(JSON.stringify(r),", request url is: ").concat(i,", page url is: ").concat(location.href)),t(null))}).catch(function(e){window.aegis&&window.aegis.report("getFanPageToken失败： ".concat(e,", data is: ").concat(JSON.stringify(r),", request url is: ").concat(i,", page url is: ").concat(location.href)),t(null)})})}},{key:"commonProcessAfterUserAction",value:function(e){(0,c.isInWechat)()&&this.isPersionAccountType()?this.showTipDialog():!this.isNeedLead||this.isLongPressBtn||e?this.jumpToWeChat():this.showTipDialog()}},{key:"bindCloseClick",value:function(e){var t=this;(0,c.on)(e,"click",function(e){t.closeTipDialog()})}},{key:"bindJumpBtnClick",value:function(e){var t=this;(0,c.on)(e,"click",function(e){t.jumpToWeChat()})}},{key:"bindCopyBtnEvent",value:function(e){var t=this;(0,c.on)(e,"click",function(e){t.copyAndReport(),t.jumpToWeChat()}),(0,c.on)(this.dialog,"click",function(){"none"!==t.wxNumberCopyBtn.style.display&&(t.wxNumberCopyBtn.style.display="none",window.getSelection().removeAllRanges())})}},{key:"bindWxNumberLongPress",value:function(e){var t=this;(0,c.on)(e,"copy",function(e){t.jumpToWeChat()}),d.default.bindLongPress(e,this.simulateLongPressCopyPop.bind(this),600,!0,this.specialCallbacks)}},{key:"simulateLongPressCopyPop",value:function(e){this.wxNumberCopyBtn.style.display="block";var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}},{key:"onLongPressMainBtn",value:function(e,t){if(this.selectedWechatId)if(v.default.sendRPT(v.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),this.isPersionMiniAccountType()&&this.weChatPackageId){var n=100*((window.LandingPageInsightSDKInstance&&window.LandingPageInsightSDKInstance.getmaxDepth()||0)+screen.height)/document.body.scrollHeight,r={codeUrl:this.codeUrl,miniProgram_id:this.weChatMiniProgramid,isCustomizedDmp:this.isCustomizedDmp,pageInitTime:window.xjPerformance.initStart,visitProportion:Math.round(1e3*n)/1e3,conversionTimeConf:this.conversionTimeConf,visitProportionConf:this.visitProportionConf,isInteractivePage:this.isInteractivePage,isInteractFinished:"yes"===this.isInteractFinished&&h.default.getGameFinished()||"no"===this.isInteractFinished};(0,c.jumpToWeChatMiniProgram)(r,t,this.componentId),(0,l.TdwReportTrigger)({target:this.$dom},{action_type:"miniapp_forward_h5_click"})}else e.style.display="block",(0,l.TdwReportTrigger)({target:e},{ei:"4007001",action_type:"attention_btn_click"});else f.default.error("无可用微信号")}},{key:"bindMainCopyEvent",value:function(e,t){var n=this;e.addEventListener("touchend",function(){e.style.display="none",n.copyAndReport(),n.commonProcessAfterUserAction(t)},!0),(0,c.on)(document.body,"click",function(){"none"!==e.style.display&&(e.style.display="none")})}},{key:"productReport",value:function(){(new u.Report).dmpReport({actionType:u.REPORT_TYPE.LINK,customAction:""})}},{key:"buyReport",value:function(){(new u.Report).dmpReport({actionType:u.REPORT_TYPE.COMPLETE_ORDER,customAction:""})}},{key:"jumpToWeChatReport",value:function(){(new u.Report).dmpReport({map:u.REPORT_TYPE_MAPS.JUMP_TO_WX})}},{key:"combinedReport",value:function(){this.productReport(),this.buyReport(),this.jumpToWeChatReport()}},{key:"getText",value:function(){var e="获取出错";if(this.isPersionAccountType())if(this.weChatPackageId&&window["selectedWechatIdOfPackage_".concat(this.weChatPackageId)])e=window["selectedWechatIdOfPackage_".concat(this.weChatPackageId)];else{var t=this.weChatId.split(",");e=t[Math.floor(Math.random()*t.length)]||t[0]}else e=this.isPublicType()&&this.isDiverting?this.weChatId||e:this.weChatId;return e}},{key:"getCopyValue",value:function(){var e="获取出错",t="";if(this.isPersionAccountType())if(this.weChatPackageId&&window["selectedWechatIdOfPackage_".concat(this.weChatPackageId)])e=window["selectedWechatIdOfPackage_".concat(this.weChatPackageId)];else{var n=this.weChatId.split(",");e=n[Math.floor(Math.random()*n.length)]||n[0],this.weChatPackageId&&(window["selectedWechatIdOfPackage_".concat(this.weChatPackageId)]=e)}else if(this.isPublicType()&&this.isDiverting){if(this.weChatName)e="#公众号：".concat(this.weChatId,"/").concat(this.weChatName);else{var r=function(e){return Math.floor(Math.random()*e)};e="".concat(this.weChatId,"/").concat(r(10)).concat(r(10)).concat(_[r(_.length)]).concat(_[r(_.length)])}t=this.weChatId}else e=this.weChatId;return this.wxNumberArea&&(this.wxNumberArea.innerHTML="<span>".concat(t||e,"</span>")),e}},{key:"isPublicType",value:function(){return this.weChatType&&this.weChatType===b.PUBLIC}},{key:"isPersionAccountType",value:function(){return this.weChatType&&this.weChatType===b.PERSION}},{key:"isPersionMiniAccountType",value:function(){return this.weChatType&&this.weChatType===b.PERSION&&this.packageType&&(this.packageType===w.MICRO||this.packageType===w.FANPAGE)}},{key:"weChatIdCopyReport",value:function(e){(new u.Report).dmpReport({actionType:u.REPORT_TYPE.WX_ID_COPY,customAction:"xj_we_chat_copy",actionParam:{OBJECT:"xj_we_chat_copy",weChatName:e}}),(0,l.TdwReportTrigger)({target:this.$dom},{action_type:"xj_we_chat_copy",ei:"4007035",status:{weChatName:e}})}},{key:"miniAppJumpReport",value:function(){(new u.Report).dmpReport({map:u.REPORT_TYPE_MAPS.JUMP_TO_WX}),this.productReport(),this.buyReport()}},{key:"copyAndReport",value:function(){var e=this;this.selectedWechatId||(this.selectedWechatId=this.getCopyValue()),(0,c.copyText)(this.selectedWechatId,function(){e.weChatIdCopyReport(e.selectedWechatId),e.needExtraCopyText=!1},function(){e.needExtraCopyText=!0,e.weChatIdCopyReport(e.selectedWechatId),(0,l.TdwReportTrigger)({target:e.$dom},{action_type:"wechat_copy_fail",ei:"4007036"}),"iOS"!==(0,c.judgeClient)()||(0,c.isInWechat)()&&e.isPersionAccountType()||e.isNeedLead||f.default.warning("再次点击按钮跳转微信")})}},{key:"copyNotReport",value:function(){(0,c.copyText)(this.selectedWechatId,function(){},function(){console.warn("copy failed again")})}},{key:"jumpToWeChat",value:function(){var e=this;this.needExtraCopyText&&this.copyNotReport();var t=100*((window.LandingPageInsightSDKInstance&&window.LandingPageInsightSDKInstance.getmaxDepth()||0)+screen.height)/document.body.scrollHeight;return this.weChatType===b.PERSION&&this.packageType===w.HYBRID?(!this.isCustomizedDmp||this.isCustomizedDmp&&this.isDmpReport(this.conversionTime,t,this.copyTime))&&this.combinedReport():this.combinedReport(),(0,c.isInWechat)()&&this.isPersionAccountType()?(this.closeTipDialog(),setTimeout(function(){window&&window.close()},500)):(0,c.isInWechat)()?((0,l.TdwReportTrigger)({target:this.$dom},{ei:"4007037",action_type:"open_wechat_success"}),(0,l.TdwReportTrigger)({target:this.$dom},{action_type:"open_wechat"}),void T()):void setTimeout(function(){clearTimeout(E.timerOfTimeDiff),clearTimeout(E.timerOfVisibilityChange),(0,l.TdwReportTrigger)({target:e.$dom},{action_type:"open_wechat"}),E.monitorWithTimeDiff(e.$dom),E.monitorWithVisibilityChange(e.$dom),location.href="weixin://"},500)}},{key:"showTipDialog",value:function(){this.unLimitWrapperZIndex(),(0,c.isInWechat)()&&this.isPersionAccountType()?(this.wxDialog.style.display="block",document.body.style.overflow="hidden",this._originTipParent=this.wxDialog.parentNode,document.body.append(this.wxDialog)):(this._originDialogParent=this.dialog.parentNode,document.body.append(this.dialog),this.dialog.style.display="block"),document.body.style.overflow="hidden"}},{key:"unLimitWrapperZIndex",value:function(){this.wxAttentionWrapper&&(this.oldWrapperZIndex=this.wxAttentionWrapper.style.zIndex,this.wxAttentionWrapper.style.zIndex=1e4,this.isInLayout="xj-layout-components"===this.wxAttentionWrapperParent.getAttribute("class"),this.isInLayout&&(this.oldLayoutZIndex=this.wxAttentionWrapperParent.style.zIndex,this.wxAttentionWrapperParent.style.zIndex=1e4))}},{key:"resetWrapperZIndex",value:function(){this.wxAttentionWrapper&&(this.wxAttentionWrapper.style.zIndex=this.oldWrapperZIndex,this.isInLayout&&(this.wxAttentionWrapperParent.style.zIndex=this.oldLayoutZIndex))}},{key:"closeTipDialog",value:function(){this.resetWrapperZIndex(),(0,c.isInWechat)()&&this.isPersionAccountType()?(this.wxDialog.style.display="none",this._originTipParent&&this._originTipParent.append(this.wxDialog)):(this.dialog.style.display="none",this._originDialogParent&&this._originDialogParent.append(this.dialog)),document.body.style.overflow="auto"}}]),e}());t.default=S},,,,,,,,,,,,,,,,,,,function(e,t,n){
/*!
 * 
 *   typed.js - A JavaScript Typing Animation Library
 *   Author: Matt Boldt <me@mattboldt.com>
 *   Version: v2.0.12
 *   Url: https://github.com/mattboldt/typed.js
 *   License(s): MIT
 * 
 */
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(3),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.initializer.load(this,n,t),this.begin()}return r(e,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){e.currentElContent&&0!==e.currentElContent.length?e.backspace(e.currentElContent,e.currentElContent.length):e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)},this.startDelay)}},{key:"typewrite",value:function(e,t){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var r=this.humanizer(this.typeSpeed),o=1;!0!==this.pause.status?this.timeout=setTimeout(function(){t=i.htmlParser.typeHtmlChars(e,t,n);var r=0,a=e.substr(t);if("^"===a.charAt(0)&&/^\^\d+/.test(a)){var s=1;s+=(a=/\d+/.exec(a)[0]).length,r=parseInt(a),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),e=e.substring(0,t)+e.substring(t+s),n.toggleBlinking(!0)}if("`"===a.charAt(0)){for(;"`"!==e.substr(t+o).charAt(0)&&!(t+ ++o>e.length););var c=e.substring(0,t),u=e.substring(c.length+1,t+o),l=e.substring(t+o+1);e=c+u+l,o--}n.timeout=setTimeout(function(){n.toggleBlinking(!1),t>=e.length?n.doneTyping(e,t):n.keepTyping(e,t,o),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))},r)},r):this.setPauseStatus(e,t,!0)}},{key:"keepTyping",value:function(e,t,n){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),t+=n;var r=e.substr(0,t);this.replaceText(r),this.options.onStringTyping&&this.options.onStringTyping(e,t),this.typewrite(e,t)}},{key:"doneTyping",value:function(e,t){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){n.backspace(e,t)},this.backDelay))}},{key:"backspace",value:function(e,t){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var r=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){t=i.htmlParser.backSpaceHtmlChars(e,t,n);var r=e.substr(0,t);if(n.replaceText(r),n.smartBackspace){var o=n.strings[n.arrayPos+1];o&&r===o.substr(0,t)?n.stopNum=t:n.stopNum=0}t>n.stopNum?(t--,n.backspace(e,t)):t<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],t))},r)}else this.setPauseStatus(e,t,!1)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(e,t,n){this.pause.typewrite=n,this.pause.curString=e,this.pause.curStrPos=t}},{key:"toggleBlinking",value:function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(e){return Math.round(Math.random()*e/2)+e}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e}},{key:"bindFocusEvents",value:function(){var e=this;this.isInput&&(this.el.addEventListener("focus",function(t){e.stop()}),this.el.addEventListener("blur",function(t){e.el.value&&0!==e.el.value.length||e.start()}))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,a=n(2),s=(i=a)&&i.__esModule?i:{default:i},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"load",value:function(e,t,n){if(e.el="string"==typeof n?document.querySelector(n):n,e.options=r({},s.default,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map(function(e){return e.trim()}),"string"==typeof e.options.stringsElement?e.stringsElement=document.querySelector(e.options.stringsElement):e.stringsElement=e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.display="none";var o=Array.prototype.slice.apply(e.stringsElement.children),i=o.length;if(i)for(var a=0;a<i;a+=1){var c=o[a];e.strings.push(c.innerHTML.trim())}}for(var a in e.strPos=0,e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.sequence=[],e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.strings)e.sequence[a]=a;e.currentElContent=this.getCurrentElContent(e),e.autoInsertCss=e.options.autoInsertCss,this.appendAnimationCss(e)}},{key:"getCurrentElContent",value:function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent}},{key:"appendAnimationCss",value:function(e){if(e.autoInsertCss&&(e.showCursor||e.fadeOut)&&!document.querySelector("[data-typed-js-css]")){var t=document.createElement("style");t.type="text/css",t.setAttribute("data-typed-js-css",!0);var n="";e.showCursor&&(n+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),e.fadeOut&&(n+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==t.length&&(t.innerHTML=n,document.body.appendChild(t))}}}]),e}();t.default=c;var u=new c;t.initializer=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(e){},onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}};t.default=n,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"typeHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var r=e.substr(t).charAt(0);if("<"===r||"&"===r){var o="";for(o="<"===r?">":";";e.substr(t+1).charAt(0)!==o&&!(++t+1>e.length););t++}return t}},{key:"backSpaceHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var r=e.substr(t).charAt(0);if(">"===r||";"===r){var o="";for(o=">"===r?"<":"&";e.substr(t-1).charAt(0)!==o&&!(--t<0););t--}return t}}]),e}();t.default=r;var o=new r;t.htmlParser=o}])},e.exports=r()},function(e,t,n){"use strict";var r=n(0),o=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.querySelector(".xj-material");"video"===e.getAttribute("data-type")?h(e):m(e)};var i=r(n(10));n(655);var a=n(363),s=n(2),c=n(88),u=n(7),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(47)),d=n(307);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f=4e3,m=function(e){(0,i.default)(["//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/js/swiper.min.js?max_age=31536000","css!//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/css/swiper.min.css?max_age=31536000"],function(){for(var t,n,r=e.getElementsByClassName("material-carousel-swiper-container"),o=e.getAttribute("data-img-length"),i=0;i<r.length;i++){var c={loop:!0,centeredSlides:!0,autoplay:!1,allowTouchMove:!1};o>1&&(c.autoplay={delay:(t=1,void 0,n=f-500*t,n>0?n:0),disableOnInteraction:!1},c.allowTouchMove=!0),(0,a.renderSwiper)({effect:"coverflow",container:r[i],basicConfig:c})}(0,s.disableSwipeBackGesture)()})},h=function(e){var t=e.querySelector(".xj-video-for-material"),n=t.querySelector(".video-before-init"),r=t.querySelector(".data-video");r.setAttribute("id","xj-material-video");var o=r.getAttribute("data-vId"),a=r.getAttribute("data-poster")||"",p=window.innerWidth>450?450:window.innerWidth-0-0,f="".concat(p,"px"),m="".concat(p/""*"","px");if(!0!==JSON.parse(r.getAttribute("enable-super-player"))){window.Txplayer?(0,c.initVideo)({vid:o,containerId:"xj-material-video",playerWidth:f,playerHeight:m,thumbnailUrl:a,videoBeforeInit:n,videoDom:r,videoWrapper:t,size:"",url:""}):(0,i.default)(u.TENCENT_VIDEO_JS_API_V3,function(){(0,c.initVideo)({vid:o,containerId:"xj-material-video",playerWidth:f,playerHeight:m,thumbnailUrl:a,videoBeforeInit:n,videoDom:r,videoWrapper:t,size:"",url:""})});var h=0;window.addEventListener("scroll",function(){var e,n;(n=window.pageYOffset)>h?e=c.DIRECTION.UP:n<h&&(e=c.DIRECTION.DOWN),h=n,(0,c.loopVideos)([t],function(t){var n=t.videoDom,r=t.player,o=t.containerId;r&&"function"==typeof r.getPlayerState&&(0,c.videoDetect)({winInnerHeight:window.innerHeight,direction:e,videoBoundingClientRet:n.getBoundingClientRect(),playerState:r.getPlayerState(),player:r,videoDom:n,containerId:o})})}),window.addEventListener("resize",function(){var e=function(){c.playerList.forEach(function(e){var t=e.player,n=e.videoWrapper,r=e.videoInfo;if(r){var o=r.width,i=r.height,a=window.innerWidth>450?450:window.innerWidth,s=a,c=i/(o/a);n.style.width="".concat(s,"px"),n.style.height="".concat(c,"px"),t&&"function"==typeof t.resize&&t.resize({width:s,height:c})}})};e();var t=0,n=setInterval(function(){++t<5?e():clearInterval(n)},100)}),l.default.onChange(function(e){e===l.STATE_HIDDEN&&(0,c.pauseAllVideo)()}),(0,s.disableSwipeBackGesture)()}else new d.SdkVideo({containerId:"xj-material-video",vid:o,poster:a,sourceType:"vid",url:"",size:0,isPreview:!1,componentType:"outerMaterialVideo",elVideoBeforeInit:n})}},function(e,t,n){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},n(658)},function(e,t,n){},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},n(664)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},n(666)},function(e,t,n){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}(document.getElementsByClassName("xj-shape"));try{for(t.s();!(e=t.n()).done;){var n=e.value,r=JSON.parse(n.getAttribute("data-shape")),a=JSON.parse(n.getAttribute("data-style")),s=n.getAttribute("data-patternId"),c=i(r.shape),u=c.viewBox,l=c.pathElm;n.querySelector("svg").setAttribute("viewBox",u);var d={w:100,h:100,x:0,y:0},p=r.image,f=a.width/p.width,m=a.height/p.height,h=Math.max(f,m);f-m>=0?(d.h=h*p.height/a.height*100,d.y=-(d.h-100)/2):(d.w=h*p.width/a.width*100,d.x=-(d.w-100)/2);var v='\n            <defs>\n                <pattern id="'.concat(s,'" patternUnits="userSpaceOnUse" height="100%" width="100%">\n                    <image x="').concat(d.x,'%" y="').concat(d.y,'%" width="').concat(d.w,'%" height="').concat(d.h,'%" transform="scale(1, 1)" \n                        xlink:href="').concat(p.url,'"\n                    ></image>\n                </pattern>\n            </defs>\n        '),g="";r.isPure||(g+=v),g+=l,n.querySelector("svg").innerHTML=g}}catch(e){t.e(e)}finally{t.f()}},n(669);var r=n(670);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=function(e){switch(e){case r.SHAPE_NAME_MAP.CIRCLE:return{viewBox:"0 0 1000 1000",pathElm:'<path d="M1000 500c0 276.143-223.857 500-500 500S0 776.143 0 500C0 223.857 223.857 0 500 0s500 223.857 500 500z" />'};case r.SHAPE_NAME_MAP.RECTANGLE:return{viewBox:"0 0 36 36",pathElm:'<path d="M0 0h36v36H0z" />'};case r.SHAPE_NAME_MAP.PARALLELOGRAM:return{viewBox:"0 0 46 28",pathElm:'<path d="M9.2 0H46l-9.2 28H0z" />'};case r.SHAPE_NAME_MAP.SEMICIRCLE:return{viewBox:"0 0 120 60",pathElm:'<path d="M120 60c0-33.137-26.863-60-60-60S0 26.863 0 60h120z" />'};case r.SHAPE_NAME_MAP.QUARTER_CIRCLE:return{viewBox:"0 0 32 32",pathElm:'<path d="M32 0C14.327 0 0 14.327 0 32h32V0z" />'};case r.SHAPE_NAME_MAP.PENTAGON:return{viewBox:"0 0 40 38",pathElm:'<path d="M20 31.5L7.657 37.99l2.357-13.745L.028 14.51l13.8-2.006L20 0l6.172 12.505 13.8 2.006-9.986 9.734 2.357 13.744z" />'};case r.SHAPE_NAME_MAP.ROUND_PENTAGON:return{viewBox:"0 0 36 36",pathElm:'<path d="M34.992 16.633A3.427 3.427 0 0 0 36 14.201c.009-1.474-.931-2.792-2.346-3.289a3.114 3.114 0 0 0-1.032-.197l-7.863-1.2-3.588-7.524A3.524 3.524 0 0 0 18 0a3.532 3.532 0 0 0-3.17 1.991L11.24 9.515l-8.259 1.238C1.254 11.02-.015 12.486 0 14.201c0 .95.387 1.811 1.008 2.432l6.072 6.124-1.407 8.491a3.533 3.533 0 0 0 .117 1.597 3.484 3.484 0 0 0 1.335 1.824c.75.52 1.692.712 2.592.565a3.524 3.524 0 0 0 1.431-.562l6.855-3.709 7.182 3.906c.027.018.054.024.078.038a3.538 3.538 0 0 0 3.63-.247 3.48 3.48 0 0 0 1.434-3.409l-.015-.088-1.395-8.403 6.075-6.127z" />'};case r.SHAPE_NAME_MAP.TRIANGLE:return{viewBox:"0 0 40 36",pathElm:'<path d="M20 0l20 36H0z" />'};case r.SHAPE_NAME_MAP.DIAMOND:return{viewBox:"0 0 44 44",pathElm:'<path d="M.787 22L22 .787 43.213 22 22 43.213z" />'};case r.SHAPE_NAME_MAP.HEXAGON:return{viewBox:"0 0 40 35",pathElm:'<path d="M30 0H10L0 17.363l10 17.362h20l10-17.362z" />'};case r.SHAPE_NAME_MAP.SUNLIGHT:return{viewBox:"0 0 38 38",pathElm:'<path d="M24.091 0l2.939 5.091h5.879l-.001 5.878L38 13.909l-2.94 5.09L38 24.091l-5.092 2.94.001 5.878-5.879-.001L24.091 38 19 35.06 13.909 38l-2.94-5.092-5.878.001V27.03L0 24.091 2.939 19 0 13.909l5.091-2.94V5.091h5.878L13.909 0l5.09 2.939L24.091 0z" />'};case r.SHAPE_NAME_MAP.BUBBLE_BOX:return{viewBox:"0 0 120 120",pathElm:'<path d="M60 120c33.137 0 60-26.863 60-60S93.137 0 60 0 0 26.863 0 60v60h60z" />'};case r.SHAPE_NAME_MAP.HEART:return{viewBox:"0 0 40 35",pathElm:'<path d="M10.402 0c-2.8 0-5.266.98-7.4 2.945C1.002 5.045 0 7.47 0 10.22s1.002 5.173 2.998 7.27L20 34.286l16.998-16.797c2-2.029 3.002-4.456 3.002-7.27 0-2.814-1.002-5.241-2.998-7.27C34.864.985 32.397 0 29.598 0c-2.799 0-5.265.98-7.4 2.945l-1.697 1.57c-.333.331-.665.331-1.002 0L17.8 3.047C15.732 1.02 13.266 0 10.401 0z" />'};case r.SHAPE_NAME_MAP.OBLONG:return{viewBox:"0 0 1000 1000",pathElm:'<path d="M500 0c87.203 0 157.895 70.691 157.895 157.895v684.211c0 87.203-70.691 157.895-157.895 157.895-87.203 0-157.895-70.691-157.895-157.895V157.895C342.105 70.692 412.796 0 500 0z" />'};case r.SHAPE_NAME_MAP.ARROR:return{viewBox:"0 0 43 24",pathElm:'<path d="M28 0l15 12-15 12v-7H0V8h28V0z" />'};default:return{viewBox:"0 0 1000 1000",pathElm:'<path d="M1000 500c0 276.143-223.857 500-500 500S0 776.143 0 500C0 223.857 223.857 0 500 0s500 223.857 500 500z" />'}}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHAPE_NAME_MAP=void 0;t.SHAPE_NAME_MAP={CIRCLE:"1",RECTANGLE:"2",PARALLELOGRAM:"3",SEMICIRCLE:"4",QUARTER_CIRCLE:"5",PENTAGON:"6",ROUND_PENTAGON:"7",TRIANGLE:"8",DIAMOND:"9",HEXAGON:"10",SUNLIGHT:"11",BUBBLE_BOX:"12",HEART:"13",OBLONG:"14",ARROR:"15"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LeadVideo=void 0;var r=n(756);t.LeadVideo=r.initImpl,t.default=r.initImpl},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LeadImage=void 0;var o=r(n(24)),i=n(508);n(704);var a=t.LeadImage=function(){var e=document.querySelector(".xj-margin-wrapper"),t=document.querySelectorAll(".xj-lead-image");(0,o.default)(t).forEach(function(t){if(!t.getAttribute("data-has-init")){t.setAttribute("data-has-init","true");var n=t.querySelector(".xj-lead-image-data"),r=t.querySelector(".xj-lead-image-close"),o=JSON.parse(n.getAttribute("lead-image-bounds")),a=o.x,s=o.y,c=o.w,u=o.h;new i.LeadMaterialFixedModel({elComponent:t,elPageRoot:e,elCloseBtn:r,x:a,y:s,w:c,h:u})}})};t.default=a},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(35);t.default=function(){r.SdkVideoManager.init()}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){document.querySelectorAll(".J_XJ_PLAY_C_CONTAINER").forEach(function(e){var t=e,n=t.dataset,r=n.componentid,u=n.btntext,l=n.transformType,d=n.transformConfig,p=n.componentUid;d=d?JSON.parse(d):null;var f=new s.TransformManage({transformType:l,componentUid:p,transformConfig:d}),m=window[i.GLOBAL_NAME].init({container:t,businessId:"XJ",componentId:parseInt(r,10),transformText:u,getTraceId:function(){return(0,a.getTraceId)()},onTransform:function(){f.transformStart(m)},getAdId:function(){return(0,a.getAdId)()},getXjUi:function(){return(0,a.getXjUi)()}});f.extraProcess({transformType:l,uniqId:m}),t.addEventListener("click",function(){var e=c(t),n=e.isNeedScrolling,r=e.scrollDist;n&&window.scrollBy({top:r,left:0,behavior:"smooth"})}),document.addEventListener("scroll",function(){var e=c(t),n=e.isNeedScrolling;t.parentNode.parentNode.querySelectorAll(".xj-play-c-icon-container").forEach(function(e){if(n)e.style.display="none";else{e.style.display="flex";var t=(0,o.default)(e.children[0].classList);t.includes("xj-play-c-icon--up")&&(e.style.top="-40px"),t.includes("xj-play-c-icon--down")&&(e.style.bottom="-40px")}})}),t.parentNode.parentNode.querySelectorAll(".xj-play-c-icon-container").forEach(function(e){e.addEventListener("click",function(){var n=(0,o.default)(e.children[0].classList);if(n.includes("xj-play-c-icon--up")){var r=t.getBoundingClientRect();window.scrollBy({top:-r.bottom,left:0,behavior:"smooth"})}if(n.includes("xj-play-c-icon--down")){var i=t.getBoundingClientRect();window.scrollBy({top:i.bottom,left:0,behavior:"smooth"})}})})})};var o=r(n(24));n(707),n(362),n(365),n(366);var i=n(130),a=n(2),s=n(127),c=function(e){var t=document.body.getBoundingClientRect(),n=e.getBoundingClientRect(),r=(t.height-n.height)/2,o=n.top-r;return{isNeedScrolling:Math.floor(Math.abs(o))>0,scrollDist:o,playContainerClientRect:n}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ClickEffect=void 0;var r=n(757);n(709);var o=t.ClickEffect=function(){new r.ClickMistEffectImpl};t.default=o},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var o=r(n(1)),i=n(2),a=r(n(711));n(365),n(366);var s=r(n(37)),c=r(n(400));function u(e){var t;(t=null,function(){return t||(t=new a.default(e))})();try{c.default.getQaDisplayPromise().then(function(){}).catch(function(){})}catch(e){}if(["MINIGAME_INTERACTION","WEBSITE_INTERACTION"].includes(o.default.playableType))l(document);else{var n=document.querySelectorAll(".xj-website-float-form-wrap");[].forEach.call(n,function(e){l(e)})}}var l=function(e){var t=0,n=document.body,r=e.querySelector(".isd-form-submit-item");if(r){var a=JSON.parse(e.querySelector(".xj-website-form-container").dataset.style);r.style.paddingTop=0,r.style.paddingRight="".concat(a.padding.right,"px"),r.style.paddingBottom=0,r.style.paddingLeft="".concat(a.padding.left,"px")}var c=e.querySelector(".xj-website-form"),u=e.querySelector(".xj-website-form-container"),l=e.querySelector(".xj-website-form--collapse"),d=e.querySelector(".xj-website-form--closeBtn");(0,i.on)(d,"click",function(){c.style.background="none",c.style.height="0",u.style.display="none",o.default.isContact||(l.style.display=""),n.style.position="static",n.style.top="auto",document.scrollingElement.scrollTop=t}),(0,i.on)(l,"click",function(){s.default.sendRPT(s.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),c.style.background="rgba(0, 0, 0, .5)",c.style.height="100%",u.style.display="",l.style.display="none",t=document.scrollingElement.scrollTop,n.style.position="fixed",n.style.top=-t+"px"})};u.showFormForInteractive=function(e){var t;(t=e?document.querySelector('[data-float-form-uid="'.concat(e,'"] .xj-website-form--collapse')):document.querySelector(".xj-website-form--collapse"))&&t.click()}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(596)),i=r(n(5)),a=r(n(4)),s=r(n(712)),c=r(n(597)),u=r(n(598)),l=r(n(599)),d=r(n(524)),p=r(n(717)),f=r(n(718)),m=r(n(740)),h=r(n(742)),v=r(n(743)),g=r(n(744)),y=n(2),A=n(358),_=n(15),b=r(n(613)),w=r(n(1)),T=n(11),E=r(n(26)),S=(r(n(37)),n(407)),O=n(145),I=n(2),C=(0,i.default)(function e(t,n,r){(0,a.default)(this,e),this.$form=t;for(var i=arguments.length,g=new Array(i>3?i-3:0),y=3;y<i;y++)g[y-3]=arguments[y];(0,o.default)(s.default,[t,n,r].concat(g)),(0,o.default)(c.default,[t,n,r].concat(g)),(0,o.default)(u.default,[t,n,r].concat(g)),(0,o.default)(m.default,[t,n].concat(g)),(0,o.default)(l.default,[t,n,r].concat(g)),(0,o.default)(d.default,[t,n,r].concat(g)),(0,o.default)(p.default,[t,n].concat(g)),(0,o.default)(f.default,[t,n].concat(g)),(0,o.default)(v.default,[t,n].concat(g)),w.default&&w.default.speedVersion&&0===g[0]&&(0,o.default)(h.default,[t,n].concat(g))});t.default=function(){function e(t){var n=this;(0,a.default)(this,e),this.main=function(){n.formArray.forEach(function(e,t){var r=JSON.parse(e.dataset.formstyle),o=JSON.parse(e.dataset.forminfo),i=JSON.parse(e.dataset.formcontrol),a=e.dataset.id;if(!(r&&"{}"!==JSON.stringify(r)&&o&&"{}"!==JSON.stringify(o)&&i&&i.configs&&""!==a))return console.error("请补全表单的数据"),null;n.initFormStyle(e,r,o),n.initFormType(e,r),n.initFormAddEventListener(e,t),n.initCountDownTooltip(),n.bindClickHandlerInDrag(e),n.bindSwipeUpOrDownHandler(e),n.bindContainerUpOrDownHandler(e),(0,I.setBtnGestureAnimation)(e,"XJWebForm")}),window.addEventListener("beforeunload",function(){n.formArray.forEach(function(e,t){var n=e.dataset.id;(0,T.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007041",action_type:"close_form",formid:n},!0)})}),n.initAuthPhone()},this.stretchStyle=function(e){var t=e.querySelector(".isd-form-submit-item");t&&t.classList.remove("isd-form-item-button-bottom-form"),e.style.paddingBottom="0"},this.collapseStyle=function(e){var t=e.querySelector(".isd-form-submit-item");e.style.paddingBottom="1.36rem",t&&t.classList.add("isd-form-item-button-bottom-form"),"iOS"===(0,y.judgeClient)()&&(t.style.paddingBottom="24px")},this.collapseLayer=function(e,t,r){n.collapseStyle(r),document.body.classList.remove("body-Lock-scroll-Class-Name");var o=r.querySelector(".isd-form-title");e.style.height=o?"6.4rem":"5.5733rem",t.querySelector("div").className="isd-web-form-drag-des";var i=e.parentNode.querySelector(".xj-margin-wrapper .xj-modal-mask");i&&e.parentNode.removeChild(i),n.isStretch=!1},this.stretchLayer=function(e,t,r){if(n.stretchStyle(r),e.style.height="iOS"===(0,y.judgeClient)()?"60%":"80%",n.isStretch=!0,!e.querySelector(".xj-modal-mask")){var o=document.createElement("div");o.className="xj-modal-mask",e.parentNode.insertBefore(o,e),document.querySelector(".xj-margin-wrapper .xj-modal-mask").addEventListener("click",function(o){n.collapseLayer(e,t,r),n.isStretch=!1}),document.body.classList.add("body-Lock-scroll-Class-Name")}t.querySelector("div").className="isd-web-form-drag-des-stretch"},this.bindClickHandlerInDrag=function(e){var t=e.parentNode,r=e.parentNode.querySelector(".isd-web-form-drag");r&&r.addEventListener("click",function(o){n.isStretch?n.collapseLayer(t,r,e):n.stretchLayer(t,r,e)})},this.bindSwipeUpOrDownHandler=function(e){var t,r=e.parentNode,o=e.parentNode.querySelector(".isd-web-form-drag");o&&(o.addEventListener("touchstart",function(e){var n=e.changedTouches[0];t=n.clientY}),o.addEventListener("touchmove",function(e){e.stopPropagation(),e.preventDefault()}),o.addEventListener("touchend",function(i){if(0!==t){var a=i.changedTouches[0].clientY-t;t=0,a>10&&n.isStretch?n.collapseLayer(r,o,e):a<-10&&!n.isStretch&&n.stretchLayer(r,o,e)}}),o.addEventListener("touchcancel",function(){t=0}))},this.bindContainerUpOrDownHandler=function(e){var t=e.parentNode,r=e.parentNode.querySelector(".isd-web-form-drag");if(r){e.addEventListener("click",function(o){if(!n.isStretch){var i="iOS"===(0,y.judgeClient)()&&"INPUT"===o.target.nodeName;i&&o.target.blur(),n.stretchLayer(t,r,e),i&&setTimeout(function(){o.target.focus()},500)}});var o=document.body.clientHeight;if(e.scrollHeight/o>=.5){var i=e.scrollTop;e.addEventListener("scroll",function(o){var a=e.scrollTop;a-i>10&&!n.isStretch&&n.stretchLayer(t,r,e),i=a})}else{var a;t.addEventListener("touchstart",function(e){var t=e.changedTouches[0];a=t.clientY}),t.addEventListener("touchmove",function(e){e.stopPropagation(),e.preventDefault()}),t.addEventListener("touchend",function(o){if(0!==a){var i=o.changedTouches[0].clientY-a;a=0,i<-10&&!n.isStretch&&n.stretchLayer(t,r,e)}}),t.addEventListener("touchcancel",function(){a=0})}}},this.initAuthPhone=function(){if("1"!==S.autoFillAuth)for(var e=function(){var e=n.formArray[t],r=JSON.parse(e.dataset.formcontrol).configs||[],o=JSON.parse(e.dataset.forminfo),i=o.isAuthorize,a=o.isAutoFillPhone;if(r.some(function(e){return"phone"===e.type})&&i)return(0,O.getMaskPhoneInfo)().then(function(t){(t&&[2,3].includes(t.carrierType)||(0,O.isChinaMobileAndHasPermi)(t))&&n.showAuthorizeModal(e,t,a)}).catch(function(e){}),1},t=0;t<n.formArray.length&&!e();t++);},this.showAuthorizeModal=function(e,t,r){var o=t.carrierType,i=O.protocolInfo[o],a=i.name,s=i.link,c='\n        <div class="authorize-modal-mask">\n            <div class="authorize-modal">\n                <div class= "authorize-header">\n                    <span class="authorize-disc">申请授权使用</span>\n                </div>\n                <p class="authorize-content-1">本机号码</p>\n                <p class="authorize-content-2">\n                    请阅读并同意<a href="'.concat(s,'" >《').concat(a,"》</a>，系统将自动获取本机号用于本次落地页表单自动填写\n                </p>\n                ").concat(r?(0,S.getAutoFill)({classname:"auth-modal-auto-fill-phone"}):"",'\n                <div class="authorize-submit">\n                    <button type="button" class="authorize-later">稍后再说</button>\n                    <button type="button" class="authorize-yes">允许</button>\n                </div>\n            </div>\n        </div>\n        '),u=e,l=document.createElement("div");l.innerHTML=c,u.appendChild(l);var d=(0,S.initPrivacyPolicyConfirm)(),p=u.querySelector(".authorize-later");E.default.on(p,"tap",function(){l.style.display="none"});var f=u.querySelector(".authorize-yes");E.default.on(f,"tap",function(){n.onClickYes(t),l.style.display="none"});var m=l.querySelector(".privacy-policy-wrapper-auto-fill-phone-auth"),h=l.querySelector(".form-checkbox-fake");E.default.on(h,"tap",function(e){e.stopPropagation(),m.classList.toggle("js-isd-real-checkbox-checked"),n.submitInstance.forEach(function(e,t){e.phoneFromAutoFillFeature&&e.phoneFromAutoFillFeature.clickCheckBox&&"function"==typeof e.phoneFromAutoFillFeature.clickCheckBox&&e.phoneFromAutoFillFeature.clickCheckBox()})});var v=l.querySelector(".isd-form-privacy-policy-url");E.default.on(v,"tap",function(){d.open()})},this.onClickYes=function(e){n.submitInstance.forEach(function(t,n){t.phoneFromCarrierFeature&&t.phoneFromCarrierFeature.onClick&&"function"==typeof t.phoneFromCarrierFeature.onClick&&t.phoneFromCarrierFeature.onClick(e)})},this.$form=document.getElementsByClassName(A.FORM_CLASSNAME),this.formArray=Array.prototype.slice.call(this.$form),this.submitInstance=[],this.someConfig=t,this.enableFormBarrier=(window.XJADSDK&&window.XJADSDK.getSceneEnv&&window.XJADSDK.getSceneEnv()||{}).enableFormBarrier,this.EXP_PARAMS=(0,_.getExpParams)()||{},this.EXP_PARAMS,this.enableFormBarrier,this.isStretch=!1,this.experimentalFeatSwapInputPosition(),this.anchor(),this.main()}return(0,i.default)(e,[{key:"anchor",value:function(){var e=((0,_.getExpParams)()||{}).IsGDTUnionAnchorPoint;1===parseInt(e,10)&&(0,S.scrollToForm)(100)}},{key:"experimentalFeatSwapInputPosition",value:function(){var e=this.EXP_PARAMS.name_loc;e&&this.formArray.forEach(function(t){var n=t.querySelector(".isd-form-name-item"),r=t.querySelector(".isd-form-phone-item");if(n&&r){var o=n.parentNode;1===(e=parseInt(e,10))?o.insertBefore(n,r):2==e&&o.insertBefore(r,n)}})}},{key:"initCountDownTooltip",value:function(){if(this.enableFormBarrier&&1===parseInt(this.EXP_PARAMS.weak_notice_intellMsg,10)){var e=document.createElement("div");e.innerText="倒计时结束即可获得激励奖励",e.className=A.TOOLTIP_CLASSNAME,document.body.append(e),setTimeout(function(){e.style.opacity="0",setTimeout(function(){e.parentElement.removeChild(e)},300)},3e3)}}},{key:"initFormItemTitleRatio",value:function(e,t){var n=t.styleType;if(["type_same_line_and_border_bottom","type_same_line_and_border"].indexOf(n)>-1){var r=e.querySelectorAll(".".concat(A.LABEL_CLASSNAME));Array.prototype.slice.call(r).forEach(function(e){e.style.flex="".concat(t.labelRatio," 1 0%")});var o=e.querySelectorAll(".".concat(A.CONTROL_CLASSNAME));Array.prototype.slice.call(o).forEach(function(e){e.style.flex="".concat(100-t.labelRatio," 1 0%")})}}},{key:"initFormStyle",value:function(e,t,n){this.initFormItemTitleRatio(e,t);var r=e.querySelector(".isd-form-item-button"),o=(e.querySelector(".form-checkbox-fake"),e.querySelector(".isd-form-title")),i=e.parentNode.querySelector(".isd-web-form-drag");e.parentNode.style.backgroundColor=t.backgroundColor,e.style.paddingTop=t.padding.top+"px",e.style.paddingRight=t.padding.right+"px",e.style.paddingBottom=t.padding.bottom+"px",e.style.paddingLeft=t.padding.left+"px",i&&(e.style.overflow="auto",e.style.paddingRight=(t.padding.right+15)/37.5+"rem",e.style.paddingLeft=(t.padding.left+15)/37.5+"rem",o&&(o.style.paddingTop=0,o.style.paddingBottom="0.2026rem"),this.collapseStyle(e,t)),o&&(o.style.color=t.titleColor,o.style.fontSize=t.titleSize+"px"),r.style.backgroundColor=t.buttonBackgroundColor,r.style.color=t.buttonFontColor,t.buttonFontColor}},{key:"initFormType",value:function(e,t){var n={type_same_line_and_border_bottom:"type-same-line-and-border-bottom",type_same_line_and_border:"type-same-line-and-border",type_line_feed_and_border:"type-line-feed-and-border",type_line_feed_and_no_label:"type-line-feed-and-no-label"}[t.styleType];e.classList.add(n),e.dataset.formtype=n}},{key:"initFormAddEventListener",value:function(e,t){var n=(0,S.creatFormViewModel)(e),r=new b.default(e,n);new C(e,n,r,t);var o=new g.default(e,n,r,t);this.submitInstance.push(o)}}]),e}()},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(33)),s=r(n(36)),c=r(n(34)),u=r(n(8)),l=r(n(367)),d=n(387),p=n(358),f=r(n(26)),m=n(15),h=n(12),v=n(11),g=n(2);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var A=["phone","number"];t.default=function(e){(0,s.default)(n,e);var t=y(n);function n(e,r,i){var a;(0,o.default)(this,n);for(var s=arguments.length,c=new Array(s>3?s-3:0),u=3;u<s;u++)c[u-3]=arguments[u];return(a=t.call.apply(t,[this,e,r].concat(c))).updateValue=function(e){var t=e.dataset.type,n=e.dataset.label,r=e.dataset.id.split("_").pop(),o=e.value;"verificationCode"===t&&(o=a.verificationCodeTrime(o),(0,v.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007008",action_type:"fill_verification",is_auto_save:(0,g.checkFormPhoneAutoSave)(a.$form)||!1}));var i={value:o,type:t,dom:e,label:n};return a.formViewModel.set(r,i),i},a.verificationCodeTrime=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").filter(function(e){return e}).join("")},a.validator=function(e){var t=new d.Validator,n=e.dataset.type,r=e.dataset.label,o=e.dataset.required,i=e.value;"verificationCode"===n&&(i=a.verificationCodeTrime(i));var s=(0,d.validatorMap)(n,r),c={};try{c=JSON.parse(a.$form.dataset.forminfo)}catch(e){}"phone"===n&&c.enableOverseasPhoneNumber&&(s=[]),o===p.IS_REQUIRED&&s.push((0,d.validatorNonEmpty)(r)),t.add(i,s,e);var u=t.lazyValidate();u&&u.errorMsg?a.formViewModel.getSubmittedStatus()&&a.showErrorTips(u.errorMsg,e):a.hideErrorTips(e)},a.checkKey=function(e){var t=e.which;return t>47&&t<58||8===t},a.formViewModel=r,a.pluginContext=i,a.$inputArray=Array.prototype.slice.call(e.querySelectorAll(p.INPUT_SELECTOR)),a.$form=e,a.enableFormBarrier=(window.XJADSDK&&window.XJADSDK.getSceneEnv&&window.XJADSDK.getSceneEnv()||{}).enableFormBarrier,a.EXP_PARAMS=(0,m.getExpParams)()||{},a.EXP_PARAMS,a.enableFormBarrier,a.clickReportDone=!1,a.addEventListenerChange(),a.addEventListenerBlur(),a.addEventListenerFocus(),a.addEventListenerKeydown(),a}return(0,i.default)(n,[{key:"showErrorTips",value:function(e,t){(0,a.default)((0,u.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,a.default)((0,u.default)(n.prototype),"hideErrorTips",this).call(this,e)}},{key:"addEventListener",value:function(e,t){this.$inputArray.forEach(function(n){n.addEventListener(e,function(n){t&&t(n,e)})})}},{key:"addEventListenerKeydown",value:function(){var e=this;this.addEventListener("keydown",function(t,n){var r=t.target.dataset.type;if(A.indexOf(r)>-1&&!e.checkKey(t))return!1})}},{key:"addEventListenerChange",value:function(){var e=this;this.addEventListener("input",function(t,n){var r=t.target,o=r.dataset.type,i=t.target.value.trim();t.inputType;var a=t.inputType;if(a&&a.includes("insert")?e.pluginContext.emit("insert",{dom:r}):a&&a.includes("delete")&&"deleteCompositionText"!==a&&e.pluginContext.emit("delete",{dom:r}),A.indexOf(o)>-1){if("insertText"!==t.inputType&&"insertCompositionText"!==t.inputType||!/\D/g.test(t.data)||(t.target.value=i.replace(/\D/g,"")),"phone"===o&&t.target.value&&!e.clickReportDone&&e.enableFormBarrier&&1===parseInt(e.EXP_PARAMS.notice_shortMsg_clickEarly,10))(new h.Report).dmpReport(),e.clickReportDone=!0;var s={};try{s=JSON.parse(e.$form.dataset.forminfo)}catch(t){}"phone"===o&&!s.enableOverseasPhoneNumber&&t.target.value.length>11&&(t.target.value=t.target.value.slice(0,11))}e.updateValue(r)})}},{key:"addEventListenerBlur",value:function(){var e=this;this.addEventListener("blur",function(t,n){var r=t.target,o=e.updateValue(r);e.validator(r,o.value)})}},{key:"addEventListenerFocus",value:function(){var e=this;this.addEventListener("focus",function(t,n){var r=t.target;e.hideErrorTips(r),f.default.manualBlurInputToiOS(r);var o=(0,g.extractParamsFromDom)(t,"isd-web-form-global-wrapper");(0,v.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"click_form",ei:"4007001",formid:o.id||""})})}}]),n}(l.default)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(3)),i=r(n(10)),a=n(524);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={label:"请选择县/区",value:"",child:[]},l={label:"请选择城市",value:"",child:[u]},d={label:"请选择省份",value:"",child:[l]},p={locationList:[],geo:null,appendIdentify:function(e){return"".concat(e,"?key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77&referer=myapp")},getGeo:function(){var e=this;if(this.geo)return Promise.resolve(this.geo);try{return this.geo=new window.qq.maps.Geolocation,Promise.resolve(this.geo)}catch(n){var t=this.appendIdentify("https://apis.map.qq.com/tools/geolocation/min");return(0,i.default)(t,{returnPromise:!0}).then(function(t){return e.geo=new window.qq.maps.Geolocation,e.geo})}},getLocationInfo:function(){return this.getGeo().then(function(e){return new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(n){e.getLocation(function(e){t(c(c({},e),{},{province:e.province,provinceCity:e.city,proCityArea:e.district}))},function(e){t(0)},{timeout:1e3})},function(e){t(0)})})})},getLocationList:function(){var e=this;if(this.locationList.length)return Promise.resolve(this.locationList);var t=this.appendIdentify("//apis.map.qq.com/ws/district/v1/list");Date.now();return function(e){return window.sfetch(e).then(function(e){return e.json()})}(t).then(function(t){if(0!==t.status)return[];var n=t.result;return n[2].forEach(function(e){e.label=e.fullname,e.value=e.fullname}),n[1].forEach(function(e){var t=e.cidx;e.label=e.fullname,e.value=e.fullname,t&&(e.child=[u].concat(n[2].slice(t[0],t[1]+1)))}),n[0].forEach(function(e){var t=e.cidx;a.municipality.includes(e.fullname)?(e.label=e.name,e.value=e.name,e.child=[l,{label:e.fullname,value:e.fullname,child:[u].concat(n[1].slice(t[0],t[1]+1))}]):(e.label=e.fullname,e.value=e.fullname,e.child=[l].concat(n[1].slice(t[0],t[1]+1)))}),n[0].unshift(d),Date.now(),e.locationList=n[0],n[0]})}};t.default=p},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(24)),i=r(n(4)),a=r(n(5)),s=n(601),c=r(n(26)),u=n(2);n(715);var l=function(e){return e.reduce(function(e,t){return t>=e?t:e},e[0])},d=function e(t){if(!t)return 0;if(!t.configs)return 1;if(0===t.configs.length)return 1;var n,r=(n=e,function(e){return Array.prototype.map.call(e,n)})(t.configs);return 1+l(r)};function p(){return"ontouchstart"in window?"touchend":"mouseup"}var f=function(){function e(t){var n=this;(0,i.default)(this,e),this.VISIBEL_ITEMS_ANGLE_MAP={3:-45,5:-20,7:-15},this.generateOptionsArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&(e.length<=0||e.forEach(function(o,i){n.OPTIONS_ARRAY[t]||(n.OPTIONS_ARRAY[t]=[]),n.OPTIONS_ARRAY[t].push(o);var a=e[r];"child"in a&&a.child.length>0&&0===i&&n.generateOptionsArray(a.child,t+1,r=0)}))},this.pickerForEach=function(e){return Array.prototype.slice.call(n.$picker).forEach(function(t,n){e(t,n)})},this.domForEach=function(e){return Array.prototype.slice.call(n.$pickerMaskList).forEach(function(t,n){e(t,n)})},this.setTreeDepth=function(){n.treeDepth&&(n.OPTIONS_ARRAY.length=n.treeDepth)},this.renderHeader=function(){return'<div class="isd-picker-header clearfix" >\n                    '.concat("date"===n.type?'<span class="today-btn">今天</span> ':" ",'\n                    <span class="').concat(n.submitClassName,'">确定</span>\n                </div>')},this.renderList=function(){return n.OPTIONS_ARRAY.map(function(e,t){return e.map(function(e,r){return'<div class="isd-picker-item "\n                            style="height: '.concat(n.itemHeight,"px; line-height: ").concat(n.itemHeight,"px\"\n                            data-value='").concat(JSON.stringify(e),"'\n                            data-inputvalue=").concat(JSON.stringify(e.value),"\n                            data-parentindex=").concat(t,"\n                            data-index=").concat(r,"\n                            data-type=").concat(JSON.stringify(e.type),"\n                        >\n                            ").concat(e.label,"\n                        </div>")}).join("")}).map(function(e,t){return'<div\n                        class="isd-picker-slot-container"\n                        style="height:'.concat(n.itemHeight*n.visibleItemCount,"px; display:inline-block; width:").concat(100/n.OPTIONS_ARRAY.length,'%;"\n                    >\n                        <div\n                            class="isd-picker-col-mask"\n                            style="width:').concat(100/n.OPTIONS_ARRAY.length,'%;\n                        "></div><div class="isd-picker-slot-wrapper">').concat(e,"</div>\n                    </div>")}).join("")},this.renderPicker=function(){return'<div class="isd-picker-container js-isd-selection-region">\n                        '.concat(n.renderHeader(),'\n                        <div\n                            class="isd-picker-items isd-selection-region "\n                            style=" height:').concat(n.itemHeight*n.visibleItemCount,'px; overflow:hidden; position: relative; "\n                        >\n                            <div class="isd-picker-slot-list">\n                                ').concat(n.renderList(),'\n                            </div>\n                            <div\n                                class="isd-picker-center-highlight"\n                                style="height:').concat(n.itemHeight,"px; margin-top:-").concat(n.itemHeight/2,'px"\n                            >\n                            </div>\n                        </div>\n                    </div>')},this.render=function(){n.setTreeDepth();var e=document.getElementsByClassName(n.wrapperClassName)[0],t=e||document.createElement("div");t.className="isd-picker-global-wrapper isd-picker-3d ".concat(n.wrapperClassName),t.innerHTML=n.renderPicker(),e||document.body.appendChild(t),n.$pickerWrapper=t,n.initDOM()},this.initDOM=function(){var e=n.$pickerWrapper;n.$pickerSelectionRegion=e.querySelector(".js-isd-selection-region"),n.$picker=e.querySelectorAll(".isd-picker-slot-wrapper"),n.$pickerMaskList=e.querySelectorAll(".isd-picker-col-mask"),n.$submitBtn=e.querySelector(".".concat(n.submitClassName)),n.$todayBtn=e.querySelector(".today-btn")},this.showPicker=function(){n.$pickerWrapper.style.display="block"},this.hidePicker=function(){n.$pickerWrapper.style.display="none",n.clickOutside&&n.clickOutside.remove()},this.transformConfigsToChild=function(e){e&&(e.length<=0||e.forEach(function(t,r){e[r]&&(e[r].value=t.label!==n.pickerPlaceholder?t.label:""),"configs"in t&&t.configs.length>0&&(e[r].configs&&e[r].configs.forEach(function(t,n){e[r].configs[n].value=t.label}),e[r].child=[{label:n.pickerPlaceholder,value:""}].concat((0,o.default)(e[r].configs)),n.transformConfigsToChild(t.child))}))},this.transformConfigsToOptions=function(e){for(var t=e.startDate,n=e.endDate,r=e.intervals,i=e.isSelectTime,a=e.startTime,s=e.endTime,c=e.isWeekendAvailable,l="iOS"===(0,u.judgeClient)(),d=l?"".concat(t," ").concat(a).replaceAll("-","/"):"".concat(t," ").concat(a),p=l?"".concat(n," ").concat(s).replaceAll("-","/"):"".concat(n," ").concat(s),f=new Date(d).getTime(),m=new Date(p).getTime(),h=[];f<=m;){var v=new Date(f),g=v.getDay(),y=v.getFullYear(),A=v.getMonth()+1;A=A>9?A:"0".concat(A);var _=v.getDate();_=_>9?_:"0".concat(_);var b="".concat(A,"月").concat(_,"日"),w="".concat(y,"-").concat(A,"-").concat(_);void 0===c||c||0!==g&&6!==g?(h.push({label:b,value:w}),f+=864e5):f+=864e5}var T="",E="",S=[],O=[];if(i&&a&&s){var I=a.split(":"),C=s.split(":");T=parseInt(I[0],10),parseInt(I[1],10),E=parseInt(C[0],10),parseInt(C[1],10),O=(0,o.default)(Array(60).keys()).filter(function(e){return e%r==0}).map(function(e){return{label:e<10?"0".concat(e,"分"):"".concat(e,"分"),value:e<10?"0".concat(e):"".concat(e)}}),S=(0,o.default)(Array(24).keys()).filter(function(e){return e>=T&&e<=E}).map(function(e){return{label:e<10?"0".concat(e,"时"):"".concat(e,"时"),value:e<10?"0".concat(e):"".concat(e),child:O}})}else O=(0,o.default)(Array(60).keys()).filter(function(e){return e%r==0}).map(function(e){return{label:e<10?"0".concat(e,"分"):"".concat(e,"分"),value:e}}),S=(0,o.default)(Array(24).keys()).map(function(e){return{label:e<10?"0".concat(e,"时"):"".concat(e,"时"),value:e,child:O}});return i&&h.forEach(function(e){e.child=S}),h},this.initValueToTranslate=function(e,t,r){e.length<=t||(n.OPTIONS_ARRAY[t]=[],r.forEach(function(r,o){(r.label+""==e[t]+""||r.value&&e[t]&&r.value+""==e[t]+"")&&(n.valueArrayIndex[t]=o,n.initValueToTranslate(e,t+1,r.child)),n.OPTIONS_ARRAY[t]||(n.OPTIONS_ARRAY[t]=[]),n.OPTIONS_ARRAY[t].push(r)}))},this.setTreePlaceholder=function(e,t){1!==e&&(t.push({label:n.pickerPlaceholder,value:"",child:[]}),n.setTreePlaceholder(--e,t[0].child))},this.main=function(){c.default.on(n.$dom,"tap",function(e){n.$input=n.$dom;var t=function(){var e=n.$dom.dataset.configs;e=e?JSON.parse(e):[],n.type=n.$dom.dataset.type;var t="";if(!n.$input.dataset.value&&n.initValue?(t=n.initValue,n.$input.dataset.value=t):t=n.$dom.dataset.value,Array.isArray(e)&&e.length>0){var r,i=(0,o.default)(e),a=i.map(function(e){return d(i[0])});r=l(a),n.transformConfigsToChild(e);var s={label:n.pickerPlaceholder,value:"",child:[]};n.setTreePlaceholder(r,s.child),e.unshift(s),n.options=e}if(!Array.isArray(e)&&e.intervals){var c=n.transformConfigsToOptions(e);n.options=c}if(n.valueArrayIndex=[],n.OPTIONS_ARRAY=[],n.options,t){var u=t.split("|");n.initValueToTranslate(u,0,n.options)}else n.generateOptionsArray(n.options);n.init(),n.showPicker(),n.lockBody()};if(n.getRuntimeValue&&"function"==typeof n.getRuntimeValue){var r=n.getRuntimeValue(n.$input);Promise.resolve(r).then(function(e){if(void 0!==e)return n.currentValue=e,n.setInputValue(),void(n.onsubmit&&n.onsubmit(n.$input));t()}).catch(function(e){t()})}else t()})},this.onHidePicker=function(){n.clickOutside&&n.clickOutside.remove(),n.clickOutside=new s.OnClickOutside(n.$pickerSelectionRegion,function(){n.hidePicker(),n.unlockBody(),n.onblur&&n.onblur(n.$input,n.currentValue)},n.$pickerWrapper)},this.dragEnd=function(e,t,r,o){setTimeout(function(){var i;i=t?Math.round(t/n.itemHeight)*n.itemHeight:Math.round(o/n.itemHeight)*n.itemHeight,i=Math.max(Math.min(i,r[1]),r[0]),s.translateUtil.translateElement(e,null,i),n.refreshRender(i,e),n.rotateEffect&&n.planUpdateRotate()},10)},this.updatelValueArrayIndex=function(e,t){var r=n.OPTIONS_ARRAY.length;n.valueArrayIndex.length=parseInt(e,10)+1;for(var o=0;o<r;o++)void 0===n.valueArrayIndex[o]&&(n.valueArrayIndex[o]=0);n.valueArrayIndex[e]=t},this.refreshRender=function(e,t){var r=n.translate2Value(e,t),i=JSON.parse(r.dom.dataset.value),a=r.dom.dataset.parentindex,s=r.dom.dataset.index,c=0,u=!1;if(n.type,n.updatelValueArrayIndex(a,s),i.child){var l=n.OPTIONS_ARRAY.slice(0,parseInt(a,10)+1);n.OPTIONS_ARRAY=[];var d=i.child;if(n.filterOptions&&"function"==typeof n.filterOptions){var p=n.getSelectedOptions(l);d=n.filterOptions(d,a,p)}n.generateOptionsArray(d),n.OPTIONS_ARRAY=[].concat((0,o.default)(l),(0,o.default)(n.OPTIONS_ARRAY))}else n.OPTIONS_ARRAY=n.OPTIONS_ARRAY.slice(0,parseInt(a,10)+1);if(n.OPTIONS_ARRAY,"0"!==s&&(c=1),0===parseInt(a,10)){if(n.provinceIndex=s,u=!0,"provinceCity"===n.type||"proCityArea"===n.type&&s>=32)n.initValueToTranslate([n.OPTIONS_ARRAY[0][s].label,n.OPTIONS_ARRAY[1][c].label],0,n.options);else if("proCityArea"===n.type&&n.OPTIONS_ARRAY.length>2){if(a="1",n.updatelValueArrayIndex(a,c),i.child[c].child){var f=n.OPTIONS_ARRAY.slice(0,parseInt(a,10)+1);n.OPTIONS_ARRAY=[],n.generateOptionsArray(i.child[c].child),n.OPTIONS_ARRAY=[].concat((0,o.default)(f),(0,o.default)(n.OPTIONS_ARRAY))}else n.OPTIONS_ARRAY=n.OPTIONS_ARRAY.slice(0,parseInt(a,10)+1);n.OPTIONS_ARRAY,n.initValueToTranslate([n.OPTIONS_ARRAY[0][s].label,n.OPTIONS_ARRAY[1][c].label,n.OPTIONS_ARRAY[2][c].label],0,n.options)}}else 1===parseInt(a,10)&&"proCityArea"===n.type&&n.OPTIONS_ARRAY.length>2&&u&&(n.provinceCityIndex=s,n.initValueToTranslate([n.OPTIONS_ARRAY[0][n.provinceIndex].label,n.OPTIONS_ARRAY[1][n.provinceCityIndex].label,n.OPTIONS_ARRAY[2][c].label],0,n.options));n.init()},this.setInputValue=function(){var e=n.$input.querySelector(".".concat(n.showPickerValueClassName));n.$input.dataset.value=n.currentValue;var t="";if("appointmentDate"===n.type){var r=n.currentValue.split("|"),o=r[0].split("-"),i="".concat(o[1],"月").concat(o[2],"日");t=1===r.length?i:"".concat(i," ").concat(r[1],":").concat(r[2])}else t=n.currentValue.split("|").join({date:"/"}[n.type]||"");e.innerText=t},this.initTodayBtnEvent=function(){"date"===n.type&&n.$todayBtn.addEventListener(p(),function(e){var t=c.default.initDateValue();n.initValueToTranslate(t,0,n.options),n.init(),n.showPicker()})},this.isCompleted=function(){return n.valueArrayIndex.filter(function(e){return 0!==e&&"0"!==e}).length===n.$picker.length},this.initSubmitEvent=function(){n.$submitBtn.addEventListener(p(),function(e){var t=[];if("date"===n.type||"appointmentDate"===n.type)for(var r=0;r<3;r++)n.valueArrayIndex[r]||(n.valueArrayIndex[r]=0);else if(!n.isCompleted())return n.hidePicker(),n.unlockBody(),!1;n.valueArrayIndex.forEach(function(e,r){var o="";try{o=JSON.parse(n.$picker[r].childNodes[e].dataset.value).value}catch(e){}t.push(o)}),t=t.filter(function(e){return e}),n.currentValue=t.join("|"),n.setInputValue(),n.hidePicker(),n.unlockBody(),n.onsubmit&&n.onsubmit(n.$input,n.currentValue)})},this.updateRotate=function(e,t){n.pickerForEach(function(r){var o=r.querySelectorAll(".isd-picker-item").length,i=n.getDragRange(o),a=n;t||(t=r.querySelectorAll(".".concat(n.itemClassName))),void 0===e&&(e=s.translateUtil.getElementTranslate(r).top);var c=Math.ceil(n.visibleItemCount/2),u=n.is3D?n.VISIBEL_ITEMS_ANGLE_MAP[n.visibleItemCount]||-20:0;[].forEach.call(t,function(t,n){var r=(n*a.itemHeight-(i[1]-e))/a.itemHeight,o=u*r;o>180&&(o=180),o<-180&&(o=-180),a.rotateElement(t,o),Math.abs(r)>c?t.classList.add("picker-item-far"):t.classList.remove("picker-item-far")})})},this.options=t.options,this.$body=document.body,this.initValue=t.initValue,this.$dom=t.$dom,this.treeDepth=t.treeDepth||3,this.onsubmit=t.onsubmit,this.onblur=t.onblur,this.filterOptions=t.filterOptions,this.getRuntimeValue=t.getRuntimeValue,this.type=t.type,this.is3D=t.is3D||!1,this.submitClassName=t.submitClassName||"isd-picker-submit-btn",this.wrapperClassName=t.wrapperClassName||"js-isd-picker",this.itemClassName="isd-picker-item",this.itemSelectedClassName="isd-picker-selected",this.bodyLockClassName="isd-picker-locked-body",this.showPickerValueClassName="isd-form-picker-placeholder",this.itemHeight=50,this.visibleItemCount=7,this.$picker=null,this.$pickerWrapper=null,this.$pickerSelectionRegion=null,this.$input=null,this.pickerPlaceholder=t.placeholder||"请选择",this.$submitBtn=null,this.$todayBtn=null,this.animationFrameId=null,this.currentValue="",this.valueArrayIndex=[],this.rotateEffect=!0,this.OPTIONS_ARRAY=[],this.clickOutside=null,this.provinceIndex=0,this.provinceCityIndex=0,this.main()}return(0,a.default)(e,[{key:"getDragRange",value:function(e){return[-this.itemHeight*(e-Math.ceil(this.visibleItemCount/2)),this.itemHeight*Math.floor(this.visibleItemCount/2)]}},{key:"value2Translate",value:function(e){var t=Math.floor(this.visibleItemCount/2);if(-1!==e)return-(e-t)*this.itemHeight}},{key:"translate2Value",value:function(e,t){var n=this;e=Math.round(e/this.itemHeight)*this.itemHeight;var r=(Math.floor(this.visibleItemCount/2)*this.itemHeight-e)/this.itemHeight,o=t.querySelectorAll(".".concat(this.itemClassName));return[].forEach.call(o,function(e,t){e.classList.remove(n.itemSelectedClassName)}),o[r]&&o[r].classList.add(this.itemSelectedClassName),{value:o[r]&&o[r].innerText,dom:o[r],index:r}}},{key:"lockBody",value:function(){this.$body.classList.add(this.bodyLockClassName)}},{key:"unlockBody",value:function(){this.$body.classList.remove(this.bodyLockClassName)}},{key:"getSelectedOptions",value:function(e){var t=[];return this.valueArrayIndex.forEach(function(n,r){var o=parseInt(n,10);void 0!==e[r]&&e[r][o]&&(t[r]=e[r][o])}),t}},{key:"initDragEvent",value:function(){var e,t,n,r={},o=this;this.domForEach(function(i){(0,s.draggable)(i,{start:function(e){var t=i.nextSibling;cancelAnimationFrame(o.animationFrameId),o.animationFrameId=null;var a=t.querySelectorAll(".isd-picker-item").length;r={range:o.getDragRange(a),start:new Date,startLeft:e.pageX,startTop:e.pageY,startTranslateTop:s.translateUtil.getElementTranslate(t).top},n=t.querySelectorAll(".".concat(o.itemClassName))},drag:function(a){var c=i.nextSibling;c.classList.add("dragging"),r.left=a.pageX,r.top=a.pageY;var u=r.top-r.startTop,l=r.startTranslateTop+u;s.translateUtil.translateElement(c,null,l),e=l-t||l,t=l,o.rotateEffect&&o.updateRotate(t,n)},end:function(t){var n=i.nextSibling;n.classList.remove("dragging");var a,c=s.translateUtil.getElementTranslate(n).top;new Date-r.start<300&&(a=c+7*e);var u=r.range;o.dragEnd(n,a,u,c),r={}}})})}},{key:"rotateElement",value:function(e,t){if(e){var n=s.translateUtil.transformProperty;e.style[n]=e.style[n].replace(/rotateX\(.+?deg\)/gi,"")+"rotateX(".concat(t,"deg)")}}},{key:"planUpdateRotate",value:function(){var e=this;cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(function(){e.updateRotate()}),this.pickerForEach(function(t){t.addEventListener(s.translateUtil.transitionProperty,function(){cancelAnimationFrame(e.animationFrameId),e.animationFrameId=null})})}},{key:"doOnValueChange",value:function(){var e=this;this.pickerForEach(function(t,n){s.translateUtil.translateElement(t,null,e.value2Translate(e.valueArrayIndex[n]||0))})}},{key:"doOnValuesChange",value:function(){var e=this;this.pickerForEach(function(t){var n=t.querySelectorAll(".picker-item"),r=e;[].forEach.call(n,function(e,t){s.translateUtil.translateElement(e,null,r.itemHeight*t)}),e.rotateEffect&&e.planUpdateRotate()})}},{key:"init",value:function(){this.render(),this.initDragEvent(),this.initSubmitEvent(),this.initTodayBtnEvent(),this.doOnValueChange(),this.rotateEffect&&this.doOnValuesChange(),this.onHidePicker()}}]),e}();t.default=f},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){for(var r=e;r<t&&!n(r);r++);}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,window.XJ_WEB_FORM_DATE||(window.XJ_WEB_FORM_DATE=(o=[],r(1970,(new Date).getFullYear()+1+10,function(e){o.push({label:e,value:e,child:[]}),r(0,12,function(t){var n=[];r(0,function(e,t){return t=parseInt(t,10)+1,new Date(e,t,0).getDate()}(e,t),function(e){n.push({label:e+1,value:e+1})}),o[e-1970].child.push({label:t+1,value:t+1,child:n})})}),o));t.default=window.XJ_WEB_FORM_DATE},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(33)),s=r(n(36)),c=r(n(34)),u=r(n(8)),l=r(n(26)),d=r(n(367)),p=n(387),f=n(437),m=r(n(600)),h=n(358),v=n(407);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var y=t.default=function(e){(0,s.default)(n,e);var t=g(n);function n(e,r){var i;(0,o.default)(this,n);for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];return(i=t.call.apply(t,[this,e,r].concat(s))).getSubId=function(e){return!!e&&parseInt(e.dataset.subid,10)},i.getGlobalConfigs=function(e){var t=l.default.closest(e,n.SELECT_CONTROL_SELECTOR);return JSON.parse(t.dataset.configs)},i.updateValue=function(e,t){var n=i.getInputInfo(e),r=n.$wrapper,o=n.index,a=n.valueObj,s=i.getSubId(e),c=e.dataset.type,u=e.dataset.label,l=t;if(a&&a.value){var d=a.value.split("|");d[s]=t,d.length=s+1,l=d.filter(function(e,t){return t<=s}).join("|")}var p={value:l,type:c,dom:r,label:u};return i.formViewModel.set(o,p),p},i.validator=function(e,t){var n=i.getInputInfo(e),r=n.$wrapper,o=n.isrequired,a=n.label,s=n.type,c=n.iscomplete,u=new p.Validator;t&&u.add(c,(0,p.validatorMap)(s,a),e),o===h.IS_REQUIRED&&u.add(t,[(0,p.validatorNonEmpty)(a)],e);var l=u.lazyValidate();l&&l.errorMsg?i.formViewModel.getSubmittedStatus()&&i.showErrorTips(l.errorMsg,r):i.hideErrorTips(r)},i.getSingleConfigs=function(e){return e.map(function(e){return{label:e.label}})},i.getPlaceHolder=function(e){return i.getInputInfo(e).title.split(",")},i.setPlaceHolder=function(e){var t=i.getInputInfo(e).$wrapper,n=i.getPlaceHolder(e),r=t.querySelectorAll(".isd-form-picker-placeholder");n.forEach(function(e,t){r[t].textContent=e})},i.initGraduallySelectClick=function(){i.$graduallySelectDomArray.forEach(function(e){if(i.setPlaceHolder(e),!(e&&e.classList.contains(h.HIDE_GRADUALLY_SELECTOR))){var t=e.dataset.type,n=i.getSubId(e),r=JSON.parse(e.dataset.configs);r=i.getSingleConfigs(r),e.dataset.configs=JSON.stringify(r);i.initPicker({$ele:e,type:t,initValue:"",configs:r,subId:n})}})},i.getInputInfo=function(e){if(!e)throw new Error("请传入对应的DOM");var t=l.default.closest(e,n.SELECT_CONTROL_SELECTOR),r=t.dataset.id.split("_").pop(),o=i.getGlobalConfigs(e),a=i.formViewModel.get(r),s=a.value?a.value.split("|"):[],c=t.dataset.required,u=t.dataset.type,d=t.dataset.label;return{isrequired:c,index:r,iscomplete:t.dataset.iscomplete,label:d,type:u,$wrapper:t,title:t.dataset.title,globalConfigs:o,valueObj:a,valueArr:s}},i.findConfigs=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n>=r&&e){var o=e.filter(function(e){return e.label===t[r]});return i.findConfigs(o[0].configs,t,n,r+1)}return e},i.hideNextInput=function(e,t,n){if(!t)return!1;var r=e.nextElementSibling;if(!r)return!1;n=i.getSubId(r),r.classList.add(h.HIDE_GRADUALLY_SELECTOR);var o=i.getPlaceHolder(e),a=r.querySelector(".isd-form-picker-placeholder");a.innerHTML=o[n]||"",a.classList.remove("isd-form-picker-show-value"),i.hideNextInput(r,t,n)},i.showNextInput=function(e,t,n){t||e.nextElementSibling.classList.add(h.HIDE_GRADUALLY_SELECTOR);var r=i.getInputInfo(e),o=r.globalConfigs,a=r.valueArr,s=r.$wrapper,c=e.nextElementSibling;if(!c)return s.dataset.iscomplete=f.graduallySelectCompleteStatus.completed,!1;var u=c.dataset.type,l=i.findConfigs(o,a,n);c.dataset.configs=JSON.stringify(l),l&&l.length>0?(c.classList.remove(h.HIDE_GRADUALLY_SELECTOR),i.initPicker({$ele:c,type:u,initValue:"",currentConfig:l,subId:n}),s.dataset.iscomplete=f.graduallySelectCompleteStatus.incomplete):s.dataset.iscomplete=f.graduallySelectCompleteStatus.completed,(0,v.moudleFormShow)(i.$form)},i.initPicker=function(e){var t=e.$ele,n=e.type,r=e.initValue,o=e.configs;new m.default({$dom:t,is3D:!0,type:n,initValue:r,options:o,treeDepth:1,onsubmit:function(e,n){var r=e.querySelector(".".concat(h.SHOW_PICKER_VALUE_CLASSNAME)),o=i.getSubId(t);r.classList.add(h.HAS_PICKER_VALUE),i.updateValue(t,n,o),i.hideNextInput(t,n,o),i.showNextInput(t,n,o),i.validator(t,n,o)},onblur:function(e,n){var r=i.getSubId(t);i.validator(t,n,r)}})},i.$form=e,i.formViewModel=r,i.$graduallySelectDomArray=Array.prototype.slice.call(e.querySelectorAll(h.GRADUALLY_SELECT_SELECTOR)),i.initGraduallySelectClick(),i}return(0,i.default)(n,[{key:"showErrorTips",value:function(e,t){(0,a.default)((0,u.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,a.default)((0,u.default)(n.prototype),"hideErrorTips",this).call(this,e)}}]),n}(d.default);y.SELECT_CONTROL_SELECTOR=".js-isd-form-control",y.GRADUALLY_SELECTOR=".isd-form-item-gradually-select-wrapper"},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(24)),i=r(n(3)),a=r(n(4)),s=r(n(5)),c=r(n(46)),u=r(n(33)),l=r(n(36)),d=r(n(34)),p=r(n(8)),f=r(n(10)),m=r(n(367)),h=r(n(26)),v=n(358),g=r(n(719)),y=n(721),A=n(2);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var w=t.default=function(e){(0,l.default)(n,e);var t=b(n);function n(e,r){var o;(0,a.default)(this,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),u=2;u<i;u++)s[u-2]=arguments[u];return o=t.call.apply(t,[this,e,r].concat(s)),T.call((0,c.default)(o)),o.formViewModel=r,o.ismultiChoice=!1,o.picker=null,o.options=null,o.$from=e,o.hasClickLbsItem=!1,o.adjustLBSIsContained(r),o}return(0,s.default)(n,[{key:"showErrorTips",value:function(e,t){(0,u.default)((0,p.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,u.default)((0,p.default)(n.prototype),"hideErrorTips",this).call(this,e)}}]),n}(m.default);w.LBS_ITEM=".isd-form-lbsShopInfo-item",w.LBS_WRAPPER=".isd-form-item-lbs-shop-info-wrapper",w.LBS_PLACEHOLDER=".isd-form-lbs-shop-info-picker-placeholder";var T=function(){var e=this;this.adjustLBSIsContained=function(t){var n=e.$form.querySelector(w.LBS_WRAPPER),r=n&&n.dataset&&n.dataset.hasmultichoicelbs||"";e.ismultiChoice="true"===r;var o=!1;t.getAll().some(function(e){if("lbsShopInfo"===e.type)return o=!0,!0}),!0===o&&e.initEventListener()},this.asyncLoadTencentMap=function(){(0,f.default)("//apis.map.qq.com/tools/geolocation/min?key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77&referer=myapp",function(){(new window.qq.maps.Geolocation).getLocation(function(t){e.getNearestShopInfo(t.lng,t.lat,t.province,t.city),e.GXTReport(0)},function(t){e.GXTReport(t.code),e.getLBSAreaStructWrapper()},{timeout:9e3})})},this.getNearestShopInfo=function(t,n,r,o){var a=e.$form.dataset.id,s=window.viewerData.accountId,c=e.ismultiChoice?{province:r,city:o}:{};return(0,y.sFetchPost)("/lbs/shopMatch",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({formId:parseInt(a,0),advertiserId:parseInt(s,0),longitude:t,latitude:n},c)).then(function(t){if([0,200].indexOf(t.code)>-1){if(e.ismultiChoice){var n=t.data||[];n.length>0&&n.forEach(function(t){e.saveValue(t.name,t.address)})}else e.saveValue(t.data.name,t.data.address);e.picker&&e.picker.renderList()}else e.getLBSAreaStructWrapper()}).catch(function(t){e.getLBSAreaStructWrapper()})},this.initPicker=function(){e.picker||(e.picker=new g.default({options:e.options,onChange:e.onCascaderChangeHandler,onOk:e.onCascaderConfirmHandler,enableAsyncLoad:!0,fetchAsyncData:e.getLBSShopInfo,getLBSAreaStruct:e.getLBSAreaStruct,emptyMsg:"当前地区暂无门店",emptyChoiceMsg:"当前未勾选门店",getCurrentValue:e.getValue,maxTreeDepth:4,ismultiChoice:e.ismultiChoice}))},this.getLBSAreaStructWrapper=function(){return e.getLBSAreaStruct().then(function(t){e.options=t&&0===t.code?t.data:[],e.initPicker()}).catch(function(t){e.initPicker()})},this.getLBSAreaStruct=function(){var t=e.$form.dataset.id,n=window.viewerData.accountId;return(0,y.sFetchGet)("/lbs/districtTree",{formId:t,advertiserId:n})},this.getLBSShopInfo=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=e.$form.dataset.id,i=window.viewerData.accountId;return(0,y.sFetchPost)("/lbs/districtShopList",{formId:parseInt(o,0),advertiserId:parseInt(i,0),shopDistrictId:t,pageIndex:n,pageSize:r}).then(function(e){return e&&0===e.code?e.data.items.map(function(e){return{value:e.formShopId,label:e.name,subLabel:e.address,isLastLayer:!0}}):[]}).catch(function(e){})},this.GXTReport=function(e){(0,A.gxtReport)("xj_lbs_auth",{count:1,page_id:window.viewerData.pageId,code:e})},this.initEventListener=function(){var t=e.$form.querySelector(w.LBS_ITEM);try{h.default.on(t,"tap",function(t){e.hasClickLbsItem||e.asyncLoadTencentMap(),e.hasClickLbsItem=!0,e.picker?e.showCascader():e.getLBSAreaStructWrapper().then(function(){e.showCascader()})})}catch(e){}},this.renderLBSShopInfoPlaceholder=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.$form.querySelector(w.LBS_PLACEHOLDER);r.innerHTML=t,!0===n?r.classList.remove(v.HAS_PICKER_VALUE):r.classList.add(v.HAS_PICKER_VALUE)},this.saveValue=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.$form.querySelector(w.LBS_WRAPPER),a=i.dataset.id.split("_").pop(),s=i.dataset.type,c=i.dataset.label,u={},l="";if(e.ismultiChoice){var d=e.getValue().shoplist?e.getValue().shoplist:[],p=d.filter(function(e){return e.shop_name!==t||e.shop_address!==n});if(p.length===d.length&&(p=[].concat((0,o.default)(p),[{shop_name:t,shop_address:n}])),u={type:s,dom:i,label:c,shoplist:p,value:p.length>0?p.length:""},0===p.length){var f="type-line-feed-and-no-label"===e.$form.dataset.formtype;l=f?"".concat(c,'<span style="font-size: 0.32rem;">').concat("同意授权位置后推荐门店","</span>(可多选)"):"同意授权位置后推荐门店",r=!0}else p.forEach(function(e){var t=e.shop_address.replace(" ","")?"(".concat(e.shop_address,"),"):"";l+=e.shop_name+t})}else{u={value:n,type:s,dom:i,label:c,shopName:t};var m=n.replace(" ","")?"(".concat(n,")"):"";l=t+m}e.formViewModel.set(a,u),e.renderLBSShopInfoPlaceholder(l,r)},this.getValue=function(){var t=e.$form.querySelector(w.LBS_WRAPPER).dataset.id.split("_").pop();return e.formViewModel.get(t)},this.onCascaderChangeHandler=function(t){e.saveValue(t.label,t.subLabel)},this.onCascaderConfirmHandler=function(t){e.saveValue(t.label,t.subLabel)},this.showCascader=function(){e.picker.show()},this.hideCascader=function(){e.picker.hide()}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(42)),i=r(n(24)),a=r(n(4)),s=r(n(5)),c=n(601),u=r(n(26));n(720);var l=function e(t,n){return t?t[n]?0===t[n].length?1:1+e(t[n][0],n):1:0},d=function(){function e(t){var n=this;(0,a.default)(this,e),this.renderList=function(){var e=0===n.currentLayer&&n.ismultiChoice?n.getCurrentValue().shoplist||[]:n.getOptionsOfCurrentLayer(n.options,(0,i.default)(n.checkedIndexOfLayers));if(e||null===n.options||0===n.currentLayer)n.doRenderList(e,n.regetLBSAreaStruct);else if(n.enableAsyncLoad&&n.fetchAsyncData){n.maxTreeDepth||(n.treeDepth=n.currentLayer+2),n.fetching=!0;var t=n.ismultiChoice?n.currentLayer-2:n.currentLayer-1;n.fetchAsyncData(n.checkedItemOfLayers[n.currentLayer-1].value,0,2e3).then(function(e){var r=(0,i.default)(n.checkedIndexOfLayers);r.pop(),n.getOptionsOfCurrentLayer(n.options,r)[n.checkedIndexOfLayers[t]].children=e,n.doRenderList(e,n.renderList)}).finally(function(){n.fetching,n.fetching=!1}).catch(function(e){n.doRenderList(null,n.renderList)})}else console.error("renderList error, no options available",n.checkedIndexOfLayers,n.options)},this.doRenderList=function(e,t){if(null===e)return o=n.failRender(),n.$pickerContainer.querySelector(".".concat(n.pickerListClassName)).innerHTML=o,n.$getdataloading=n.$pickerContainer.querySelector(".".concat(n.getdataloadingClassName)),n.$getdatafail=n.$pickerContainer.querySelector(".".concat(n.getdatafailClassName)),void n.regetDateClickHandler(t);var r=n.ismultiChoice?n.currentLayer-1:n.currentLayer,o=(n.checkedIndexOfLayers[r],"");if(0!==e.length)if(0===n.currentLayer&&n.ismultiChoice)o=e.map(function(e,t){return'<div data-index="'.concat(t,'" class="').concat(n.listItemClassName," ").concat(n.itemSelectedMultiClassName,'"\n                                style="height: ').concat(n.itemHeight,'px;"\n                            >\n                                <div>').concat(e.shop_name,'</div>\n                                <div class="isd-picker2-sub-label">').concat(e.shop_address,"</div>\n                            </div>")}).join("");else{var i=null;i=n.ismultiChoice?n.getCurrentValue().shoplist||[]:n.getCurrentValue()||{},o=e.map(function(e,t){var r="",o="",a=!1;e.isLastLayer&&(n.ismultiChoice?(r=(a=0!==i.filter(function(t){return t.shopName===e.label&&t.value===e.subLabel||t.shop_name===e.label&&t.shop_address===e.subLabel}).length)?n.itemSelectedMultiClassName:"",o=a?"":n.itemCheckboxMultiClassName):(r=(a=i.shopName===e.label&&i.value===e.subLabel)?n.itemSelectedClassName:"",o=a?"":n.itemCheckboxClassName));return'<div data-index="'.concat(t,'" class="').concat(n.listItemClassName," ").concat(o," ").concat(r,'"\n                                style="height: ').concat(n.itemHeight,'px;"\n                            >\n                                <div>').concat(e.label,"</div>").concat(e.subLabel?'<div class="isd-picker2-sub-label">'.concat(e.subLabel,"</div>"):"","\n                            </div>")}).join("")}else{var a=0===n.currentLayer?n.emptyChoiceMsg:n.emptyMsg;o='<div class="no-data">'.concat(a,"</div>")}n.$pickerContainer.querySelector(".".concat(n.pickerListClassName)).innerHTML=o},this.renderHeader=function(){var e=n.checkedItemOfLayers.map(function(e,t){return'<div data-index="'.concat(t,'"\n                        class="').concat(n.pickerHeaderItemClassName," ").concat(n.currentLayer===t?"isd-picker2-header-item__selected":"",'"\n                        style="width:').concat(100/(n.treeDepth+1),'%;"\n                    >\n                        <span>').concat(e.label,"</span>\n                    </div>")}).join("");n.$pickerContainer.querySelector(".".concat(n.pickerHeaderClassName)).innerHTML=e},this.failRender=function(){return'\n      <div style="display:block" class="fail-or-loading-style '.concat(n.getdatafailClassName,'">\n        <img style="width: .8rem;height: .8rem;" src="https://xj-maker-cos-1258344703.file.myqcloud.com/mp-form/assets/failed-icon.png">\n        <p style="color: #999999">数据获取失败</p>\n        <p style="color: #296bef" class="').concat(n.regetDataBtnClassName,'">请重试</p>\n      </div>\n      <div style="display:none" class="fail-or-loading-style ').concat(n.getdataloadingClassName,'">\n        <img style="width: .8rem;height: .8rem;animation: rotate 1s linear infinite;" src="https://xj-maker-cos-1258344703.file.myqcloud.com/mp-form/assets/loadingicon.svg">\n        <p style="color: #999999">加载中...</p>\n      </div>')},this.regetDataFail=function(){n.$getdataloading.style.display="none",n.$getdatafail.style.display="block"},this.regetDataLoading=function(){n.$getdataloading.style.display="block",n.$getdatafail.style.display="none"},this.regetDataSuccess=function(){n.$getdataloading.style.display="none",n.$getdatafail.style.display="none"},this.regetLBSAreaStruct=function(){n.regetDataLoading(),n.getLBSAreaStruct().then(function(e){n.options=e&&0===e.code?e.data:[],n.regetDataSuccess(),n.renderList()}).catch(function(e){n.regetDataFail()})},this.regetDateClickHandler=function(e){var t=n.$pickerContainer.querySelector(".".concat(n.regetDataBtnClassName));t&&u.default.on(t,"tap",function(t){e()})},this.getPickerInnerHtml=function(){return'<div class="'.concat(n.pickerContainerClassName,'">\n                        <div class="isd-picker2-nav">\n                            <div class="isd-picker2-nav--title">').concat(n.title,'</div>\n                            <div class="').concat(n.submitClassName," ").concat(n.submitClassDisabled,'">').concat(n.confirmText,'</div>\n                        </div>\n                        <div class="').concat(n.pickerHeaderClassName,'"></div>\n                        <div class="').concat(n.pickerListClassName,'"style=" height:').concat(n.itemHeight*n.visibleItemCount,'px; overflow-y:scroll; position: relative; "></div>\n                </div>')},this.render=function(){var e=document.createElement("div");e.className="isd-picker2-global-wrapper ".concat(n.wrapperClassName),e.innerHTML=n.getPickerInnerHtml(),document.body.appendChild(e),n.$pickerContainer=e,n.$pickerContent=e.querySelector(".".concat(n.pickerContainerClassName)),n.$submitBtn=n.$pickerContainer.querySelector(".".concat(n.submitClassName)),n.renderHeader(),n.renderList(),n.addEventListener()},this.scrollToTop=function(){n.$pickerContainer.querySelector(".".concat(n.pickerListClassName)).scrollTop=0},this.addEventListener=function(){u.default.on(n.$pickerContainer,"tap",function(e){var t=e.path||e.composedPath&&e.composedPath(),r=n.getClickedWatchedNode(t,[n.listItemClassName,n.submitClassName,n.pickerHeaderItemClassName]),i=(0,o.default)(r,2),a=i[0],s=i[1];switch(a!==n.listItemClassName&&n.scrollToTop(),a){case n.pickerHeaderItemClassName:if(n.currentLayer===Number(s.dataset.index))return;n.headerItemClickHandler(Number(s.dataset.index));break;case n.listItemClassName:if(n.fetching)return;n.listItemClickHandler(Number(s.dataset.index));break;case n.submitClassName:n.submitClickHandler()}},!1)},this.headerItemClickHandler=function(e){if(e!==n.currentLayer){for(n.submitBtnStyle(),n.currentLayer=e;n.checkedIndexOfLayers.length>n.currentLayer;)n.checkedIndexOfLayers.pop(),n.checkedItemOfLayers.pop();n.ismultiChoice?0!==e?(n.checkedIndexOfLayers[n.currentLayer-1]=-1,n.checkedItemOfLayers[n.currentLayer]={label:"请选择",value:void 0}):n.checkedItemOfLayers=[{label:"已选择",value:void 0},{label:"请选择",value:void 0}]:(n.checkedIndexOfLayers[n.currentLayer]=-1,n.checkedItemOfLayers[n.currentLayer]={label:"请选择",value:void 0}),n.renderHeader(),n.renderList()}},this.submitBtnStyle=function(){var e=n.$submitBtn.classList.contains(n.submitClassDisabled);if(e&&!n.ismultiChoice&&n.$submitBtn.classList.toggle(n.submitClassDisabled),n.ismultiChoice){var t=n.getCurrentValue().shoplist||[];(0===t.length&&!e||t.length>0&&e)&&n.$submitBtn.classList.toggle(n.submitClassDisabled)}},this.listItemClickHandler=function(e){if(0===n.currentLayer&&n.ismultiChoice){var t=n.getCurrentValue().shoplist[e];return n.onChange({label:t.shop_name,subLabel:t.shop_address}),n.renderList(),void n.submitBtnStyle()}var r=n.ismultiChoice?n.currentLayer-1:n.currentLayer;n.checkedIndexOfLayers[r]=e;var o=n.getOptionsOfCurrentLayer(n.options,(0,i.default)(n.checkedIndexOfLayers))[n.checkedIndexOfLayers[r]];if(o.isLastLayer){var a=n.$pickerContent.querySelectorAll(".".concat(n.listItemClassName));Array.from(a).map(function(t,r){n.ismultiChoice?e===r&&(t.classList.toggle(n.itemCheckboxMultiClassName),t.classList.toggle(n.itemSelectedMultiClassName)):(t.classList.add(n.itemCheckboxClassName),t.classList.contains(n.itemSelectedClassName)&&t.classList.toggle(n.itemSelectedClassName),e===r&&(t.classList.toggle(n.itemSelectedClassName),t.classList.toggle(n.itemCheckboxClassName)))}),n.onChange(o)}else n.checkedItemOfLayers[n.currentLayer]={label:o.label,value:o.value},n.currentLayer+=1,r=n.ismultiChoice?n.currentLayer-1:n.currentLayer,n.checkedIndexOfLayers[r]=-1,n.checkedItemOfLayers.push({label:"请选择",value:void 0}),n.renderHeader(),n.renderList(),n.scrollToTop();n.submitBtnStyle()},this.submitClickHandler=function(){if(!n.ismultiChoice){var e=n.getOptionsOfCurrentLayer(n.options,(0,i.default)(n.checkedIndexOfLayers))[n.checkedIndexOfLayers[n.currentLayer]];e&&e.isLastLayer&&n.onOk(e)}n.hide()},this.show=function(){n.$pickerContainer.style.display="block",n.lockBody()},this.hide=function(){n.$pickerContainer.style.display="none",n.unlockBody()},this.onHidePicker=function(){n.clickOutside&&n.clickOutside.remove(),n.clickOutside=new c.OnClickOutside(n.$pickerContent,function(){n.hide()},n.$pickerContainer)},this.options=t.options,this.title=t.title||"请选择门店",this.confirmText=t.confirmText||"确认",this.emptyMsg=t.emptyMsg||"暂无数据",this.emptyChoiceMsg=t.emptyChoiceMsg,this.getCurrentValue=t.getCurrentValue,this.onOk=t.onOk,this.onChange=t.onChange,this.enableAsyncLoad=t.enableAsyncLoad,this.fetchAsyncData=t.fetchAsyncData,this.fetching=!1,this.getLBSAreaStruct=t.getLBSAreaStruct,this.ismultiChoice=t.ismultiChoice||!1,this.$body=document.body,this.treeDepth=t.maxTreeDepth?t.maxTreeDepth:l(t.options[0],"children"),this.maxTreeDepth=t.maxTreeDepth,this.currentLayer=0,this.checkedIndexOfLayers=[],this.checkedItemOfLayers=this.ismultiChoice?[{label:"已选择",value:void 0},{label:"请选择",value:void 0}]:[{label:"请选择",value:void 0}],this.wrapperClassName="js-isd-picker2",this.pickerContainerClassName="isd-picker2-container",this.pickerHeaderClassName="isd-picker2-header",this.pickerHeaderItemClassName="isd-picker2-header-item",this.submitClassName="isd-picker2-nav--btn",this.submitClassDisabled="isd-picker2-nav--btn__disabled",this.pickerListClassName="isd-picker2-list",this.listItemClassName="isd-picker2-item",this.itemSelectedClassName="isd-picker2-item__selected",this.itemSelectedMultiClassName="isd-picker2-item__selected-multi",this.itemCheckboxClassName="isd-picker2-item__checkbox",this.itemCheckboxMultiClassName="isd-picker2-item__checkbox-multi",this.bodyLockClassName="isd-picker2-locked-body",this.getdatafailClassName="reget-data-wrapper-fail",this.getdataloadingClassName="reget-data-wrapper-loading",this.regetDataBtnClassName="reget-data-itme",this.itemHeight=50,this.visibleItemCount=7,this.$pickerContainer=null,this.$pickerContent=null,this.$submitBtn=null,this.$getdataloading=null,this.$getdatafail=null,this.init()}return(0,s.default)(e,[{key:"getOptionsOfCurrentLayer",value:function(e,t){if(t.length>1){var n=t.shift();return this.getOptionsOfCurrentLayer(e[n].children,t)}return e}},{key:"getClickedWatchedNode",value:function(e,t){for(var n=t.length,r=0;r<e.length;r++)for(var o=0;o<n;o++)if(e[r].classList&&e[r].classList.contains(t[o]))return[t[o],e[r]];return[null,null]}},{key:"destroy",value:function(){}},{key:"lockBody",value:function(){this.$body.classList.add(this.bodyLockClassName)}},{key:"unlockBody",value:function(){this.$body.classList.remove(this.bodyLockClassName)}},{key:"init",value:function(){this.render(),this.onHidePicker()}}]),e}();t.default=d},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.sFetchGet=function(e,t){var n="".concat(o.backendUrl).concat(e),r="";(0,i.default)(t,function(e,t){r+="".concat(t,"=").concat(e,"&")}),r=(0,a.default)(r,"&");var s="application/json;charset=UTF-8";-1!==o.CDN_HOSTS.indexOf(window.location.host)&&(s="text/plain;charset=UTF-8");return window.sfetch("".concat(n,"?").concat(r),{method:"get",mode:"cors",headers:{"Content-Type":s}}).then(function(e){return e.json()})},t.sFetchPost=function(e,t){var n="application/json;charset=UTF-8";-1!==o.CDN_HOSTS.indexOf(window.location.host)&&(n="text/plain;charset=UTF-8");return window.sfetch("".concat(o.backendUrl).concat(e),{method:"post",mode:"cors",body:JSON.stringify(t),headers:{"Content-Type":n}}).then(function(e){return e.json()})};var o=n(7),i=r(n(722)),a=r(n(728))},function(e,t,n){var r=n(723),o=n(726);e.exports=function(e,t){return e&&r(e,o(t))}},function(e,t,n){var r=n(724),o=n(410);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(725)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}},function(e,t,n){var r=n(727);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(152),o=n(729),i=n(731),a=n(736),s=n(151),c=n(312);e.exports=function(e,t,n){if((e=s(e))&&(n||void 0===t))return e.slice(0,c(e)+1);if(!e||!(t=r(t)))return e;var u=a(e),l=i(u,a(t))+1;return o(u,0,l).join("")}},function(e,t,n){var r=n(730);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(732);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(733),o=n(734),i=n(735);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(737),o=n(738),i=n(739);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[i+r+"?",r,a,s,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+l+u,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(33)),s=r(n(36)),c=r(n(34)),u=r(n(8)),l=r(n(367)),d=n(51),p=r(n(26)),f=r(n(741)),m=n(358),h=n(387),v=r(n(1)),g=n(7),y=n(13);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}t.default=function(e){(0,s.default)(n,e);var t=A(n);function n(e,r){var i;(0,o.default)(this,n);for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];return(i=t.call.apply(t,[this,e,r].concat(s))).updateValue=function(e){var t=e.dataset.parentid,n={value:e.dataset.value,type:e.dataset.type,dom:e,label:e.dataset.label};return i.formViewModel.set(t,n),n},i.validator=function(e,t){var n=e,r=n.dataset.required,o=n.dataset.label,a=e.dataset.type;if(r===m.IS_REQUIRED){var s=new h.Validator;s.add(t,(0,h.validatorMap)(a,o),e);var c=s.lazyValidate();c&&c.errorMsg?i.formViewModel.getSubmittedStatus()&&i.showErrorTips(c.errorMsg,n):i.hideErrorTips(n)}},i.hasPrivacyPolicy=function(){return i.formInfo.policyCompanyName||!i.formInfo.showPrivacyPolicy&&!i.formInfo.showIdCardVerify},i.iframeOnloadHandler=function(e){var t=e.querySelector(".".concat(m.JS_IFRAME_OF_FORM_PRIVACY_POLICY));return new Promise(function(e,n){t.onload=function(){return e("success")}}).then(function(e){i.iframeLoad="success"===e}).catch(function(e){i.iframeLoad=!1,console.error("表单隐私条款加载出错，请检查url，是否存在或允许在iframe中加载",e)})},i.getCompanyName=function(e){if(null===i.policyInfo)if(i.renderPrivacyLoading(e),i.formInfo.policyCompanyName){var t=window.viewerData.pageId,n=(0,y.parseUrl)().token,r=void 0===n?"":n,o="";o=r?"token="+r:"pageId="+t,p.default.fetch("".concat(g.backendUrl,"/api/privacyPolicy/getFormPolicy?formId=").concat(i.formInfo.formId,"&").concat(o),"GET").then(function(t){var n=t.code,r=t.data;if(0===n)return i.policyInfo=r,void i.renderPrivacySuccess(i.policyInfo,e);i.renderPrivacyFail(e)}).catch(function(t){i.renderPrivacyFail(e)})}else p.default.fetch("".concat(g.backendUrl,"/advertiser/company?accountId=").concat(v.default.accountId),"GET").then(function(t){var n=t.code,r=t.data.companyName;if(0===n)return i.policyInfo={companyName:r,supplementalPolicy:""},void i.renderPrivacySuccess(i.policyInfo,e);i.renderPrivacyFail(e)}).catch(function(t){i.renderPrivacyFail(e)});else i.renderPrivacySuccess(i.policyInfo,e)},i.renderPrivacySuccess=function(e,t){var n=e.companyName||"",r=i.renderSupplementalPolicy(e.supplementalPolicy),o='\n          <div class="form-height-light-title" ><b>重要提示</b></div>\n          <p>1、本页面系由广告主或其代理方（简称“广告客户”）利用 “蹊径落地页”（简称“蹊径”）提供的技术制作，“蹊径”作为中立的技术提供方，仅基于广告客户的委托和指令代为收集和处理您的个人信息。因广告客户收集、处理您的个人信息，以及广告客户提供的相关功能、服务产生的一切问题，由广告客户负责处理并承担全部法律责任。请您仔细阅读广告客户在本页面上展示的个人信息及隐私保护协议（具体协议名称以实际展示为准），确保在完全同意相关内容的基础上提交您的信息。</p>\n          <p>2、如对广告客户收集、处理您的个人信息有任何问题，可通过邮件联系<a style="color: #296BEF" href="mailto:ads_service@tencent.com">ads_service@tencent.com</a> 获取广告客户的联系方式。</p>\n          <div class="form-height-light-title"><b>个人信息与隐私保护条款</b></div>\n          <p style="text-indent: 0;">尊敬的用户：</p>\n          <p>1、本服务页面及本协议由'.concat(n,'（以下简称“我方”）提供。</p>\n          <p>2、我方将按照本条款的规定收集、处理您的个人信息。本协议可能涉及您个人信息权益的重要约定，请您在提供个人信息前仔细阅读。一旦您在页面上提交了相关信息，即视为您同意本协议的全部内容。</p>\n          <p>3、为了进一步向您提供商品或服务的相关信息，了解您的需求以更好地实现本广告的推广目的，实现相关营销活动（如抽奖、发券）参与等，需要您按页面的表单提交相关信息（简称“客户信息”），我方承诺将严格依照相关法律规定收集、处理您提交的信息。您有权拒绝提供上述信息，但可能无法获取进一步的广告信息。如您提供了上述信息，您应保证所有信息真实、准确、完整、有效。</p>\n          <p>4、如本服务页面涉及推荐附近门店信息的，您可自主选择填写您附近的门店，也可授权我方或蹊径获得您的地理位置信息，以实现自动在本页面向您展示您附近门店信息的功能。本页面向您申请地理位置信息，仅用于前述门店信息自动展示之目的，且仅用于当次展示。如您不同意地理位置信息的授权，您可选择“拒绝”，我方将不会自动向您推荐附近门店信息，您可通过手动选择完成该等信息的填写。</p>\n          <p>5、您同意我方可基于以下目的或原因自行或委托、安排第三方对您的个人信息进行收集和/或处理（这些第三方包括但不限于我们的经销商、广告服务合作方、数据监测合作方、客服服务商、数据分析服务商等）：（1）安排销售人员与您取得联系，向您提供更有价值的信息，实现广告推广目的；（2）用于广告投放、广告投放效果优化、广告归因、广告监测等广告业务合作；（3）用于商业性分析和洞察；（4）核验信息真实性；（5）实现本服务页面的信息展示及交互功能；（6）发送相关通知、提醒等；（7）其他法律法规许可的目的。我方会要求这些第三方按照不低于我方的安全标准保护您的客户信息。</p>\n          <p>6、我方将采取有效措施保障您的个人信息安全，因我方及我方委托的第三方收集、处理您的个人信息产生的一切问题，由我方处理、负责。</p>\n          <p>7、若您是未满18周岁的未成年人，请在您的父母或其他监护人监护、指导下共同阅读本协议。</p>\n          <p>8、如您有任何投诉、建议或咨询，或有任何基于法律法规规定的权利请求，例如查询、修改、删除、撤回授权等，请联系：<a style="color: #296BEF" href="mailto:ads_service@tencent.com">ads_service@tencent.com</a> 获取我方联系方式。</p>\n          ').concat(r,'\n          <p style="text-align: right; color: #030303; padding-left:50px;"><b>').concat(n,"</b></p>\n        ");t.classList.remove("form-privacy-protect-item-fail-or-loading"),t.querySelector(".form-privacy-protect-item").innerHTML=o,t.querySelector(".reget-privacy-wrapper-fail").style.display="none",t.querySelector(".reget-privacy-wrapper-loading").style.display="none"},i.renderPrivacyFail=function(e){e.classList.add("form-privacy-protect-item-fail-or-loading"),e.querySelector(".reget-privacy-wrapper-fail").style.display="block",e.querySelector(".reget-privacy-wrapper-loading").style.display="none"},i.renderPrivacyLoading=function(e){e.classList.add("form-privacy-protect-item-fail-or-loading"),e.querySelector(".reget-privacy-wrapper-loading").style.display="block",e.querySelector(".reget-privacy-wrapper-fail").style.display="none"},i.renderSupplementalPolicy=function(e){return e?(e=(e=e.replace(/\r\n/g,"</p><p>")).replace(/\n/g,"</p><p>"),'\n              <div class="form-height-light-title"></div>\n              <p>'.concat(e,"</p>\n            ")):""},i.privacyPolicyConfirm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",r=!0;return(0,f.default)(t)?n='\n                <div class="iframe-of-form-header">\n                    <span class="iframe-of-form-height-light-title">重要说明</span>\n                    <p>1. 本广告落地页系由广告主或其代理方（简称“蹊径用户”）利用 “蹊径落地页”建站工具制作生成，“蹊径落地页”系中立的技术提供方，仅基于蹊径用户的指令代其收集您的个人信息。因蹊径用户收集、使用您的个人信息，以及蹊径用户提供的相关功能、服务产生的一切问题，由蹊径用户负责处理并承担全部法律责任。请您仔细阅读以下蹊径用户的个人信息及隐私条款，确保在完全同意相关内容的基础上提交您的信息。</p>\n                    <p>2.如蹊径用户需要核验您提交的信息的真实性和有效性，您同意其委托“蹊径落地页”在法律许可的条件下对信息的真实性、有效性进行验证核对，并将核验结果反馈给该蹊径用户。</p>\n                    <p>3. 如有任何问题，可联系“蹊径落地页”获取本落地页蹊径用户的联系方式。</p>\n                </div>\n                <iframe class="iframe-of-form-privacy-policy '.concat(m.JS_IFRAME_OF_FORM_PRIVACY_POLICY,'" src="').concat(e,'" width="100%"></iframe>\n            '):"个人信息与隐私保护条款"===t?(n='<div class="privacy-policy-item-conform">\n              <div class="form-privacy-protect-item">\n              </div>\n              <div style="display:none" class="reget-privacy-wrapper-fail">\n                <img style="width: .8rem;height: .8rem;" src="https://xj-maker-cos-1258344703.file.myqcloud.com/mp-form/assets/failed-icon.png">\n                <p style="color: #999999">协议内容获取失败</p>\n                <p style="color: #296bef" class="reget-privacy-itme">请重试</p>\n              </div>\n              <div style="display:none" class="reget-privacy-wrapper-loading">\n                <img style="width: .8rem;height: .8rem;animation: rotate 1s linear infinite;" src="https://xj-maker-cos-1258344703.file.myqcloud.com/mp-form/assets/loadingicon.svg">\n                <p style="color: #999999">加载中...</p>\n              </div>\n            </div>',r=!1):n='<iframe class="iframe-of-form-privacy-policy '.concat(m.JS_IFRAME_OF_FORM_PRIVACY_POLICY,'" src="').concat(e,'" width="100%"></iframe>'),i.$PrivacyPolicyConfirm=new d.Confirm({title:t,hideTitle:!1,content:n,closeable:!0,mask:!0,cover:!0,singleAndCoverBtn:!0,maskCloseAble:!0,visible:!1,zIndex:1e3,okText:"关闭",onLoad:r&&i.iframeOnloadHandler,hideCancelBtn:!0})},i.showPrivacyPolicyItemClickHandle=function(){i.$showPrivacyPolicyItem&&p.default.on(i.$showPrivacyPolicyItem,"tap",function(e){i.privacyPolicyConfirm("","个人信息与隐私保护条款"),i.$PrivacyPolicyConfirm.open(),"hidden"!==i.$PrivacyPolicyConfirm.model.$dom.style.overflow&&(i.$PrivacyPolicyConfirm.model.$dom.style.overflow="hidden");var t=i.$PrivacyPolicyConfirm.model.$dom.querySelector(".privacy-policy-item-conform");i.getCompanyName(t);var n=t.querySelector(".reget-privacy-itme");n&&p.default.on(n,"tap",function(e){i.getCompanyName(t)})})},i.main=function(){if(p.default.on(i.$checkbox,"tap",function(e){var t=i.$privacyPolicy;i.selected(t);var n=i.updateValue(t);i.validator(t,n.value)}),i.hasPrivacyPolicy())return i.showPrivacyPolicyItemClickHandle(),!1;var e=i.$privacyPolicy,t=i.updateValue(e);if(i.validator(e,t.value),i.$showPrivacyPolicy&&p.default.on(i.$showPrivacyPolicy,"tap",function(e){var t=i.formInfo.urlOfPrivacyPolicy;i.privacyPolicyConfirm(t,"隐私保护条款"),i.$PrivacyPolicyConfirm.open(),"hidden"!==i.$PrivacyPolicyConfirm.model.$dom.style.overflow&&(i.$PrivacyPolicyConfirm.model.$dom.style.overflow="hidden")}),i.$showIdCard){p.default.on(i.$showIdCard,"tap",function(e){var t="https://xj.res.qq.com/idCard_Protocol_".concat(v.default.accountId);i.privacyPolicyConfirm(t),i.$PrivacyPolicyConfirm.open(),"hidden"!==i.$PrivacyPolicyConfirm.model.$dom.style.overflow&&(i.$PrivacyPolicyConfirm.model.$dom.style.overflow="hidden")});var n=i.$privacyPolicy;n.dataset.value=!1,i._cancel(n);var r=i.updateValue(n);i.validator(n,r.value)}},i.formViewModel=r,i.$privacyPolicy=e.querySelector(".".concat(m.PRIVACY_POLICY_WRAPPER)),i.$checkbox=e.querySelector(".".concat(m.PRIVACY_POLICY_CHECKBOX)),i.formInfo=JSON.parse(e.dataset.forminfo),i.formStyle=JSON.parse(e.dataset.formstyle),i.$showPrivacyPolicy=e.querySelector(".".concat(m.JS_SHOW_PRIVACY_POLICY)),i.$showPrivacyPolicyItem=e.querySelector(".".concat(m.JS_SHOW_PRIVACY_POLICY_ITEM)),i.$showIdCard=e.querySelector(".".concat(m.JS_SHOW_ID_CARD)),i.$submitBtn=e.querySelector(m.SUBMIT_SELECTOR),i.$PrivacyPolicyConfirm=null,i.iframeLoad=!1,i.companyName=null,i.policyInfo=null,i.main(),i}return(0,i.default)(n,[{key:"showErrorTips",value:function(e,t){(0,a.default)((0,u.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,a.default)((0,u.default)(n.prototype),"hideErrorTips",this).call(this,e)}},{key:"hadSelected",value:function(e){return e.classList.contains(m.JS_ISD_REAL_CHECKBOX_CHECKED)}},{key:"selected",value:function(e){this.hadSelected(e),this.hadSelected(e)?(this._cancel(e),e.dataset.value=!1):(e.dataset.value=!0,this._select(e))}},{key:"_cancel",value:function(e){e.classList.remove(m.JS_ISD_REAL_CHECKBOX_CHECKED);var t=e.querySelector(".form-checkbox-fake");t&&(t.style.backgroundColor="transparent")}},{key:"_select",value:function(e){e.classList.add(m.JS_ISD_REAL_CHECKBOX_CHECKED);var t=e.querySelector(".form-checkbox-fake");if(t){var n=this.formStyle.buttonBackgroundColor;t.style.backgroundColor=n}!this.$privacyPolicy||this.$privacyPolicy.dataset.value}}]),n}(l.default)},function(e,t,n){var r=n(467),o=n(411),i=n(465),a=n(71),s=n(440),c=n(439),u=n(406),l=n(466),d="[object Map]",p="[object Set]",f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||i(e)))return!e.length;var t=o(e);if(t==d||t==p)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(26)),s=n(87),c=n(2),u={left:0,right:0,position:"fixed",margin:"0 auto",borderRadius:"0.1067rem",flex:"1 1 auto",bottom:(0,s.pxToRem)(24)+"rem",textAlign:"center",fontSize:"0.3733rem",padding:"0.32rem .5333rem"};t.default=function(){function e(t,n){(0,o.default)(this,e),this.$form=t,this.index=arguments.length<=2?void 0:arguments[2],this.button=null,this.root=document.getElementById("root"),this.init()}return(0,i.default)(e,[{key:"init",value:function(){var e=this,t=this.$form.dataset,n=t.formcontrol,r=t.formstyle,o=t.forminfo;this.formcontrol=JSON.parse(n),this.formStyle=JSON.parse(r),this.forminfo=JSON.parse(o),document.addEventListener("scroll",(0,c.throttle)(this.checkVisibility.bind(this),400)),a.default.on(this.root,"tap",function(t){var n=t.target;n.classList.length>0&&Array.from(n.classList).includes("btn-anchor-to-form")&&e.scrollToForm(e.index)}),setTimeout(function(){e.checkVisibility()},200)}},{key:"checkVisibility",value:function(){var e=this.$form.getBoundingClientRect(),t=e.bottom,n=e.top;t<0||n>=document.body.offsetHeight?0===document.getElementsByClassName("btn-anchor-to-form").length&&this.createButton():this.destroyButton()}},{key:"createButton",value:function(){var e=document.createElement("div");this.addAttribute(e),this.button=e,this.root.appendChild(this.button)}},{key:"addAttribute",value:function(e){var t=this.formcontrol.configs;for(var n in e.innerText=this.forminfo.submitBtnLabel||t[t.length-1].label,e.classList.add("btn-anchor-to-form"),u)e.style[n]=u[n];e.style.backgroundColor=this.formStyle.buttonBackgroundColor,e.style.left=(0,s.pxToRem)(this.formStyle.padding.left)+"rem",e.style.right=(0,s.pxToRem)(this.formStyle.padding.right)+"rem",e.style.color=this.formStyle.buttonFontColor;var r=(0,s.pxToRem)(450)-2*(0,s.pxToRem)(this.formStyle.padding.left)-2*(0,s.pxToRem)(this.formStyle.padding.right);e.style.maxWidth=r-2.1332+"rem"}},{key:"destroyButton",value:function(){document.getElementsByClassName("btn-anchor-to-form").length>0&&this.root.removeChild(this.button)}},{key:"scrollToForm",value:function(e){var t=document.querySelectorAll("form")[e];t&&("BODY"===t.offsetParent.tagName?window.scrollTo(0,t.offsetTop-50):window.scrollTo(0,t.getBoundingClientRect().top+window.scrollY-50))}}]),e}()},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(14)),i=r(n(21)),a=r(n(4)),s=r(n(5)),c=r(n(33)),u=r(n(36)),l=r(n(34)),d=r(n(8)),p=r(n(367)),f=r(n(26)),m=r(n(85)),h=n(7),v=n(622),g=n(369),y=n(11),A=n(2);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var b={fail:"短信验证码获取失败，请重新尝试",success:"已发送短信验证码",noPhone:"请输入手机号"},w=function(e){(0,u.default)(n,e);var t=_(n);function n(e,r){var s;(0,a.default)(this,n);for(var c=arguments.length,u=new Array(c>2?c-2:0),l=2;l<c;l++)u[l-2]=arguments[l];return(s=t.call.apply(t,[this,e,r].concat(u))).getCode=function(){var e=(0,i.default)(o.default.mark(function e(t){var r,i,a,c,u,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=parseInt(s.lefttime,10)||n.LEFTTIME)>0&&r<n.LEFTTIME)){e.next=3;break}return e.abrupt("return");case 3:if(i="".concat(h.backendUrl,"/api/message/sendMessage?type=xjorder"),a=s.formViewModel.getAll(),c="",u="",a.map(function(e,t){"phone"===e.type&&(c=e.value,u=e.dom)}),s.isMobile(c)){e.next=12;break}return s.isMobile(c),s.showErrorTips("请输入正确手机号",u),m.default.error(b.noPhone),e.abrupt("return");case 12:return l={phone:c,advertiserId:window.viewerData.accountId},c===u.dataset.phoneFromCarrier&&(l.encryptPhone=u.dataset.encryptPhone),e.next=16,(0,A.generateEncryptToken)(c===u.dataset.phoneFromCarrier?l.encryptPhone:l.phone);case 16:l.authToken=e.sent,d=Date.now(),(0,v.payFetch)(i,"POST",l).then(function(e){if(0===e.code){s.showtime(),m.default.success(b.success),(0,v.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-d,code:0,interface:"pay-sendMessage"});var n=(0,A.extractParamsFromDom)(t,"isd-web-form-global-wrapper");(0,y.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"",action_type:"click_messcode",formid:n.id,status:{state:1}})}else{m.default.error(e.message||b.fail),(0,v.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-d,code:e.code,interface:"pay-sendMessage",orderId:c,pageId:window.viewerData.pageId});var r=(0,A.extractParamsFromDom)(t,"isd-web-form-global-wrapper");(0,y.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"",action_type:"click_messcode",formid:r.id,status:{state:0}})}}).catch(function(e){(0,g.tdwReport)({actiontype:"click_messcode",moduletype:4,status:0}),m.default.error(b.fail),(0,v.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-d,code:99999,interface:"pay-sendMessage",orderId:c,pageId:window.viewerData.pageId})});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s.addZero=function(e,t){var n=(t=t||2)-(e+="").length;return n>0&&(e=new Array(n+1).join("0")+e),e},s.showtime=function(){s.lefttime--;var e=s.addZero(s.lefttime,2);if(s.$payVerificationBtn.classList.add("get-sms-verification-code--time"),s.$payVerificationBtn.innerText="重新发送(".concat(e,"s)"),s.lefttime<=0)return s.$payVerificationBtn.classList.remove("get-sms-verification-code--time"),s.$payVerificationBtn.innerText="获取验证码",void(s.lefttime=n.LEFTTIME);s.setTimeoutId=setTimeout(s.showtime,1e3)},s.main=function(){s.$payVerificationBtn&&f.default.on(s.$payVerificationBtn,"tap",function(e){s.getCode(e)})},s.formViewModel=r,s.$payVerificationBtn=e.querySelector(".get-sms-verification-code"),s.lefttime=n.LEFTTIME,s.main(),s}return(0,s.default)(n,[{key:"showErrorTips",value:function(e,t){(0,c.default)((0,d.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"isMobile",value:function(e){return/^1[0-9]([0-9]|\*){9}$/.test(e)}}]),n}(p.default);w.LEFTTIME=60;t.default=w},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(6)),i=r(n(42)),a=r(n(3)),s=r(n(4)),c=r(n(5)),u=r(n(46)),l=r(n(33)),d=r(n(36)),p=r(n(34)),f=r(n(8)),m=r(n(367)),h=r(n(129)),v=r(n(1)),g=n(387),y=n(7),A=n(358),_=n(51),b=r(n(26)),w=n(745),T=n(437),E=r(n(10)),S=n(12),O=n(11),I=n(746),C=r(n(85)),P=r(n(532)),k=r(n(747)),x=r(n(608)),N=r(n(609)),D=r(n(610)),R=r(n(611)),j=r(n(612)),L=n(2),M=n(407),B=n(748),U=r(n(749)),F=r(n(750)),G=r(n(753)),q=n(15),W=r(n(120)),H=r(n(400));function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,p.default)(this,n)}}var Q=(0,G.default)({maxDeferredTime:T.MAX_DEFERRED_TIME}),Y=Q.closeDeferredLoading,z=Q.deferredOpen,K="https://h5.gdt.qq.com/xjviewer/nemo/",$=function(e,t,n,r){(0,L.gxtReport)("xj_qq_reservation_rate",{code:t,val:Date.now()-e,page_id:n,api_name:r})},Z=["privacyPolicyPersonalInfo"],ee=t.default=function(e){(0,d.default)(n,e);var t=J(n);function n(e,r,o,i,a){var c;(0,s.default)(this,n);for(var l=arguments.length,d=new Array(l>5?l-5:0),p=5;p<l;p++)d[p-5]=arguments[p];c=t.call.apply(t,[this,e,r].concat(d)),te.call((0,u.default)(c)),c.formViewModel=r,c.pluginContext=o,c.formIndex=i,c.$form=e,c.formInfo=JSON.parse(c.$form.dataset.forminfo),c.clipboard=JSON.parse(c.$form.dataset.clipboard||"{}"),c.$submit=c.$form.querySelector(A.SUBMIT_SELECTOR),c.submitText=c.$submit.innerText,c.token=null,c.formStateStream=n.stateStream(c.submitFormTransform),c.idCardSubmitCount=0,c.SMSCodeObject=null,c.submitDebounce=null,c.confirmOfsuccessInfo=null,c.initStart=Date.now(),c.layerForm=null,c.tagDataId="",c.hasMultiChoiceLbs=c.formInfo.hasMultiChoiceLbs||!1,c.someConfig=a||{},c.getSaveTokenParams=null,c.autoFillAuthStatus="0",c.deviceInfo={imei:"",taid:"",oaid:"",idfa:""};var f=c.formInfo,m=f.isJump,g=f.linkType,y=f.landingPageId;c.jumpLandingPageUrl=m&&"landingPage"===g&&y?"".concat(K).concat(y):"",c.applyPlugins(o),c.enableFormBarrier=(window.XJADSDK&&window.XJADSDK.getSceneEnv&&window.XJADSDK.getSceneEnv()||{}).enableFormBarrier,c.EXP_PARAMS=(0,q.getExpParams)()||{},c.EXP_PARAMS,c.enableFormBarrier;var _=c.formViewModel.getAll().some(function(e){return"phone"===e.type});if(!v.default.webFormExpId[v.default.accountId]&&_){I.phoneReporter.formId=c.getFormId(),v.default.permission&&v.default.permission.includes(10)?c.phoneFromCarrierFeature=new k.default({formViewModel:r,formNode:c.$form,reporter:I.phoneReporter,phoneFromCarrierSuccessCallback:c.phoneFromCarrierSuccessCallback}):setTimeout(function(){(0,M.moudleFormShow)(c.$form)},200),c.phoneFromAutoFillFeature=new U.default({index:i,phoneAutoFill:!0,updatePhoneCallback:c.updatePhoneValueFromAutoFill,updateAuthStatusCallback:function(e){c.autoFillAuthStatus=e},formBtnColor:JSON.parse(c.$form.dataset.formstyle).buttonBackgroundColor,showAutoFillPrivacy:void 0===c.formInfo.isAutoFillPhone||c.formInfo.isAutoFillPhone}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"checkAutoWrite",status:{state:"1"===h.default.get(T.XJ_FORM_AUTO_FILL_AUTH_CODE)?1:0},formid:I.phoneReporter.formId,functype:1}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"applyAutoWrite",status:{state:"1"===h.default.get(T.XJ_FORM_AUTO_FILL_AUTH_CODE)&&h.default.get(T.FROM_PHONE_FOR_AUTO_FILL_SAVE_COOKIE)?1:0},formid:I.phoneReporter.formId,functype:1});var b=document.getElementsByClassName("isd-web-form-global-wrapper")[i].querySelector('form[data-id="'.concat(c.getFormId(),'"] input[data-type="phone"]'));b.addEventListener("change",function(e){c.getPhoneFromCarrier()&&!c.isPhoneFromCarrier(e.target.value)?(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"changePullButton",status:{state:1},formid:I.phoneReporter.formId,functype:1}):c.getPhoneFromAutoFill()&&!c.isPhoneFromAutoFill(e.target.value)&&(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"changeAutoWrite",status:{state:1},formid:I.phoneReporter.formId,functype:1})}),b.addEventListener("input",function(e){e.target.value.includes("*")&&(c.getPhoneFromCarrier()&&!c.isPhoneFromCarrier(e.target.value)||c.getPhoneFromAutoFill()&&!c.isPhoneFromAutoFill(e.target.value))&&(e.target.value="")})}return c.submitConfirm=null,c.reservated=!1,c.showReservationMsg="",c.main(),(0,L.getRecordTapInstance)(),c}return(0,c.default)(n,[{key:"isPhoneFromCarrier",value:function(e){return this.phoneFromCarrierFeature&&this.phoneFromCarrierFeature.isPhoneFromCarrier(e)}},{key:"isPhoneFromCarrierMounted",value:function(){return this.phoneFromCarrierFeature&&this.phoneFromCarrierFeature.getIsMounted()}},{key:"getPhoneFromCarrier",value:function(){return this.phoneFromCarrierFeature?this.phoneFromCarrierFeature.getPhoneFromCarrier():""}},{key:"getEncryptPhoneFromCarrier",value:function(){return this.phoneFromCarrierFeature?this.phoneFromCarrierFeature.getEncryptPhone():""}},{key:"isPullButtonClicked",value:function(){return this.phoneFromCarrierFeature&&this.phoneFromCarrierFeature.getIsClicked()}},{key:"isPhoneFromAutoFill",value:function(e){return this.phoneFromAutoFillFeature&&this.phoneFromAutoFillFeature.isPhoneFromAutoFill(e)}},{key:"getPhoneFromAutoFill",value:function(){return this.phoneFromAutoFillFeature?this.phoneFromAutoFillFeature.getPhoneFromAutoFill():""}},{key:"getEncryptPhoneFromAutoFill",value:function(){return this.phoneFromAutoFillFeature?this.phoneFromAutoFillFeature.getEncryptPhone():""}},{key:"getStrongConfirmBeforeSubmit",value:function(){var e=this;if(this.enableFormBarrier)return 1===parseInt(this.EXP_PARAMS.notice_shortMsg,10)||1===parseInt(this.EXP_PARAMS.notice_shortMsg_clickEarly,10)||1===parseInt(this.EXP_PARAMS.notice_intellMsg,10)?new _.Confirm({title:"确认是否提交表单",hideTitle:!1,content:"浏览广告超过15s即可获得奖励",closeable:!1,mask:!0,maskCloseAble:!1,visible:!0,zIndex:1e3,okText:"继续浏览",cancelText:"立即提交",singleAndCoverBtn:!1,wrapClassName:"apple-style-confirm",onCancel:function(){e.formStateStream.dispatch({type:B.open_deferred_loading,payload:null}),e.formStateStream.dispatch({type:B.fetch_token_start,payload:null})},onOk:function(){e.formStateStream.dispatch({type:B.cancel_submit_debounce,payload:null})}}):void 0}},{key:"getTokenParams",value:function(){return{traceId:(0,L.getTraceId)(),formId:this.getFormId(),phone:this.getPhoneNumber(),pageId:v.default.pageId,index:this.formIndex,os_type:b.default.osType()||0,imei:"",data:this.getSubmitData(),advertiserId:this.getAdvertiserId(),hasLayerForm:this.formInfo.hasLayerForm}}},{key:"getSlice",value:function(e,t){return e&&t?[1,2].includes(parseInt(e,10))&&[3,4,6,8,10,12].includes(parseInt(t,10))?1:0:-1}},{key:"showErrorTips",value:function(e,t){(0,l.default)((0,f.default)(n.prototype),"showErrorTips",this).call(this,e,t)}},{key:"hideErrorTips",value:function(e){(0,l.default)((0,f.default)(n.prototype),"hideErrorTips",this).call(this,e)}},{key:"initLayerForm",value:function(e,t){if(!this.layerForm){var n=t.layerForm,r=n.formInfo,o=n.formControl;this.layerForm=new F.default(e,r,o)}this.layerForm.showLayerForm(),this.layerForm.saveTagDataId(this.tagDataId)}},{key:"successInfo",value:function(){var e=this,t=this.formInfo,n=t.showSuccessInfo,r=this.getCalcMsg(),o=r||t.successInfo||T.AJAX_MESSAGE.submitSuccess,i=this.$form.dataset.layerformid;if(t.hasLayerForm&&i){var a=this.$form.parentNode.querySelector(".isd-web-form-drag");a&&a.click();var s=document.querySelector(".xj-website-form--closeBtn");s&&s.click();var c=document.querySelector("#".concat(i));return this.initLayerForm(c,t),void(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"view_form",status:{formtype:2},formid:I.phoneReporter.formId})}if("reserveSuccess"===this.showReservationMsg?(C.default.success(T.AJAX_MESSAGE.reservationSuccessMessage),this.showReservationMsg="done"):""===this.showReservationMsg&&(this.showReservationMsg="formSuccess"),[!0,"toast"].indexOf(n)>-1)C.default.success(o);else{if("confirm"===n)return new Promise(function(t){e.confirmOfsuccessInfo?(e.confirmOfsuccessInfo.props.onOk=t,e.confirmOfsuccessInfo.props.onCancel=t,e.confirmOfsuccessInfo.update(o),e.confirmOfsuccessInfo.open()):e.confirmOfsuccessInfo=new _.Confirm({icon:r?'<span class="isd-form-calc-success"></span>':"",title:"提交成功",hideTitle:!1,content:o,closeable:!0,mask:!0,singleAndCoverBtn:!0,maskCloseAble:!0,visible:!0,zIndex:1e3,okText:"完成",hideCancelBtn:!0,onClose:function(){var t=e.someConfig.onHide;"function"==typeof t&&t()},onOk:function(){var n=e.someConfig.onHide;"function"==typeof n&&n(),t()}}),r?(e.SMSCodeObject&&e.SMSCodeObject.interfaceHide(),e.SMSCodeObject&&e.SMSCodeObject.interfaceClearTime(),Y()):t()});C.default.success(T.AJAX_MESSAGE.submitSuccess)}}},{key:"setSubmittedStatus",value:function(e){this.formViewModel.setSubmittedStatus(e)}},{key:"getFormValue",value:function(){var e=this.formViewModel.getAll(),t=this.hasMultiChoiceLbs,n=e.reduce(function(e,n){var r=e.addressValueArray,o=e.formArray;return"address"===n.supType?"proCityArea"===n.type?r[0]=n:"addressInput"===n.type&&(r[1]=n):"lbsShopInfo"===n.type?t?o.push({type:n.type,name:n.label,value:n.value,required:n.required,shoplist:n.shoplist}):o.push({type:n.type,name:n.label,value:n.value,required:n.required,shopName:n.shopName}):o.push({type:n.type,name:n.label,value:n.value,required:n.required}),e},{addressValueArray:[null,null],formArray:[]}),r=n.addressValueArray,o=n.formArray;if(r[0]||r[1]){var i="",a="",s=r[0]&&r[0].required||r[1]&&r[1].required;if(r[0])i=(r[0].value||"").split("|").join("");r[1]&&(a=r[1].value||""),o.push({type:"address",name:"地址",value:i+a,required:s})}return o}},{key:"changeDeviceType",value:function(e){return{1:2,2:1}[e]||0}},{key:"putGetSaveToken",value:function(){return b.default.fetch("".concat(n.getTokenUrl).concat(n.getTokenUrl.includes("?")?"&":"?","data=").concat(encodeURIComponent(JSON.stringify(this.getSaveTokenParams))),"POST",null)}},{key:"formValidate",value:function(){var e=new g.Validator,t=this.formViewModel.getAll(),n=JSON.parse(this.$form.dataset.formcontrol),r={};try{r=JSON.parse(this.$form.dataset.forminfo)}catch(e){}t.forEach(function(t,o){if(t){var i=t.dom,a=t.value,s=t.type,c=t.label,u=i.dataset.required,l=(0,g.validatorMap)(s,c);"phone"===s&&r.enableOverseasPhoneNumber&&(l=[]),u===A.IS_REQUIRED&&l.push((0,g.validatorNonEmpty)(c));var d=i.dataset.maxlength;if("textarea"===s&&l.push({strategy:"maxLength:".concat(d),errorMsg:"".concat(c,"不能超过").concat(d,"个字")}),parseInt(i.dataset.minlength,10)&&l.push({strategy:"minLength:".concat(i.dataset.minlength),errorMsg:"".concat(c,"不能少于").concat(i.dataset.minlength,"个字")}),"proCityArea"===s&&i.dataset.disabledDistrictsConfig)JSON.parse(i.dataset.disabledDistrictsConfig).enable&&l.push({strategy:"isLimitedDistricts"});if("idCard"===s){var p=n.configs[o];if(p.ageLimit&&p.ageLimit.enable){var f=p.ageLimit,m=f.minAge,h=f.maxAge;l.push({strategy:"idCardInAgeRange:".concat(m,"-").concat(h),errorMsg:"仅支持".concat(m,"到").concat(h,"岁用户提交")})}}"graduallySelect"===s?e.add(i.dataset.iscomplete,l,i):e.add(a,l,i)}});var o=e.lazyValidate();return e.validate(this.showErrorTips),o}},{key:"cookieExpires",value:function(e){return new Date((new Date).getTime()+60*e*1e3)}},{key:"getPageMakerResubmitCookieName",value:function(){var e=this.getFormInfoForCookie(),t=e.phoneNumber,r=e.formId,o=e.pageId;return"".concat(n.formVerifyCookie.pageMaker,"_").concat(t,"_").concat(r,"_").concat(o)}},{key:"getPageMakerResubmitCookie",value:function(){var e=this.getPageMakerResubmitCookieName();return h.default.get(e)}},{key:"getFormInfoForCookie",value:function(){var e=this.formIndex||0;return{phoneNumber:this.getPhoneNumber()||"no_phone",formIndex:e,formId:this.getFormId(),pageId:v.default.pageId}}},{key:"getCommonResubmitCookieName",value:function(){var e=this.getFormInfoForCookie(),t=e.phoneNumber,r=e.formId,o=e.pageId;return"".concat(n.formVerifyCookie.common,"_").concat(t,"_").concat(r,"_").concat(o)}},{key:"getCommonResubmitCookie",value:function(){var e=this.getCommonResubmitCookieName();return h.default.get(e)}},{key:"verifyCommonResubmit",value:function(){return!this.getCommonResubmitCookie()}},{key:"removeResubmitByCookie",value:function(){return!!this.formInfo.cycle}},{key:"verifyPageMakerResubmit",value:function(){return!!this.removeResubmitByCookie()||(!(this.formInfo.verificationRule.indexOf("verifyResubmit")>-1)||!this.getPageMakerResubmitCookie())}},{key:"getIdCard",value:function(){var e=this.formViewModel.getAll().filter(function(e){return"idCard"===e.type});return e[0]?e[0].value:""}},{key:"getName",value:function(){var e=this.formViewModel.getAll().filter(function(e){return"name"===e.type});return e[0]?e[0].value:""}},{key:"getPhoneNumber",value:function(){var e=this.formViewModel.getAll().filter(function(e){return"phone"===e.type});return e[0]?e[0].value:""}},{key:"getAdvertiserId",value:function(){return window.viewerData.accountId}},{key:"getClickId",value:function(){return(0,L.getTraceId)()}},{key:"getFormId",value:function(){return this.formInfo.formId}},{key:"goto",value:function(){var e=this,t=this.formInfo,n=t.isJump,r=t.linkType,o=void 0===r?"link":r,i=t.jumpLink;if(n){if("link"===o||"landingPage"===o){(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{formid:this.getFormId(),action_type:"landing_page_click",ei:"4007001"});var a=new S.Report;a.dmpReport({actionType:S.REPORT_TYPE.LINK,customAction:""}),a.dmpReport({map:S.REPORT_TYPE_MAPS.NEW_GAME_ORDER}),this.formInfo.url=i,this.jumpLandingPageUrl&&(this.formInfo.url=this.jumpLandingPageUrl)}setTimeout(function(){(0,L.jumpLinkCommonFunction)({type:o,data:X(X({},e.formInfo),{},{clipboardConfig:e.clipboard})})},y.WAIT_DMP_REPORT_TIME)}else H.default.getQaDisplayPromise().then(function(e){var t=e.sessionKey,n=e.landPageUrl;if(t&&n){var r=document.querySelectorAll(".xj-modal-body");Array.from(r).forEach(function(e){e.innerHTML="正在为您分配专属坐席客服～"});var o=window.location.href.split("?")[1],i="xj_qa_sessionkey=".concat(t);window.location.href=n+"?"+o+"&"+i}}).catch(function(e){})}},{key:"applyPlugins",value:function(e){(this.plugins||[]).forEach(function(t){return t.apply(e)})}},{key:"getCalcMsg",value:function(){var e=this,t=JSON.parse(this.$form.dataset.formcontrol),n=this.getFormValue(),r=[],o=0;return t.configs.forEach(function(t){if("calculator"===t.type){var i={};t.configs.fields.forEach(function(e){i[e.key]=Number(n[o++].value)}),r.push('<p class="isd-form-calc-line"></p>'),r.push('<p class="isd-form-calc-result">'.concat(t.configs.resultMessage,"</p>")),t.configs.results.map(function(t){var n=e.getCalcResult(t.formula,i),o=isFinite(n)?String(n.toFixed(2).replace(/\.00$/,"")):"暂无结果";r.push('<p class="isd-form-calc-result">'),r.push("<label>".concat(t.resultName,"</label>")),r.push("<span>".concat(o,"</span>")),r.push("</p>")})}else o++}),r.join("\n")}},{key:"getCalcResult",value:function(e,t){var n=(0,w.convert)(e),r=(0,i.default)(n,2),o=r[0],a=r[1];if(!o)return NaN;try{return a(t,{})}catch(e){return NaN}}}],[{key:"stateStream",value:function(e){if("function"!=typeof e)throw new Error("stateStream的参数必须是函数");return{dispatch:function(t){if("object"!==(0,o.default)(t)||null===t)throw new Error("action必须是一个对象");if(void 0===t.type)throw new Error("action必须有type属性");e(t)}}}}]),n}(m.default);ee.urlRoot=y.backendUrl,ee.postFormDataAndDMPReportUrl="".concat(ee.urlRoot,"/api/form/saveAndReport"),ee.getTokenUrl="".concat(ee.urlRoot,"/api/form/getSaveToken"),ee.formVerifyCookie={pageMaker:"pageMakerResubmit",common:"commonResubmit"},ee.submitTimestamp="",ee.submitLoading=!1;var te=function(){var e=this;this.plugins=[new x.default,new N.default,new D.default,new R.default,new j.default],this.phoneFromCarrierSuccessCallback=function(t,n){var r=e.formViewModel.getAll(),o=r.findIndex(function(e){return"phone"===e.type}),i=r[o];i.dom.value=t,e.formViewModel.set(o,{value:t,type:i.type,dom:i.dom,label:i.label}),i.dom.dataset.encryptPhone=n,i.dom.dataset.phoneFromCarrier=t,e.pluginContext.emit("insert",{dom:i.dom,source:T.PHONE_NUMBER_SOURCE.CLICK_BTN})},this.loadDeviceInfo=function(){T.MEDIA_TO_TOKEN_NAME[v.default.mediaName]&&(0,E.default)(T.MEDIA_TO_TOKEN_NAME[v.default.mediaName],function(){"QQ"===v.default.mediaName||"IOSQQ"===v.default.mediaName?window.GDTMOD&&window.GDTMOD.tangram&&window.GDTMOD.tangram.api&&"function"==typeof window.GDTMOD.tangram.api.getDeviceInfo&&window.GDTMOD.tangram.api.getDeviceInfo(function(t){0===t.code&&(e.deviceInfo.imei=t.data.deviceInfo.muid,e.deviceInfo.taid=t.data.deviceInfo.taid_ticket,e.deviceInfo.oaid=t.data.deviceInfo.aid_ticket,e.deviceInfo.idfa=t.data.deviceInfo.idfa)},{params:{businessIdForAidTicketAndTaidTicket:"5cfc38"}}):"READ"===v.default.mediaName&&1===b.default.osType()?window.TencentReading&&(0,o.default)("function"==window.TencentReading.getAppInfo)&&(window.readCallBack=function(t){t&&"string"==typeof t&&(e.deviceInfo.imei=JSON.parse(t).deviceId)},window.TencentReading.getAppInfo("readCallBack")):"QNEWS"===v.default.mediaName&&1===b.default.osType()?window.TencentNews&&window.TencentNews.getImei&&"function"==typeof window.TencentNews.getImei&&(window.newsCallBack=function(t){e.deviceInfo.imei=t},window.TencentNews.getImei("newsCallBack")):"QB"===v.default.mediaName&&1===b.default.osType()&&window.browser&&window.browser.device&&("function"==typeof window.browser.device.getOAID&&window.browser.device.getOAID(function(t){e.deviceInfo.oaid=t}),"function"==typeof window.browser.device.getTAID&&window.browser.device.getTAID(function(t){e.deviceInfo.taid=t}))})},this.updatePhoneValueFromAutoFill=function(t,n){var r=t.includes("*")&&!n?"":t,o=e.formViewModel.getAll(),a=o.filter(function(e){return"phone"===e.type}),s=(0,i.default)(a,1)[0];s.dom.value=r,e.formViewModel.set(o.indexOf(s),{value:r,type:s.type,dom:s.dom,label:s.label}),n&&(s.dom.dataset.encryptPhone=n,s.dom.dataset.phoneFromCarrier=r),e.pluginContext.emit("insert",{dom:s.dom,source:T.PHONE_NUMBER_SOURCE.AUTO_FILL}),window.tianqinReport&&window.tianqinReport({type:"GXT",data:{attr:"form_auto_fill_success",val:1,count:1,type:"phone"}})},this.clickFormSubmitReducer=function(e){return(0,a.default)({},B.init_click_submit_form,function(){e({type:B.start_submit_debounce,payload:null})})},this.submitClickDebounce=function(t){return(0,a.default)((0,a.default)({},B.start_submit_debounce,function(){e.submitDebounce||(e.submitDebounce=b.default.debounce(function(n){e.initSubmit(),t({type:B.open_deferred_loading,payload:null}),t({type:B.validate_form_start,payload:null})},T.SUBMIT_DEBOUNCE_DURATION,{leading:!0,trailing:!1,maxWait:T.SUBMIT_DEBOUNCE_MAX_WAIT})),e.submitDebounce()}),B.cancel_submit_debounce,function(){e.submitDebounce.cancel()})},this.validateFormReducer=function(t){return(0,a.default)((0,a.default)((0,a.default)({},B.validate_form_start,function(){e.validateForm()?t({type:B.validate_form_success,payload:null}):t({type:B.validate_form_fail,payload:null})}),B.validate_form_success,function(){e.pluginContext.emit("submitAfterValidation",{valid:!0}),e.formInfo.hasPay?window.XJProductLibraryxjBuy(e.autoFillAuthStatus):(null===e.submitConfirm&&(e.submitConfirm=e.getStrongConfirmBeforeSubmit()),e.submitConfirm?(e.submitConfirm.open(),t({type:B.close_deferred_loading,payload:null})):t({type:B.fetch_token_start,payload:null}))}),B.validate_form_fail,function(){e.pluginContext.emit("submitAfterValidation",{valid:!1}),t({type:B.close_deferred_loading,payload:null}),t({type:B.cancel_submit_debounce,payload:null})})},this.fetchTokenReducer=function(t){return(0,a.default)((0,a.default)((0,a.default)({},B.fetch_token_start,function(){e.clickSubmitFormButton().then(function(t){return t&&400===parseInt(t.code,10)&&"data has error"===t.message?e.putGetSaveToken():t}).then(function(n){if(!n)return t({type:B.fetch_token_fail,payload:null}),!1;e.setReservation();var r=parseInt(n.code,10),o=n.message,i=(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)({},T.AJAX_CODE.getTokenSuccess,function(){return e.token=n.data.token,n.data.message?t({type:B.show_phone_verify,payload:null}):t({type:B.fetch_token_success,payload:null}),!0}),T.AJAX_CODE.repeatGetToken,function(){return e.getPhoneNumber()?C.default.error(T.AJAX_MESSAGE.repeatGetToken):C.default.error(T.AJAX_MESSAGE.repeatGetTokenWithNoPhone),t({type:B.fetch_token_fail,payload:null}),!1}),T.AJAX_CODE.getTokenByBlackPhone,function(){return C.default.error(T.AJAX_MESSAGE.getTokenByBlackPhone),t({type:B.fetch_token_fail,payload:null}),!1}),T.AJAX_CODE.dirtyWords,function(){return C.default.error(o||"提交信息包含敏感内容，请重新输入"),t({type:B.fetch_token_fail,payload:null}),!1}),T.AJAX_CODE.notReviewed,function(){return C.default.error(T.AJAX_MESSAGE.notReviewed),t({type:B.fetch_token_fail,payload:null}),!1}),T.AJAX_CODE.submitFailIdCard,function(){return e.idCardSubmitCount++,C.default.error(T.AJAX_MESSAGE.submitFailIdCard),t({type:B.fetch_token_fail,payload:null}),!1}),T.AJAX_CODE.incorrectAddress,function(){return C.default.error(T.AJAX_MESSAGE.incorrectAddress),t({type:B.fetch_token_fail,payload:null}),!1});return i[r]?i[r]():(400===r?window.aegis&&window.aegis.report("getSaveToken失败： ".concat(o,", data is: ").concat(JSON.stringify(e.getSaveTokenParams))):o.indexOf(!1)&&window.aegis&&window.aegis.report(["getSaveToken失败： index异常","data is: ".concat(JSON.stringify(e.getSaveTokenParams)),"formIndex is: ".concat(e.formIndex),"formLength is: ".concat(document.body.getElementsByClassName("isd-web-form-global-wrapper").length),"responseId is: ".concat(n.id)].join(",")),C.default.error(T.AJAX_MESSAGE.getTokenFail),t({type:B.fetch_token_fail,payload:null}),!1)}).catch(function(n){throw C.default.error(T.AJAX_MESSAGE.getTokenFail),t({type:B.fetch_token_fail,payload:null}),window.aegis&&window.aegis.report("getSaveToken失败： ".concat(n,", data is: ").concat(JSON.stringify(e.getSaveTokenParams))),n})}),B.fetch_token_success,function(){t({type:B.close_deferred_loading,payload:null}),t({type:B.pretreatment_submit_form_ajax_start,payload:null})}),B.fetch_token_fail,function(){t({type:B.close_deferred_loading,payload:null}),t({type:B.cancel_submit_debounce,payload:null})})},this.setSubmitBtn=function(){ee.submitLoading=!0,e.$submit.innerHTML="提交中",e.$submit.classList.add("isd-form-item-submiting-button--disabled")},this.resetSubmitBtn=function(){ee.submitLoading=!1,e.$submit.innerHTML=e.submitText,e.$submit.classList.remove("isd-form-item-submiting-button--disabled")},this.pretreatmentSubmitFormAjaxReducer=function(t){return(0,a.default)((0,a.default)((0,a.default)({},B.pretreatment_submit_form_ajax_start,function(){e.pretreatmentSubmitFormDataWidthToken().then(e.afterSubmitForm).then(function(n){e.resetSubmitBtn(),0!==n.code?(C.default.error(T.AJAX_MESSAGE.submitFail),t({type:B.pretreatment_submit_form_ajax_fail,payload:null}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"fail_form",ei:"4007040",formid:e.getFormId(),submit_fail_reason:101})):(n.data&&(e.tagDataId=n.data),t({type:B.pretreatment_submit_form_ajax_success,payload:null}))}).catch(function(n){throw e.resetSubmitBtn(),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"fail_form",ei:"4007040",formid:e.getFormId(),submit_fail_reason:999}),C.default.error(T.AJAX_MESSAGE.submitFail),t({type:B.pretreatment_submit_form_ajax_fail,payload:null}),n})}),B.pretreatment_submit_form_ajax_success,function(){e.pluginContext.emit("submitSuccess"),(0,L.stmTestClkReportType)("submitSuccess"),(0,L.stmTestClkReportHighLevel)("注册数据"),e.postSuccessCallback().then(function(){t({type:B.close_deferred_loading,payload:null}),t({type:B.cancel_submit_debounce,payload:null})})}),B.pretreatment_submit_form_ajax_fail,function(){t({type:B.close_deferred_loading,payload:null}),t({type:B.cancel_submit_debounce,payload:null})})},this.submitFormDataWidthsMSCodeAjaxReducer=function(t){return(0,a.default)((0,a.default)((0,a.default)({},B.submit_form_data_width_SMS_code_ajax_start,function(){t({type:B.open_deferred_loading,payload:null}),e.submitFormDataWidthSMSCode(e.SMSCodeObject).then(e.afterSubmitForm).then(function(n){e.resetSubmitBtn();var r=parseInt(n.code,10);n.data&&(e.tagDataId=n.data);var o=(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)({},T.AJAX_CODE.submitSuccess,function(){t({type:B.submit_form_data_width_SMS_code_ajax_success,payload:null})}),T.AJAX_CODE.submitFailByIllegal,function(){C.default.error(T.AJAX_MESSAGE.submitFail),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:e.getFormId(),action_type:"fail_form",submit_fail_reason:201})}),T.AJAX_CODE.resubmit,function(){e.getPhoneNumber()?C.default.error(T.AJAX_MESSAGE.resubmit):C.default.error(T.AJAX_MESSAGE.resubmitWithNoPhone),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:e.getFormId(),action_type:"fail_form",submit_fail_reason:301})}),T.AJAX_CODE.submitFailByWrongSMSCode,function(){C.default.error(T.AJAX_MESSAGE.submitFailByWrongSMSCode),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:e.getFormId(),action_type:"fail_form",submit_fail_reason:203})}),T.AJAX_CODE.submitFailSMSCodeByTimeOut,function(){C.default.error(T.AJAX_MESSAGE.submitFailSMSCodeByTimeOut),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:e.getFormId(),action_type:"fail_form",submit_fail_reason:104})}),T.AJAX_CODE.submitFailNoSMSCode,function(){C.default.error(T.AJAX_MESSAGE.submitFail),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:e.getFormId(),action_type:"fail_form",submit_fail_reason:203})});o[r]?o[r]():(C.default.error(n.message||T.AJAX_MESSAGE.submitFail),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:e.getFormId(),action_type:"fail_form",submit_fail_reason:999}))}).catch(function(n){throw e.resetSubmitBtn(),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:e.getFormId(),action_type:"fail_form",submit_fail_reason:999}),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}),C.default.error(T.AJAX_MESSAGE.submitFail),n})}),B.submit_form_data_width_SMS_code_ajax_success,function(){e.pluginContext.emit("submitSuccess"),(0,L.stmTestClkReportType)("submitSuccess"),(0,L.stmTestClkReportHighLevel)("注册数据"),e.SMSCodeObject.interfaceSubmitSuccess(),e.postSuccessCallback().then(function(){t({type:B.close_deferred_loading,payload:null}),t({type:B.cancel_submit_debounce,payload:null});var e=setTimeout(function(){t({type:B.hide_phone_verify,payload:null}),t({type:B.clear_phone_verify_time,payload:null}),clearTimeout(e)},T.HIDE_PHONE_VERIFY_DELAY)})}),B.submit_form_data_width_SMS_code_ajax_fail,function(){t({type:B.close_deferred_loading,payload:null}),t({type:B.cancel_submit_debounce,payload:null}),e.SMSCodeObject.interfaceSubmitError()})},this.deferredLoadingReducer=function(){return(0,a.default)((0,a.default)({},B.open_deferred_loading,function(){z()}),B.close_deferred_loading,function(){Y()})},this.phoneVerifyReducer=function(t){return(0,a.default)((0,a.default)((0,a.default)({},B.show_phone_verify,function(){t({type:B.close_deferred_loading,payload:null}),e.SMSCodeObject?(e.SMSCodeObject.interfaceUpdateOptions({phone:e.getPhoneNumber(),advertiserId:e.getAdvertiserId(),token:e.token}),e.SMSCodeObject.interfaceShow()):e.SMSCodeObject=e.showPhoneVerify({onsubmit:function(){e.validateForm()?t({type:B.submit_form_data_width_SMS_code_ajax_start,payload:null}):(C.default.error(T.AJAX_MESSAGE.submitFail),t({type:B.submit_form_data_width_SMS_code_ajax_fail,payload:null}))},onHide:function(){t({type:B.cancel_submit_debounce,payload:null})}})}),B.hide_phone_verify,function(){e.SMSCodeObject&&e.SMSCodeObject.interfaceHide()}),B.clear_phone_verify_time,function(){e.SMSCodeObject&&e.SMSCodeObject.interfaceClearTime()})},this.submitFormTransform=function(t){var n=e.formStateStream.dispatch,r=X(X(X(X(X(X(X(X({},e.clickFormSubmitReducer(n)),e.submitClickDebounce(n)),e.validateFormReducer(n)),e.fetchTokenReducer(n)),e.pretreatmentSubmitFormAjaxReducer(n)),e.phoneVerifyReducer(n)),e.submitFormDataWidthsMSCodeAjaxReducer(n)),e.deferredLoadingReducer(n))[t.type];if(!r)throw new Error("请定义action type处理reducer逻辑");r()},this.initSubmit=function(){e.setSubmittedStatus(!0)},this.validateForm=function(){var t=e.formValidate();return e.getFormValue(),t&&t.errorMsg?(e.errorInputScrollToView(t.dom),C.default.error(t.errorMsg),!1):1==v.default.requestSource?(C.default.success(T.AJAX_MESSAGE.submitSuccess),e.goto(),!1):(0,L.isPreviewPage)()?(C.default.success(T.AJAX_MESSAGE.notReviewed),!1):e.verifyPageMakerResubmit()?!(e.idCardSubmitCount>=5)||(C.default.error(T.AJAX_MESSAGE.submitFailIdCardMore),!1):(e.getPhoneNumber()?C.default.error(T.AJAX_MESSAGE.repeatGetToken):C.default.error(T.AJAX_MESSAGE.repeatGetTokenWithNoPhone),!1)},this.clickSubmitFormButton=function(){return e.getToken()},this.getSubmitData=function(){var t=e.getFormValue(),n=e.setFormInfo();t=t.filter(function(e){return!Z.includes(e.type)}),n.data=t;var r=W.default.getExtraDataAll(),o=Object.keys(r);o.length&&(n.extraBundleData=o.map(function(e){return{name:e,value:r[e]}}));var i={sh:Math.round(screen.height),sw:Math.round(screen.width),bh:Math.round(window.innerHeight),ch:Math.round(document.body.scrollHeight),st:Math.round(window.xjPerformance&&window.xjPerformance.initStart?window.xjPerformance.initStart:e.initStart),at:Math.round(ee.submitTimestamp),tc:(0,L.getRecordTapInstance)().getTapTimes()},a=Object.keys(i);n.actionFormInfo=a.map(function(e){return{name:e,value:i[e]}});var s=["MINIGAME_INTERACTION","WEBSITE_INTERACTION"].includes(v.default.playableType),c=(0,L.parseUrl)(),u=c.v_subtype,l=c.ad_type,d={splice:e.getSlice(u,l),interact:s?1:0,anchor_point:"true"===e.$form.dataset.isAnchor?1:0},p=Object.keys(d);return n.styleFormInfo=p.map(function(e){return{name:e,value:d[e]}}),e.jumpLandingPageUrl&&(n.jumpLandingPageUrl=e.jumpLandingPageUrl),n},this.pretreatmentSubmitFormDataWidthToken=function(){var t=e.getSubmitData();return e.postFormData(t)},this.submitFormDataWidthSMSCode=function(t){return t.interfaceSubmit(function(t){var n=e.getSubmitData();return n=e.setSMSVerificationCode(n,t),e.postFormData(n)})},this.showPhoneVerify=function(t){var n=e.getPhoneNumber(),r="";return e.isPhoneFromCarrier(n)?r=e.phoneFromCarrierFeature.getEncryptPhone():e.isPhoneFromAutoFill(n)&&e.phoneFromAutoFillFeature.getEncryptPhone()&&(r=e.phoneFromAutoFillFeature.getEncryptPhone()),(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007007",action_type:"acquire_verification",formid:e.getFormId()}),new P.default(X(X({},t),{},{phone:n,advertiserId:e.getAdvertiserId(),token:e.token,encryptPhone:r,dom:e.$form,formId:e.getFormId()}))},this.getToken=function(){var t=e.getPhoneNumber(),n=e.getTokenParams();try{var r=(0,L.parseClickExt)()||{},o=0;r.os_type&&(o=e.changeDeviceType(r.os_type)),n.deviceIdType=o,n.deviceId=r.did||""}catch(e){}var i=e.getIdCard();return i&&(n.idCard=i),e.getName()&&(n.name=e.getName()),n.needVerify=!0,e.enableFormBarrier&&(1!==parseInt(e.EXP_PARAMS.notice_shortMsg,10)&&1!==parseInt(e.EXP_PARAMS.notice_shortMsg_clickEarly,10)||(n.sendMsgType=2),1!==parseInt(e.EXP_PARAMS.notice_intellMsg,10)&&1!==parseInt(e.EXP_PARAMS.weak_notice_intellMsg,10)||(n.sendMsgType=1)),t&&(n.needVerify=!e.isPhoneFromCarrier(t),n.isPull=e.getIsPullParamForBackendDMP(t),n.isAutoWrite=e.getIsAutoWriteParamForBackendDMP(t),n.isSaveOldPhone="1"===e.autoFillAuthStatus?1:0,n.showPullButton=e.isPhoneFromCarrierMounted()?1:0,n.clickPullButton=e.getClickPullButtonParamForBackendDMP(),e.isPhoneFromCarrier(t)?n.encryptPhone=e.getEncryptPhoneFromCarrier():e.getEncryptPhoneFromAutoFill()&&e.isPhoneFromAutoFill(t)&&(n.encryptPhone=e.getEncryptPhoneFromAutoFill())),n.networkType=window.viewerData&&window.viewerData.network?window.viewerData.network:"UNKNOWN",(0,O.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"clickFormButton",status:{state:e.getPhoneSourceForReportingParam(t)},formid:I.phoneReporter.formId,functype:1}),e.getSaveTokenParams=n,b.default.fetch(ee.getTokenUrl,"POST",n)},this.getIsPullParamForBackendDMP=function(t){return e.isPhoneFromCarrier(t)?1:e.getPhoneFromCarrier()&&!e.isPhoneFromCarrier(t)?0:2},this.getIsAutoWriteParamForBackendDMP=function(t){return e.isPhoneFromCarrier(t)?2:e.isPhoneFromAutoFill(t)?1:e.getPhoneFromAutoFill()&&!e.isPhoneFromAutoFill(t)?0:2},this.getClickPullButtonParamForBackendDMP=function(){return e.isPhoneFromCarrierMounted()?e.isPullButtonClicked()?1:0:-1},this.getPhoneSourceForReportingParam=function(t){return t?e.isPhoneFromCarrier(t)?1:e.isPhoneFromAutoFill(t)?2:3:0},this.setSMSVerificationCode=function(e,t){return e.SMSVerificationCode=t.code,e.SMSVerificationPhone=t.phone,e},this.postSuccessCallback=function(){return new Promise(function(t,n){b.default.Observe.subscribe("webFormSubmitSuccess",e.getSubmitData()),t()}).then(function(){return e.successInfo()}).then(function(){e.formViewModel.getAll().some(function(e){return"phone"===e.type})&&e.enableFormBarrier&&1===parseInt(e.EXP_PARAMS.notice_shortMsg_clickEarly,10)||(new S.Report).dmpReport()}).then(function(){e.setCookiesForAutoFill()}).then(function(){e.setCommonResubmitCookie(),e.setPageMakerResubmitCookie()}).then(function(){e.goto()}).catch(function(e){throw e})},this.setCookiesForAutoFill=function(){if("1"===e.autoFillAuthStatus){var t=e.getPhoneNumber();return h.default.set(T.XJ_FORM_AUTO_FILL_AUTH_CODE,"1",{expires:365}),h.default.set(T.FROM_PHONE_FOR_AUTO_FILL_SAVE_COOKIE,t,{expires:365}),void(e.isPhoneFromCarrier(t)?h.default.set(T.ENCRYPT_PHONE_COOKIE,e.getEncryptPhoneFromCarrier(),{expires:365}):e.isPhoneFromAutoFill(t)&&e.getEncryptPhoneFromAutoFill()?h.default.set(T.ENCRYPT_PHONE_COOKIE,e.getEncryptPhoneFromAutoFill(),{expires:365}):h.default.remove(T.ENCRYPT_PHONE_COOKIE))}h.default.remove(T.FROM_PHONE_FOR_AUTO_FILL_SAVE_COOKIE),h.default.remove(T.ENCRYPT_PHONE_COOKIE),h.default.set(T.XJ_FORM_AUTO_FILL_AUTH_CODE,"0",{expires:365})},this.postFormData=function(t){if(!ee.submitLoading)return e.setSubmitBtn(),e.submitDataFinal=t,b.default.fetch(ee.postFormDataAndDMPReportUrl,"POST",t)},this.postFormDataFinal=function(){return b.default.fetch("".concat(ee.postFormDataAndDMPReportUrl,"?data=").concat(encodeURIComponent(JSON.stringify(e.submitDataFinal))),"POST",e.submitDataFinal)},this.afterSubmitForm=function(t){return t&&400===parseInt(t.code,10)&&"data has error"===t.message?e.postFormDataFinal():t},this.setPageMakerResubmitCookie=function(){var t=e.getPageMakerResubmitCookieName();h.default.set(t,!0,{expires:1})},this.setCommonResubmitCookie=function(){var t=e.getCommonResubmitCookieName();h.default.set(t,!0,{expires:1})},this.errorInputScrollToView=function(e){var t,n,r=void 0!==window.pageXOffset,o="CSS1Compat"===(document.compatMode||""),i=r?window.pageYOffset:o?document.documentElement.scrollTop:document.body.scrollTop;document.querySelector.bind(document),t=e.getBoundingClientRect().top-100+i,n=Math.max(document.documentElement.scrollTop,document.body.scrollTop),Math.abs(n-t)>100&&window.scrollTo(0,t)},this.setFormInfo=function(){var t,n=e.formInfo.formId,r=e.getPhoneNumber(),o={pageName:v.default.pageName,actionsetId:v.default.actionSetId,commonPageId:v.default.commonPageId,pageUrl:t||location.href},i={pageId:v.default.pageId,index:e.formIndex,formId:n,token:e.token,clickId:(0,L.getTraceId)()};return r&&e.isPhoneFromCarrier(r)?i.encryptPhone=e.getEncryptPhoneFromCarrier():r&&e.isPhoneFromAutoFill(r)&&e.getEncryptPhoneFromAutoFill()&&(i.encryptPhone=e.getEncryptPhoneFromAutoFill()),X(X({},i),o)},this.getAntiCSRFToken=function(e){for(var t=5381,n=0;n<e.length;n++)t+=(t<<5)+e.charAt(n).charCodeAt();return 2147483647&t},this.getReservationInfo=function(){var t=e.formInfo,n=t.reservationId;if(!t.showReservation)return!1;var r=Date.now(),o=v.default.pageId,i="act.qzone.qq.com/v2/vip/tx/pd/trpc/adv/report/getsubscribe",a=e.getAntiCSRFToken(h.default.get("skey")||"");window.sfetch("//act.qzone.qq.com/v2/vip/tx/pd/trpc/adv/report/getsubscribe?id=".concat(n,"&g_tk=").concat(a),{method:"get",credentials:"include",mode:"cors"}).then(function(t){200===t.status?t.json().then(function(t){$(r,t.code,o,i),100===t.code&&(e.reservated=!0)}):$(r,1,o,i)}).catch(function(e){$(r,1,o,i)})},this.setReservation=function(){var t=e.formInfo,n=t.reservationId;if(!t.showReservation||e.reservated)return!1;var r=Date.now(),o=v.default.pageId,i="act.qzone.qq.com/v2/vip/tx/pd/trpc/adv/report/noticesubscribe",a=e.getAntiCSRFToken(h.default.get("skey")||"");window.sfetch("//act.qzone.qq.com/v2/vip/tx/pd/trpc/adv/report/noticesubscribe?id=".concat(n,"&g_tk=").concat(a),{method:"get",credentials:"include",mode:"cors"}).then(function(t){200===t.status?t.json().then(function(t){0===t.code?(e.reservated=!0,"formSuccess"===e.showReservationMsg?(C.default.success(T.AJAX_MESSAGE.reservationSuccessMessage),e.showReservationMsg="done"):""===e.showReservationMsg&&(e.showReservationMsg="reserveSuccess"),window.mqq&&window.mqq.invoke("Qzone","reserveAdvertise",{param:{orderid:n}}),$(r,0,o,i)):-4===t.code?$(r,100,o,i):$(r,1,o,i)}).catch(function(e){$(r,1,o,i)}):$(r,1,o,i)}).catch(function(e){$(r,1,o,i)})},this.globalFormSubmit=function(){setTimeout(function(){e.formStateStream.dispatch({type:B.init_click_submit_form,payload:null})},30)},this.payFormSubmit=function(){e.formStateStream.dispatch({type:B.close_deferred_loading,payload:null}),e.formStateStream.dispatch({type:B.cancel_submit_debounce,payload:null})},this.main=function(){b.default.on(e.$submit,"tap",function(){ee.submitTimestamp=Date.now(),(0,L.stmTestClkReportType)("submit"),setTimeout(function(){e.formStateStream.dispatch({type:B.init_click_submit_form,payload:null})},30)});try{window.XJWebFormdoFormSubmit=e.globalFormSubmit,window.XJWebFormdoneFormSubmit=e.payFormSubmit,window.XJWebFormgetFormData=e.getSubmitData,window.XJWebFormSetCookiesForAutoFill=e.setCookiesForAutoFill}catch(e){e.message="支付表单事件初始化失败",window.aegis&&window.aegis.error(e)}e.loadDeviceInfo(),e.getReservationInfo()}}},function(e,t,n){"use strict";n.r(t),n.d(t,"tokenize",function(){return p}),n.d(t,"convert",function(){return f}),n.d(t,"validate",function(){return m});var r=n(457),o=n(469),i=n(438),a=n(345),s=n(123),c=n(470);n.d(t,"DEFAULT_LANG",function(){return c.a}),n.d(t,"TokenType",function(){return s.c}),n.d(t,"AstNodeType",function(){return s.a}),n.d(t,"ErrorType",function(){return s.b});var u=n(602);for(var l in u)["default","tokenize","convert","validate","DEFAULT_LANG","TokenType","AstNodeType","ErrorType"].indexOf(l)<0&&function(e){n.d(t,e,function(){return u[e]})}(l);n.d(t,"Tokenizer",function(){return i.a}),n.d(t,"Parser",function(){return r.a});var d=n(603);function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];try{for(var r=new i.a({expr:e,partial:t,lang:c.a});;){var o=r.nextToken();if(o.type===s.c.EOF)break;n.push(o)}return[!0,n,""]}catch(t){return console.error("tokenize expression error expr = '".concat(e,"' error = '").concat(t.message,"'")),[!1,n,t.message]}}function f(e){try{var t=new r.a(e,c.a).process();return[!0,new o.a(t).process()]}catch(t){return console.error("parse expression error expr = '".concat(e,"' error = '").concat(t.message,"'")),[!1,a.g]}}function m(e,t){try{new r.a(e,t).process();return[!0,""]}catch(e){return[!1,e.message]}}n.d(t,"Generator",function(){return d.a}),n.d(t,"RuntimeGenerator",function(){return o.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.phoneReporter=void 0;var r=n(369),o=n(2),i=t.phoneReporter={formId:null,networkType:null,report:function(e,t){null!==viewerData.network||null!==i.networkType?(0,r.tdwReport)({actiontype:e,status:t,formid:i.formId,network:viewerData.network||i.networkType,traceUrl:location.href}):(0,o.getNetworkType)(function(n){i.networkType=n,(0,r.tdwReport)({actiontype:e,status:t,formid:i.formId,network:i.networkType,traceUrl:location.href})})}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(42)),i=r(n(4)),a=r(n(5)),s=(r(n(10)),r(n(1))),c=(n(2),n(7)),u=(r(n(26)),r(n(85))),l=(n(15),n(11)),d=n(407),p=n(145),f={DEVELOPMENT:"development",TESTING:"test",PRE_RELEASE:"prerelease",PRODUCTION:"prod",CDN:"cdn"},m=([f.TESTING,f.DEVELOPMENT].includes(s.default.env),function(){function e(t){var n=this,r=t.formViewModel,a=t.formNode,s=t.phoneFromCarrierSuccessCallback,f=t.reporter;(0,i.default)(this,e),this.getEncryptPhoneUrl="".concat(c.backendUrl,"/api/form/pcg/getEncryptPhone"),this.isClicked=!1,this.isMounted=!1,this.run=function(){"1"!==d.autoFillAuth&&e.getMaskMobileBySDK().then(n.successReport1,n.errorReport1).then(n.isAvailableCarrier).then(n.render).then(n.successReport).catch(n.errorReport)},this.isAvailableCarrier=function(e){return e&&[2,3].includes(e.carrierType)||(0,p.isChinaMobileAndHasPermi)(e)?e:((0,d.moudleFormShow)(n.formNode),Promise.reject({code:1}))},this.render=function(e){var t=n.formViewModel.getAll().filter(function(e){return"phone"===e.type}),r=(0,o.default)(t,1)[0];if(r){var i=r.dom,a="使用本机号码",s=document.createElement("span");s.className="isd-form-item-control-wrapper-phone-auto-text",s.innerHTML=a,s.onclick=n.onClick.bind(n,e),i.parentNode.appendChild(s),i.style.paddingRight="3.6rem",n.$autoFillButton=s;var c={1:"点击“".concat(a,'”即同意<a href="https://wap.cmpassport.com/resources/html/contract.html">《中国移动认证服务条款》</a>，并授权本服务获取使用'),2:"点击“".concat(a,'”即同意<a href="https://opencloud.wostore.cn/authz/resource/html/disclaimer.html?fromsdk=true">《联通统一认证服务条款》</a>，并授权本服务获取使用'),3:"点击“".concat(a,'”即同意<a href="https://e.189.cn/sdk/agreement/show.do?order=2&type=main&appKey=&hidetop=true&returnUrl=">《天翼账号协议》</a>，并授权本服务获取使用')},u=document.createElement("p");u.className="isd-form-item-control-agreements",u.innerHTML=c[e.carrierType];var l=i.parentNode.parentNode.nextElementSibling;return Object.values(l.classList).includes("isd-form-mobileVerify-item")&&(l=l.nextElementSibling),n.formNode.insertBefore(u,l),n.isMounted=!0,e}},this.successReport1=function(t){return e.getencryphoneReported?t:((0,l.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"getencryphone",status:{phonestatus:1,operator:t.carrierType},formid:n.reporter.formId,functype:1}),e.getencryphoneReported=!0,t)},this.errorReport1=function(){e.getencryphoneReported||((0,l.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"getencryphone",status:{phonestatus:0},formid:n.reporter.formId,functype:1}),e.getencryphoneReported=!0)},this.successReport=function(e){return(0,l.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"showPullButton",status:{state:1},formid:n.reporter.formId,functype:1}),e},this.errorReport=function(){(0,l.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"showPullButton",status:{state:0},formid:n.reporter.formId,functype:1})},this.onClick=function(t){if(e.encryptPhone)return n.phoneFromCarrierSuccessCallback(e.phoneFromCarrier,e.encryptPhone),n.$autoFillButton&&(n.$autoFillButton.style.display="none"),void(0,l.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"clickPullButtonResult",status:{state:1},formid:n.reporter.formId,functype:1});(0,p.getEncryptPhone)(t).then(function(r){return r&&r.data&&r.data.encryptPhone?([2,3].includes(t.carrierType)?e.phoneFromCarrier=t.mobile:e.phoneFromCarrier=r.data.maskedPhone||t.mobile,e.encryptPhone=r.data.encryptPhone,n.phoneFromCarrierSuccessCallback(e.phoneFromCarrier,r.data.encryptPhone),void(n.$autoFillButton&&(n.$autoFillButton.style.display="none"))):Promise.reject(r)}).then(function(){(0,l.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"clickPullButtonResult",status:{state:1},formid:n.reporter.formId,functype:1})}).catch(function(){!e.encryptPhone&&u.default.error("获取失败，请手动输入"),(0,l.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"clickPullButtonResult",status:{state:0},formid:n.reporter.formId,functype:1})}).finally(function(){n.isClicked=!0})},this.formViewModel=r,this.formNode=a,this.phoneFromCarrierSuccessCallback=s||function(){},this.reporter=f,this.$autoFillButton=null,this.run()}return(0,a.default)(e,[{key:"isPhoneFromCarrier",value:function(t){return t&&t===e.phoneFromCarrier}},{key:"getPhoneFromCarrier",value:function(){return e.phoneFromCarrier}},{key:"getEncryptPhone",value:function(){return e.encryptPhone}},{key:"getIsClicked",value:function(){return this.isClicked}},{key:"getIsMounted",value:function(){return this.isMounted}}],[{key:"getMaskMobileBySDK",value:function(){return(0,p.getMaskPhoneInfo)()}},{key:"sdkLoadFailHanlder",value:function(e){return window.aegis&&window.aegis.report(e),Promise.reject({code:-1,error:e})}}]),e}());m.encryptPhone="",m.phoneFromCarrier="";t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate_form_success=t.validate_form_start=t.validate_form_fail=t.submit_form_data_width_SMS_code_ajax_success=t.submit_form_data_width_SMS_code_ajax_start=t.submit_form_data_width_SMS_code_ajax_fail=t.start_submit_debounce=t.show_phone_verify=t.pretreatment_submit_form_ajax_success=t.pretreatment_submit_form_ajax_start=t.pretreatment_submit_form_ajax_fail=t.open_deferred_loading=t.init_click_submit_form=t.hide_phone_verify=t.fetch_token_success=t.fetch_token_start=t.fetch_token_fail=t.close_deferred_loading=t.clear_phone_verify_time=t.cancel_submit_debounce=void 0;t.init_click_submit_form="INIT_CLICK_SUBMIT_FORM",t.start_submit_debounce="START_SUBMIT_DEBOUNCE",t.cancel_submit_debounce="CANCEL_SUBMIT_DEBOUNCE",t.validate_form_start="VALIDATE_FORM_START",t.validate_form_success="VALIDATE_FORM_SUCCESS",t.validate_form_fail="VALIDATE_FORM_FAIL",t.fetch_token_start="FETCH_TOKEN_START",t.fetch_token_success="FETCH_TOKEN_SUCCESS",t.fetch_token_fail="FETCH_TOKEN_FAIL",t.close_deferred_loading="CLOSE_DEFERRED_LOADING",t.open_deferred_loading="OPEN_DEFERRED_LOADING",t.pretreatment_submit_form_ajax_start="PRETREATMENT_SUBMIT_FORM_AJAX_START",t.pretreatment_submit_form_ajax_success="PRETREATMENT_SUBMIT_FORM_AJAX_SUCCESS",t.pretreatment_submit_form_ajax_fail="PRETREATMENT_SUBMIT_FORM_AJAX_FAIL",t.show_phone_verify="SHOW_PHONE_VERIFY",t.hide_phone_verify="HIDE_PHONE_VERIFY",t.clear_phone_verify_time="CLEAR_PHONE_VERIFY_TIME",t.submit_form_data_width_SMS_code_ajax_start="SUBMIT_FORM_DATA_WIDTH_SMS_CODE_AJAX_START",t.submit_form_data_width_SMS_code_ajax_success="SUBMIT_FORM_DATA_WIDTH_SMS_CODE_AJAX_SUCCESS",t.submit_form_data_width_SMS_code_ajax_fail="SUBMIT_FORM_DATA_WIDTH_SMS_CODE_AJAX_FAIL"},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(129)),s=n(437),c=r(n(26)),u=(n(358),n(51),n(407)),l="js-isd-real-checkbox-checked",d=function(){function e(t){var n=this;(0,o.default)(this,e),this.getCheckboxDom=function(){return n.licenseNode.querySelector(".privacy-policy-wrapper-auto-fill-phone")},this.clickCheckBox=function(){var e=n.getCheckboxDom(),t=e.classList.contains(l);n.updateAuthStatusCallback(t?"0":"1"),e.classList.toggle(l);var r=n.licenseNode.querySelector(".form-checkbox-fake");t||(r.style.backgroundColor="")},this.index=t.index,this.enablePhoneAutoFill=t.phoneAutoFill,this.updateAuthStatusCallback=t.updateAuthStatusCallback,this.updatePhoneCallback=t.updatePhoneCallback,this.phoneFromAutoFill=a.default.get(s.FROM_PHONE_FOR_AUTO_FILL_SAVE_COOKIE)||"",this.encryptPhone=a.default.get(s.ENCRYPT_PHONE_COOKIE)||"",this.autoFillAuth=a.default.get(s.XJ_FORM_AUTO_FILL_AUTH_CODE),this.licenseNode=null,this.formBtnColor=t.formBtnColor,this.showAutoFillPrivacy=t.showAutoFillPrivacy,this.main()}return(0,i.default)(e,[{key:"main",value:function(){this.enablePhoneAutoFill&&(this.insertAutoFillLicense(),this.initPhoneAutoFill())}},{key:"initPhoneAutoFill",value:function(){this.updateAuthStatusCallback(this.autoFillAuth),this.phoneFromAutoFill&&"1"===this.autoFillAuth&&this.updatePhoneCallback(this.phoneFromAutoFill,this.encryptPhone)}},{key:"insertAutoFillLicense",value:function(){this.renderDom(),this.bindEvent()}},{key:"renderDom",value:function(){var e=(0,u.getAutoFill)({isNotShow:!this.showAutoFillPrivacy}),t=document.createElement("div");t.innerHTML=e,this.licenseNode=t.firstChild;var n=document.getElementsByClassName("isd-web-form-global-wrapper")[this.index],r=n.querySelector(".isd-form-privacyPolicy-item");n.insertBefore(this.licenseNode,r);var o=document.createElement("style");o.innerHTML=".privacy-policy-wrapper.js-isd-real-checkbox-checked .isd-real-checkbox .form-checkbox-fake {background-color: ".concat(this.formBtnColor," !important"),document.body.appendChild(o)}},{key:"bindEvent",value:function(){var e=this,t=this.getCheckboxDom();c.default.on(t,"tap",function(){e.clickCheckBox()});var n=this.licenseNode.querySelector(".isd-form-privacy-policy-url");c.default.on(n,"tap",function(t){t.stopPropagation(),e.$PrivacyPolicyConfirm||(e.$PrivacyPolicyConfirm=(0,u.initPrivacyPolicyConfirm)()),e.$PrivacyPolicyConfirm.open(),"hidden"!==e.$PrivacyPolicyConfirm.model.$dom.style.overflow&&(e.$PrivacyPolicyConfirm.model.$dom.style.overflow="hidden")})}},{key:"isPhoneFromAutoFill",value:function(e){return e&&e===this.phoneFromAutoFill}},{key:"getEncryptPhone",value:function(){return this.encryptPhone}},{key:"getPhoneFromAutoFill",value:function(){return this.phoneFromAutoFill}}]),e}();t.default=d},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(596)),i=r(n(5)),a=r(n(4)),s=r(n(597)),c=r(n(598)),u=r(n(599)),l=r(n(524)),d=r(n(751)),p=r(n(613)),f=n(11),m=n(407),h=(0,i.default)(function e(t,n,r){(0,a.default)(this,e),this.$form=t,this.tagDataId=null;for(var i=arguments.length,d=new Array(i>3?i-3:0),p=3;p<i;p++)d[p-3]=arguments[p];(0,o.default)(s.default,[t,n,r].concat(d)),(0,o.default)(c.default,[t,n,r].concat(d)),(0,o.default)(u.default,[t,n,r].concat(d)),(0,o.default)(l.default,[t,n,r].concat(d))}),v=(t.default=function(){function e(t,n,r){(0,a.default)(this,e),v.call(this),this.$form=t,this.formInfo=n,this.formControl=r,this.maskLayerFormModule=t.parentNode.parentNode,this.xjLayoutComponents=null,this.xjLayoutComponentsZIndex=0,this.main()}return(0,i.default)(e,[{key:"initFormAddEventListener",value:function(e,t){var n=(0,m.creatFormViewModel)(e),r=new p.default(e,n);new h(e,n,r,t),new d.default(e,n,r,t,this.getTagDataId,this.closeLayerForm),this.closeLayerFormBtn(e,n),this.closePage(e,n)}}]),e}(),function(){var e=this;this.main=function(){var t=e.$form,n=e.formInfo,r=e.formControl;if(!(n&&"{}"!==JSON.stringify(n)&&r&&r.configs))return console.error("请补全表单的数据"),null;e.initFormAddEventListener(t,0);var o=e.maskLayerFormModule.parentNode;o.classList.contains("xj-layout-components")&&(e.xjLayoutComponents=o,e.xjLayoutComponentsZIndex=parseInt(window.getComputedStyle(o).zIndex,10))},this.closeLayerFormBtn=function(t,n){t.parentNode.querySelector(".close-icon-x").addEventListener("click",function(){e.closeLayerForm();var r=(0,m.getFormValue)(n,"label");(0,f.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"close_popup_intentform",formid:t.dataset.formid,status:{fieldFields:r,formtype:2}})})},this.closeLayerForm=function(){e.maskLayerFormModule.style.display="none",e.xjLayoutComponents&&(e.xjLayoutComponents.style.zIndex=e.xjLayoutComponentsZIndex)},this.showLayerForm=function(){e.xjLayoutComponents&&(e.xjLayoutComponents.style.zIndex=300),e.maskLayerFormModule.style.display="block"},this.closePage=function(e,t){window.addEventListener("beforeunload",function(){var n=e.dataset.id,r=(0,m.getFormValue)(t,"label");(0,f.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"close_intentform",formid:n,status:{fieldFields:r,formtype:2}},!0)})},this.saveTagDataId=function(t){e.tagDataId=t},this.getTagDataId=function(){return e.tagDataId}})},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(36)),s=r(n(34)),c=r(n(8)),u=r(n(367)),l=n(358),d=r(n(26)),p=r(n(85)),f=n(387),m=r(n(608)),h=r(n(609)),v=r(n(610)),g=r(n(611)),y=r(n(612)),A=n(11),_=n(407),b=n(7),w=r(n(1));function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var E="".concat(b.backendUrl,"/api/form/saveAndReportLayerForm");t.default=function(e){(0,a.default)(n,e);var t=T(n);function n(e,r,i,a,s,c){var u;(0,o.default)(this,n);for(var A=arguments.length,_=new Array(A>6?A-6:0),b=6;b<A;b++)_[b-6]=arguments[b];return(u=t.call.apply(t,[this,e,r].concat(_))).main=function(){u.applyPlugins(u.pluginContext),d.default.on(u.$submit,"tap",function(){u.submit()})},u.validateForm=function(){var e=u.formValidate();return!e||!e.errorMsg||(p.default.error(e.errorMsg),!1)},u.formValidate=function(){var e=new f.Validator;u.formViewModel.getAll().forEach(function(t,n){if(t){var r=t.dom,o=t.value,i=t.type,a=t.label,s=r.dataset.required,c=(0,f.validatorMap)(i,a);s===l.IS_REQUIRED&&c.push((0,f.validatorNonEmpty)(a));var u=r.dataset.maxlength;"textarea"===i&&c.push({strategy:"maxLength:".concat(u),errorMsg:"".concat(a,"不能超过").concat(u,"个字")}),e.add(o,c,r)}});var t=e.lazyValidate();return e.validate(u.showErrorTips),t},u.$form=e,u.$submit=u.$form.querySelector(l.SUBMIT_SELECTOR),u.formViewModel=r,u.pluginContext=i,u.formInfo=JSON.parse(u.$form.dataset.forminfo),u.getTagDataId=s,u.closeLayerForm=c,u.plugins=[new m.default,new h.default,new v.default,new g.default,new y.default],u.main(),u}return(0,i.default)(n,[{key:"submit",value:function(){var e=this;if(this.submitReport(),this.validateForm()){this.pluginContext.emit("submitAfterValidation",{valid:!0});var t=this.getTagDataId(),n=(0,_.getFormValue)(this.formViewModel,"name");d.default.fetch(E,"POST",{tagDataId:t,data:n,formId:this.formInfo.formId,pageId:w.default.pageId}).then(function(t){if(0===t.code)return p.default.success("意向表单提交成功"),e.pluginContext.emit("submitSuccess"),void e.closeLayerForm();e.failformReport()}).catch(function(t){e.failformReport()})}else this.pluginContext.emit("submitAfterValidation",{valid:!0})}},{key:"applyPlugins",value:function(e){(this.plugins||[]).forEach(function(t){return t.apply(e)})}},{key:"getFormId",value:function(){return this.$form.dataset.formid}},{key:"failformReport",value:function(){p.default.error("表单信息提交失败，请重新尝试"),(0,A.TdwReportTrigger)({reportName:"XJWebForm"},{ei:"4007040",formid:this.getFormId(),action_type:"fail_form",submit_fail_reason:201,status:{formtype:2}})}},{key:"submitReport",value:function(){var e=(0,_.getFormValue)(this.formViewModel,"label");(0,A.TdwReportTrigger)({reportName:"XJWebForm"},{action_type:"submit_intentform",status:{formtype:2,filledFields:e},formid:this.$form.dataset.formid})}}]),n}(u.default)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=function(){function e(){(0,o.default)(this,e),this.events={}}return(0,i.default)(e,[{key:"on",value:function(e,t){this.events[e]?this.events[e].push(t):this.events[e]=[t]}},{key:"emit",value:function(e,t){var n=this;this.events[e]&&this.events[e].forEach(function(e){return e.call(n,t)})}},{key:"removeListener",value:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}))}}]),e}();t.default=a},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1));n(754);t.default=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=n.$wrapper,a=n.maxDeferredTime,s=n.frequency,c=a||1e3,u=s||100,l=0,d=function(){var e=document.createElement("div");e.className="ams-loading-wrapper",e.width=200,e.height=100;var t=new Image;return t.src="//".concat(o.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/Loading.gif"),e.appendChild(t),i?i.appendChild(e):document.body.appendChild(e),r&&function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])}(e,r),(d=function(){return e})()},p=function(e){var t=d();return t.style.display="inline-block",e&&e(t),t},f=function(){return"none"===d().style.display},m=function(e){var t=d();return f()?t:(t.style.display="none",e&&e(t),t)},h=function(){t&&clearTimeout(t),e&&clearTimeout(e),l=0};return{get:function(){return d()},open:function(e){return p(e)},close:function(e){return m(e)},hasClosed:function(){return f()},deferredOpen:function(){return function n(r){0===l&&(l=Date.now()),t=setTimeout(function(){Date.now()-l>c?(p(r),h()):e=setTimeout(function(){n()},c/u)},c/u)}()},clearDeferred:function(){return h()},closeDeferredLoading:function(){return h(),void m(e);var e}}}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-website-link-button"),t=function(t){(0,o.on)(e[t],"click",function(n){var r=JSON.parse(e[t].getAttribute("data-value")),s=[];if("link"===r.linkType){var c=new i.Report;!0===a.default.isTransDisable?s.push(c.dmpReport()):(s.push(c.dmpReport({actionType:i.REPORT_TYPE.LINK,customAction:""})),s.push(c.dmpReport({map:i.REPORT_TYPE_MAPS.NEW_GAME_ORDER})))}(0,o.jumpLinkCommonFunction)({type:r.linkType,data:r,event:n,dmpPromiseList:s})})},n=0;n<e.length;n++)t(n)};var o=n(2),i=n(12),a=r(n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"initImpl",function(){return De});n(701);var r,o=n(3),i=n.n(o),a=n(4),s=n.n(a),c=n(5),u=n.n(c),l=n(36),d=n.n(l),p=n(34),f=n.n(p),m=n(8),h=n.n(m),v=n(9),g=n(508),y=n(307),A=n(35),_=n(42),b=n.n(_),w=n(24),T=n.n(w),E=n(33),S=n.n(E),O=[],I="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(r={}));var C,P=function(e){return Object.freeze(e)},k=function(){return function(e,t){this.inlineSize=e,this.blockSize=t,P(this)}}(),x=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,P(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),N=function(e){return e instanceof SVGElement&&"getBBox"in e},D=function(e){if(N(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,a=o.offsetHeight;return!(i||a||e.getClientRects().length)},R=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},j="undefined"!=typeof window?window:{},L=new WeakMap,M=/auto|scroll/,B=/^tb|vertical/,U=/msie|trident/i.test(j.navigator&&j.navigator.userAgent),F=function(e){return parseFloat(e||"0")},G=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new k((n?t:e)||0,(n?e:t)||0)},q=P({devicePixelContentBoxSize:G(),borderBoxSize:G(),contentBoxSize:G(),contentRect:new x(0,0,0,0)}),W=function(e,t){if(void 0===t&&(t=!1),L.has(e)&&!t)return L.get(e);if(D(e))return L.set(e,q),q;var n=getComputedStyle(e),r=N(e)&&e.ownerSVGElement&&e.getBBox(),o=!U&&"border-box"===n.boxSizing,i=B.test(n.writingMode||""),a=!r&&M.test(n.overflowY||""),s=!r&&M.test(n.overflowX||""),c=r?0:F(n.paddingTop),u=r?0:F(n.paddingRight),l=r?0:F(n.paddingBottom),d=r?0:F(n.paddingLeft),p=r?0:F(n.borderTopWidth),f=r?0:F(n.borderRightWidth),m=r?0:F(n.borderBottomWidth),h=d+u,v=c+l,g=(r?0:F(n.borderLeftWidth))+f,y=p+m,A=s?e.offsetHeight-y-e.clientHeight:0,_=a?e.offsetWidth-g-e.clientWidth:0,b=o?h+g:0,w=o?v+y:0,T=r?r.width:F(n.width)-b-_,E=r?r.height:F(n.height)-w-A,S=T+h+_+g,O=E+v+A+y,I=P({devicePixelContentBoxSize:G(Math.round(T*devicePixelRatio),Math.round(E*devicePixelRatio),i),borderBoxSize:G(S,O,i),contentBoxSize:G(T,E,i),contentRect:new x(d,c,T,E)});return L.set(e,I),I},H=function(e,t,n){var o=W(e,n),i=o.borderBoxSize,a=o.contentBoxSize,s=o.devicePixelContentBoxSize;switch(t){case r.DEVICE_PIXEL_CONTENT_BOX:return s;case r.BORDER_BOX:return i;default:return a}},V=function(){return function(e){var t=W(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=P([t.borderBoxSize]),this.contentBoxSize=P([t.contentBoxSize]),this.devicePixelContentBoxSize=P([t.devicePixelContentBoxSize])}}(),X=function(e){if(D(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},J=function(){var e=1/0,t=[];O.forEach(function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach(function(t){var n=new V(t.target),o=X(t.target);r.push(n),t.lastReportedSize=H(t.target,t.observedBox),o<e&&(e=o)}),t.push(function(){n.callback.call(n.observer,r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},Q=function(e){O.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(X(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},Y=function(){var e,t=0;for(Q(t);O.some(function(e){return e.activeTargets.length>0});)t=J(),Q(t);return O.some(function(e){return e.skippedTargets.length>0})&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:I}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=I),window.dispatchEvent(e)),t>0},z=[],K=function(e){if(!C){var t=0,n=document.createTextNode("");new MutationObserver(function(){return z.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),C=function(){n.textContent="".concat(t?t--:t++)}}z.push(e),C()},$=0,Z={attributes:!0,characterData:!0,childList:!0,subtree:!0},ee=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],te=function(e){return void 0===e&&(e=0),Date.now()+e},ne=!1,re=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!ne){ne=!0;var n,r=te(e);n=function(){var n=!1;try{n=Y()}finally{if(ne=!1,e=r-te(),!$)return;n?t.run(1e3):e>0?t.run(e):t.start()}},K(function(){requestAnimationFrame(n)})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Z)};document.body?t():j.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ee.forEach(function(t){return j.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),ee.forEach(function(t){return j.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),oe=function(e){!$&&e>0&&re.start(),!($+=e)&&re.stop()},ie=function(){function e(e,t){this.target=e,this.observedBox=t||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=H(this.target,this.observedBox,!0);return e=this.target,N(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),ae=function(){return function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}}(),se=new WeakMap,ce=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},ue=function(){function e(){}return e.connect=function(e,t){var n=new ae(e,t);se.set(e,n)},e.observe=function(e,t,n){var r=se.get(e),o=0===r.observationTargets.length;ce(r.observationTargets,t)<0&&(o&&O.push(r),r.observationTargets.push(new ie(t,n&&n.box)),oe(1),re.schedule())},e.unobserve=function(e,t){var n=se.get(e),r=ce(n.observationTargets,t),o=1===n.observationTargets.length;r>=0&&(o&&O.splice(O.indexOf(n),1),n.observationTargets.splice(r,1),oe(-1))},e.disconnect=function(e){var t=this,n=se.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),le=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ue.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!R(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ue.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!R(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ue.unobserve(this,e)},e.prototype.disconnect=function(){ue.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),de="h5-transparent-player";function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var me="".concat(de,"-control-layer"),he="".concat(de,"-poster-layer"),ve="".concat(de,"-loading"),ge="".concat(de,"-play-state-icon"),ye="".concat(de,"-close-icon"),Ae="".concat(de,"-close-icon-show"),_e=function(e,t){var n=0,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];window.clearTimeout(n),n=window.setTimeout(function(){return t.apply(void 0,o)},e)};return r.flush=function(){return clearTimeout(n)},r},be=function(){function e(t){var n=this;s()(this,e),this.elPoster=document.createElement("div"),this.elControlLayer=document.createElement("div"),this.elLoading=document.createElement("div"),this.elPlayStateIcon=document.createElement("i"),this.elCloseIcon=document.createElement("i"),this.delayHideControl=_e(2e3,function(){return n.hideControl()}),this.onStateIconClick=function(e){var t,r;e.stopPropagation(),null===(t=(r=n.config).onStateIconClick)||void 0===t||t.call(r,"playing"===n.playerState?"pause":"playing")},this.onControlLayerClick=function(){n.showControl(),"playing"===n.playerState&&n.delayHideControl()},this.onClose=function(){var e,t;null===(e=(t=n.config).onClose)||void 0===e||e.call(t),n.dispose()},this.elLoading.classList.add(ve),this.elPoster.classList.add(he),this.elControlLayer.classList.add(me),this.elPlayStateIcon.classList.add(ge),this.elControlLayer.appendChild(this.elLoading),this.elControlLayer.appendChild(this.elPlayStateIcon);var r=t.container,o=t.poster,i=t.closable,a=t.onClose,c=t.controls,u=void 0===c||c,l=t.playerState,d=void 0===l?"end":l;this.config=t,this.playerState=d,this.elPoster&&(this.elPoster.style.background="url(".concat(o,") no-repeat center/contain"),r.appendChild(this.elPoster)),u&&(this.elCloseIcon.classList.add(ye),r.appendChild(this.elLoading),r.appendChild(this.elControlLayer),this.elControlLayer.appendChild(this.elPlayStateIcon),this.updateUiConfig({closable:i,onClose:a}),this.showPauseIcon(),this.elPlayStateIcon.addEventListener("click",this.onStateIconClick,!1),this.elControlLayer.addEventListener("click",this.onControlLayerClick,!1),this.elCloseIcon.addEventListener("click",this.onClose,!1))}return u()(e,[{key:"dispose",value:function(){this.elControlLayer.remove(),this.elCloseIcon.remove(),this.elPlayStateIcon.removeEventListener("click",this.onStateIconClick,!1),this.elControlLayer.removeEventListener("click",this.onControlLayerClick,!1),this.elCloseIcon.removeEventListener("click",this.onClose,!1)}},{key:"showControl",value:function(){this.elControlLayer.classList.add("".concat(de,"-control-layer-show"))}},{key:"hideControl",value:function(){this.elControlLayer.classList.remove("".concat(de,"-control-layer-show"))}},{key:"showLoading",value:function(){this.hideControl(),this.elLoading.classList.add("".concat(ve,"-show"))}},{key:"hideLoading",value:function(){this.elLoading.classList.remove("".concat(ve,"-show"))}},{key:"updateUiConfig",value:function(e){this.config=fe(fe({},this.config),e),null!=e.playerState&&(this.playerState=e.playerState,this.onPlayStateChange(e.playerState)),null!=this.config.closable&&(this.config.closable?(this.elCloseIcon.classList.add(Ae),this.config.container.appendChild(this.elCloseIcon)):this.elCloseIcon.classList.remove(Ae))}},{key:"showPoster",value:function(){this.elPoster.classList.remove("".concat(he,"-hidden"))}},{key:"hidePoster",value:function(){this.elPoster.classList.add("".concat(he,"-hidden"))}},{key:"showPlayIcon",value:function(){this.showControl(),this.delayHideControl.flush();var e=this.elPlayStateIcon.classList;e.remove("".concat(ge,"-pause")),e.add("".concat(ge,"-play"))}},{key:"showPauseIcon",value:function(){this.showControl();var e=this.elPlayStateIcon.classList;e.remove("".concat(ge,"-play")),e.add("".concat(ge,"-pause"))}},{key:"onPlayStateChange",value:function(e){this.playerState=e,"playing"===e?(this.elPoster&&this.hidePoster(),this.elPlayStateIcon.classList.add("".concat(ge,"-playing")),this.hideControl()):("end"===e&&this.showPoster(),this.elPlayStateIcon.classList.remove("".concat(ge,"-playing")),this.showPlayIcon()),"loading"===e?this.showLoading():this.hideLoading()}}]),e}();function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var Se="".concat(de),Oe="".concat(de,"-super-player-layer"),Ie="".concat(de,"-canvas-layer"),Ce=function(e){d()(n,e);var t=Ee(n);function n(e){var r,o;s()(this,n);var i=e.containerId,a=e.poster,c=e.videoBgColor,u=void 0===c?"#FFFFFF":c,l=e.onFrameChange,d=e.onPlayerStateChange,p=e.className,f=void 0===p?"":p,m=e.style,h=e.onClose,v=e.closable,g=e.onPlayerUiStateChange,y=e.controls,A=void 0===y||y,_=e.size,w=e.sourceType,E=e.isMute,S=e.enableMuteBtn,O=e.isPreview,I=e.componentType,C=e.vid,P=e.url,k=e.superPlayerConfig,x=e.elVideoBeforeInit,N=document.createElement("div");[Se].concat(T()(f.split(" "))).forEach(function(e){return e.trim()&&N.classList.add(e)}),Object.assign(N.style,Te({},m));var D=document.createElement("div");D.classList.add(Oe);var R="".concat(i,"-").concat(Oe);D.setAttribute("id",R),N.appendChild(D),document.querySelector(i.startsWith("#")?i:"#".concat(i)).appendChild(N),(o=t.call(this,{containerId:R,vid:C,url:P,size:_,sourceType:w,isMute:E,enableMuteBtn:S,isPreview:O,poster:a,superPlayerConfig:k,componentType:I,elVideoBeforeInit:x})).synPlayerState="end",o.playerUi=null,o.c2ResizeObserver=null,o.pauseHandler=function(){var e,t,n;o.synPlayerState="pause",null===(e=o.playerUi)||void 0===e||e.updateUiConfig({playerState:o.synPlayerState}),null===(t=(n=o).onPlayerStateChange)||void 0===t||t.call(n,o.synPlayerState)},o.ticker=function(){"playing"===o.synPlayerState&&(o.computeFrame(),requestAnimationFrame(o.ticker))},o.computeFrame=function(){var e,t,n=o.superPlayer.currentVideoElement,r=n.videoWidth,i=n.videoHeight;if(o.c1.width=r,o.c1.height=i,o.ctx1.drawImage(n,0,0,r,i),r){var a=o.ctx1.getImageData(0,0,r,i),s=Math.floor(i/2),c=o.getMixedFrameData(a,{videoWidth:r,videoHeight:s});o.ctx1.putImageData(c,0,0);var u=o.updateC2Size(),l=u.width,d=u.height;o.ctx2.clearRect(0,0,l,d),o.ctx2.drawImage(o.c1,0,0,r,s,0,0,l,d),null===(e=(t=o).onFrameChange)||void 0===e||e.call(t,a,c)}else console.warn("自动播放失败，无法获取帧数据")},o.onFrameChange=l,o.onPlayerStateChange=d,o.onPlayerUiStateChange=g;var j=(null===(r=u.match(/^#(\w{2})(\w{2})(\w{2})/))||void 0===r?void 0:r.slice(1).map(function(e){return Number("0x".concat(e))}))||[255,255,255],L=b()(j,3),M=L[0],B=L[1],U=L[2];o.videoBgColor={r:M,g:B,b:U},o.elPlayerRoot=N,o.elCanvasLayer=N.appendChild(document.createElement("div")),o.elCanvasLayer.classList.add(Ie),o.c1=document.createElement("canvas"),o.c2=document.createElement("canvas");var F=o.c1.getContext("2d",{willReadFrequently:!0}),G=o.c2.getContext("2d",{willReadFrequently:!0});if(!F||!G)throw new Error("current browser not support canvas");return o.ctx1=F,o.ctx2=G,o.elCanvasLayer.appendChild(o.c2),o.playerUi=new be({container:N,controls:A,poster:a,closable:v,onClose:function(){null===h||void 0===h||h(),o.dispose()},onStateIconClick:function(e){var t,n;"playing"===e?o.play():o.pause(),null===(t=(n=o).onPlayerUiStateChange)||void 0===t||t.call(n,e)}}),o}return u()(n,[{key:"onReady",value:function(){this.initEvent()}},{key:"dispose",value:function(){var e,t;null===(e=this.c2ResizeObserver)||void 0===e||e.disconnect(),this.superPlayer.destroy(),null===(t=this.playerUi)||void 0===t||t.dispose(),this.elPlayerRoot.remove(),S()(h()(n.prototype),"dispose",this).call(this)}},{key:"getSuperPlayer",value:function(){return this.superPlayer}},{key:"play",value:function(){var e,t;null===(e=this.playerUi)||void 0===e||e.hideControl(),null===(t=this.playerUi)||void 0===t||t.showLoading();var n,r=[this.getPlaySource(),{videoReqInfoParam:{dtype:1}}];this.superPlayer.state===v.f.PAUSE?this.superPlayer.play():(n=this.superPlayer).play.apply(n,r)}},{key:"pause",value:function(){this.superPlayer.pause()}},{key:"updateConfig",value:function(e){var t,n=this,r=e.closable,o=e.className,i=e.style;(null!=o&&o.split(" ").forEach(function(e){return o.trim()&&n.elPlayerRoot.classList.add(e)}),null!=i&&Object.assign(this.elPlayerRoot.style,Te({},i)),null!=r)&&(null===(t=this.playerUi)||void 0===t||t.updateUiConfig({closable:r}))}},{key:"initEvent",value:function(){var e=this,t=this.getSuperPlayer();t.on(v.d.VIDEO_PLAYING,function(){var t,n;"playing"!==e.synPlayerState&&(e.synPlayerState="playing",e.ticker()),null===(t=e.playerUi)||void 0===t||t.updateUiConfig({playerState:e.synPlayerState}),null===(n=e.onPlayerStateChange)||void 0===n||n.call(e,e.synPlayerState)}),t.on(v.d.VIDEO_PAUSE,function(){e.pauseHandler()}),t.on(v.d.VIDEO_AUTOPLAY_BLOCKED,function(){e.pauseHandler()}),t.on(v.d.VIDEO_BUFFERING,function(){var t,n;e.synPlayerState="loading",null===(t=e.playerUi)||void 0===t||t.updateUiConfig({playerState:e.synPlayerState}),null===(n=e.onPlayerStateChange)||void 0===n||n.call(e,e.synPlayerState)}),t.on(v.d.VIDEO_END,function(){var t,n;e.synPlayerState="end",null===(t=e.playerUi)||void 0===t||t.updateUiConfig({playerState:e.synPlayerState}),null===(n=e.onPlayerStateChange)||void 0===n||n.call(e,e.synPlayerState);var r=e.c2.getBoundingClientRect(),o=r.width,i=r.height;e.ctx2.clearRect(0,0,o,i)}),t.on(v.d.PLAY_SESSION_END,function(e){var t=e.data,n=t.code,r=t.message;t.endState===v.c.ERROR&&"播放出错，错误码为".concat(n,"，错误消息为").concat(r)}),this.c2ResizeObserver=new le(function(){"playing"!==e.synPlayerState&&e.superPlayer.currentVideoElement&&(e.updateC2Size(),e.computeFrame())}),this.c2ResizeObserver.observe(this.elCanvasLayer)}},{key:"updateC2Size",value:function(){var e=this.superPlayer.currentVideoElement,t=e.videoWidth,n=e.videoHeight,r=Math.floor(n/2),o=this.getCanvasSize({videoWidth:t,videoHeight:r}),i=o.width,a=o.height;return this.c2.width=i,this.c2.height=a,{width:i,height:a}}},{key:"getCanvasSize",value:function(e){var t=e.videoWidth,n=e.videoHeight,r=this.elCanvasLayer.getBoundingClientRect(),o=r.width,i=r.height,a=Math.max(t/o,n/i);return{width:t/a,height:n/a}}},{key:"getMixedFrameData",value:function(e,t){for(var n=t.videoWidth,r=t.videoHeight,o=this.ctx1.createImageData(n,r),i=0;i<Math.floor(e.data.length/2);i+=4){var a=i+n*r*4,s=e.data[a],c=this.calcPixel({r:e.data[i],g:e.data[i+1],b:e.data[i+2]},s);o.data[i]=c.r,o.data[i+1]=c.g,o.data[i+2]=c.b,o.data[i+3]=c.a}return o}},{key:"calcPixel",value:function(e,t){var n=e.r,r=e.g,o=e.b;if(0===t)return{r:0,g:0,b:0,a:0};var i=t/255;return{r:this.calcPriColor(n,this.videoBgColor.r,i),g:this.calcPriColor(r,this.videoBgColor.g,i),b:this.calcPriColor(o,this.videoBgColor.b,i),a:t}}},{key:"calcPriColor",value:function(e,t,n){return Math.round((e-t*(1-n)|0)/n)}}]),n}(y.SdkVideo);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var Ne=function(e){d()(n,e);var t=xe(n);function n(e){var r;s()(this,n);var o=e.x,i=e.y,a=e.w,c=e.h,u=e.elPageRoot,l=e.elComponent,d=e.url,p=e.vid,m=e.thumbnailUrl,h=e.size,v=e.index,g=e.elCloseBtn,y=e.isPreview,A=e.synthesisConfig;return(r=t.call(this,{elComponent:l,elPageRoot:u,elCloseBtn:g,x:o,y:i,w:a,h:c})).dispose=function(){var e;null===(e=r.sdkVideo)||void 0===e||e.dispose()},r.vid=p,r.url=d,r.thumbnailUrl=m,r.size=h,r.index=v,r.synthesisConfig=A,r.isPreview=y,y?f()(r):(r.initSdkVideo(),r)}return u()(n,[{key:"initSdkVideo",value:function(){var e=this.elComponent.querySelector(".xj-lead-video-container"),t=this.elComponent.querySelector(".lead-video-before-init");if(e){var n="xj-lead-video-".concat(this.index);e.setAttribute("id",n);var r=this.vid,o=this.thumbnailUrl,i=this.url,a=this.size,s=this.synthesisConfig,c={containerId:n,url:i,sourceType:"vid",size:a,isPreview:this.isPreview,enableMuteBtn:!1,componentType:A.ComponentType.LEAD_VIDEO,elVideoBeforeInit:t};this.sdkVideo=null!==s&&void 0!==s&&s.enable?new Ce(ke(ke({},c),{},{closable:!1,poster:s.poster,vid:s.vid,superPlayerConfig:{autoPlayPolicy:v.a.USER_GESTURE}})):new y.SdkVideo(ke(ke({},c),{},{vid:r,poster:o,superPlayerConfig:{ctrlConfig:{removeComps:["Progress","TimeArea"]},autoPlayPolicy:v.a.USER_GESTURE}}))}else console.error("elVideoContainer not exists!")}}]),n}(g.LeadMaterialFixedModel),De=(n(702),function(){var e=document.querySelector(".xj-margin-wrapper"),t=Array.from(document.querySelectorAll(".xj-lead-video"));if(!e)throw new Error("elPageRoot is not exists！");t.forEach(function(t,n){if(!t.getAttribute("data-has-init")){t.setAttribute("data-has-init","true");var r=t.querySelector(".xj-lead-video-data"),o=t.querySelector(".xj-lead-video-close");if(!r||!o)throw new Error("elData、elCloseBtn ");var i=JSON.parse(r.getAttribute("lead-video-data")||"{}"),a=i.vid,s=i.thumbnailUrl,c=i.size,u=i.url,l=i.synthesisConfig,d=JSON.parse(r.getAttribute("lead-video-bounds")||"{}"),p=d.x,f=d.y,m=d.w,h=d.h,v=JSON.parse(r.getAttribute("is-preview")||"false");new Ne({elComponent:t,elPageRoot:e,elCloseBtn:o,x:p,y:f,w:m,h:h,url:u,vid:a,thumbnailUrl:s,size:c,index:n,isPreview:v,synthesisConfig:l})}})})},function(e,t,n){"use strict";n.r(t),n.d(t,"ClickMistEffectImpl",function(){return Se});var r=n(3),o=n.n(r),i=n(4),a=n.n(i),s=n(5),c=n.n(s),u=function(){function e(t,n,r){if(a()(this,e),this.uniforms={},this.gl=t,this.program=t.createProgram(),t.attachShader(this.program,n),t.attachShader(this.program,r),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))throw t.getProgramInfoLog(this.program);for(var o=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS),i=0;i<o;i++){var s,c=null===(s=t.getActiveUniform(this.program,i))||void 0===s?void 0:s.name;c?this.uniforms[c]=t.getUniformLocation(this.program,c):console.error("为空！！")}}return c()(e,[{key:"bind",value:function(){this.gl.useProgram(this.program)}}]),e}(),l=function(){function e(t,n){a()(this,e),d.call(this),this.gl=t,this.ext=n,this.baseVertexShader=this.createBaseVertexShader(),this.clearShader=this.createClearShader(),this.colorShader=this.createColorShader(),this.backgroundShader=this.createBackgroundShader(),this.displayShader=this.createDisplayShader(),this.displayBloomShader=this.createDisplayBloomShader(),this.displayShadingShader=this.createDisplayShadingShader(),this.displayBloomShadingShader=this.createDisplayBloomShader(),this.bloomPrefilterShader=this.createBloomPrefilterShader(),this.bloomBlurShader=this.createBloomBlurShader(),this.bloomFinalShader=this.createBloomFinalShader(),this.splatShader=this.createSplatShader(),this.advectionShader=this.createAdvectionShader(),this.advectionManualFilteringShader=this.createAdvectionManualFilteringShader(),this.divergenceShader=this.createDivergenceShader(),this.curlShader=this.createCurlShader(),this.vorticityShader=this.createVorticityShader(),this.pressureShader=this.createPressureShader(),this.gradientSubtractShader=this.createGradientSubtractShader();var r=this.baseVertexShader,o=this.clearShader,i=this.colorShader,s=this.backgroundShader,c=this.displayShader,l=this.displayBloomShader,p=this.displayShadingShader,f=this.displayBloomShadingShader,m=this.bloomBlurShader,h=this.bloomPrefilterShader,v=this.bloomFinalShader,g=this.splatShader,y=this.advectionShader,A=this.advectionManualFilteringShader,_=this.divergenceShader,b=this.curlShader,w=this.vorticityShader,T=this.pressureShader,E=this.gradientSubtractShader;this.clearProgram=new u(t,r,o),this.colorProgram=new u(t,r,i),this.backgroundProgram=new u(t,r,s),this.displayProgram=new u(t,r,c),this.displayBloomProgram=new u(t,r,l),this.displayShadingProgram=new u(t,r,p),this.displayBloomShadingProgram=new u(t,r,f),this.bloomPrefilterProgram=new u(t,r,h),this.bloomBlurProgram=new u(t,r,m),this.bloomFinalProgram=new u(t,r,v),this.splatProgram=new u(t,r,g),this.advectionProgram=new u(t,r,this.ext.supportLinearFiltering?y:A),this.divergenceProgram=new u(t,r,_),this.curlProgram=new u(t,r,b),this.vorticityProgram=new u(t,r,w),this.pressureProgram=new u(t,r,T),this.gradienSubtractProgram=new u(t,r,E)}return c()(e,[{key:"createClearShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision mediump float;\n         precision mediump sampler2D;\n\n         varying highp vec2 vUv;\n         uniform sampler2D uTexture;\n         uniform float value;\n\n         void main () {\n             gl_FragColor = value * texture2D(uTexture, vUv);\n         }\n     ")}},{key:"createColorShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision mediump float;\n\n         uniform vec4 color;\n\n         void main () {\n             gl_FragColor = color;\n         }\n     ")}},{key:"createBackgroundShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         uniform sampler2D uTexture;\n         uniform float aspectRatio;\n\n         #define SCALE 25.0\n\n         void main () {\n             vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n             float v = mod(uv.x + uv.y, 2.0);\n             v = v * 0.1 + 0.8;\n             gl_FragColor = vec4(vec3(v), 1.0);\n         }\n     ")}},{key:"createDisplayShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         uniform sampler2D uTexture;\n\n         void main () {\n             vec3 C = texture2D(uTexture, vUv).rgb;\n             float a = max(C.r, max(C.g, C.b));\n             gl_FragColor = vec4(C, a);\n         }\n     ")}},{key:"createDisplayBloomShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         uniform sampler2D uTexture;\n         uniform sampler2D uBloom;\n         uniform sampler2D uDithering;\n         uniform vec2 ditherScale;\n\n         void main () {\n             vec3 C = texture2D(uTexture, vUv).rgb;\n             vec3 bloom = texture2D(uBloom, vUv).rgb;\n             vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\n             noise = noise * 2.0 - 1.0;\n             bloom += noise / 800.0;\n             bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\n             C += bloom;\n             float a = max(C.r, max(C.g, C.b));\n             gl_FragColor = vec4(C, a);\n         }\n     ")}},{key:"createDisplayShadingShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         varying vec2 vL;\n         varying vec2 vR;\n         varying vec2 vT;\n         varying vec2 vB;\n         uniform sampler2D uTexture;\n         uniform vec2 texelSize;\n\n         void main () {\n             vec3 L = texture2D(uTexture, vL).rgb;\n             vec3 R = texture2D(uTexture, vR).rgb;\n             vec3 T = texture2D(uTexture, vT).rgb;\n             vec3 B = texture2D(uTexture, vB).rgb;\n             vec3 C = texture2D(uTexture, vUv).rgb;\n\n             float dx = length(R) - length(L);\n             float dy = length(T) - length(B);\n\n             vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n             vec3 l = vec3(0.0, 0.0, 1.0);\n\n             float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n             C.rgb *= diffuse;\n\n             float a = max(C.r, max(C.g, C.b));\n             gl_FragColor = vec4(C, a);\n         }\n     ")}},{key:"createDisplayBloomShadingShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         varying vec2 vL;\n         varying vec2 vR;\n         varying vec2 vT;\n         varying vec2 vB;\n         uniform sampler2D uTexture;\n         uniform sampler2D uBloom;\n         uniform sampler2D uDithering;\n         uniform vec2 ditherScale;\n         uniform vec2 texelSize;\n\n         void main () {\n             vec3 L = texture2D(uTexture, vL).rgb;\n             vec3 R = texture2D(uTexture, vR).rgb;\n             vec3 T = texture2D(uTexture, vT).rgb;\n             vec3 B = texture2D(uTexture, vB).rgb;\n             vec3 C = texture2D(uTexture, vUv).rgb;\n\n             float dx = length(R) - length(L);\n             float dy = length(T) - length(B);\n\n             vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n             vec3 l = vec3(0.0, 0.0, 1.0);\n\n             float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n             C *= diffuse;\n\n             vec3 bloom = texture2D(uBloom, vUv).rgb;\n             vec3 noise = texture2D(uDithering, vUv * ditherScale).rgb;\n             noise = noise * 2.0 - 1.0;\n             bloom += noise / 800.0;\n             bloom = pow(bloom.rgb, vec3(1.0 / 2.2));\n             C += bloom;\n\n             float a = max(C.r, max(C.g, C.b));\n             gl_FragColor = vec4(C, a);\n         }\n     ")}},{key:"createBloomPrefilterShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n       precision mediump float;\n       precision mediump sampler2D;\n\n       varying vec2 vUv;\n       uniform sampler2D uTexture;\n       uniform vec3 curve;\n       uniform float threshold;\n\n       void main () {\n           vec3 c = texture2D(uTexture, vUv).rgb;\n           float br = max(c.r, max(c.g, c.b));\n           float rq = clamp(br - curve.x, 0.0, curve.y);\n           rq = curve.z * rq * rq;\n           c *= max(rq, br - threshold) / max(br, 0.0001);\n           gl_FragColor = vec4(c, 0.0);\n       }\n   ")}},{key:"createBloomBlurShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision mediump float;\n         precision mediump sampler2D;\n\n         varying vec2 vL;\n         varying vec2 vR;\n         varying vec2 vT;\n         varying vec2 vB;\n         uniform sampler2D uTexture;\n\n         void main () {\n             vec4 sum = vec4(0.0);\n             sum += texture2D(uTexture, vL);\n             sum += texture2D(uTexture, vR);\n             sum += texture2D(uTexture, vT);\n             sum += texture2D(uTexture, vB);\n             sum *= 0.25;\n             gl_FragColor = sum;\n         }\n     ")}},{key:"createBloomFinalShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n       precision mediump float;\n       precision mediump sampler2D;\n\n       varying vec2 vL;\n       varying vec2 vR;\n       varying vec2 vT;\n       varying vec2 vB;\n       uniform sampler2D uTexture;\n       uniform float intensity;\n\n       void main () {\n           vec4 sum = vec4(0.0);\n           sum += texture2D(uTexture, vL);\n           sum += texture2D(uTexture, vR);\n           sum += texture2D(uTexture, vT);\n           sum += texture2D(uTexture, vB);\n           sum *= 0.25;\n           gl_FragColor = sum * intensity;\n       }\n   ")}},{key:"createSplatShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         uniform sampler2D uTarget;\n         uniform float aspectRatio;\n         uniform vec3 color;\n         uniform vec2 point;\n         uniform float radius;\n\n         void main () {\n             vec2 p = vUv - point.xy;\n             p.x *= aspectRatio;\n             vec3 splat = exp(-dot(p, p) / radius) * color;\n             vec3 base = texture2D(uTarget, vUv).xyz;\n             gl_FragColor = vec4(base + splat, 1.0);\n         }\n     ")}},{key:"createAdvectionManualFilteringShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         uniform sampler2D uVelocity;\n         uniform sampler2D uSource;\n         uniform vec2 texelSize;\n         uniform vec2 dyeTexelSize;\n         uniform float dt;\n         uniform float dissipation;\n\n         vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n             vec2 st = uv / tsize - 0.5;\n\n             vec2 iuv = floor(st);\n             vec2 fuv = fract(st);\n\n             vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n             vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n             vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n             vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n             return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n         }\n\n         void main () {\n             vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n             gl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\n             gl_FragColor.a = 1.0;\n         }\n     ")}},{key:"createAdvectionShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n       precision highp float;\n       precision highp sampler2D;\n\n       varying vec2 vUv;\n       uniform sampler2D uVelocity;\n       uniform sampler2D uSource;\n       uniform vec2 texelSize;\n       uniform float dt;\n       uniform float dissipation;\n\n       void main () {\n           vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n           gl_FragColor = dissipation * texture2D(uSource, coord);\n           gl_FragColor.a = 1.0;\n       }\n   ")}},{key:"createDivergenceShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n       precision mediump float;\n       precision mediump sampler2D;\n\n       varying highp vec2 vUv;\n       varying highp vec2 vL;\n       varying highp vec2 vR;\n       varying highp vec2 vT;\n       varying highp vec2 vB;\n       uniform sampler2D uVelocity;\n\n       void main () {\n           float L = texture2D(uVelocity, vL).x;\n           float R = texture2D(uVelocity, vR).x;\n           float T = texture2D(uVelocity, vT).y;\n           float B = texture2D(uVelocity, vB).y;\n\n           vec2 C = texture2D(uVelocity, vUv).xy;\n           if (vL.x < 0.0) { L = -C.x; }\n           if (vR.x > 1.0) { R = -C.x; }\n           if (vT.y > 1.0) { T = -C.y; }\n           if (vB.y < 0.0) { B = -C.y; }\n\n           float div = 0.5 * (R - L + T - B);\n           gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n       }\n   ")}},{key:"createCurlShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision mediump float;\n         precision mediump sampler2D;\n\n         varying highp vec2 vUv;\n         varying highp vec2 vL;\n         varying highp vec2 vR;\n         varying highp vec2 vT;\n         varying highp vec2 vB;\n         uniform sampler2D uVelocity;\n\n         void main () {\n             float L = texture2D(uVelocity, vL).y;\n             float R = texture2D(uVelocity, vR).y;\n             float T = texture2D(uVelocity, vT).x;\n             float B = texture2D(uVelocity, vB).x;\n             float vorticity = R - L - T + B;\n             gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n         }\n     ")}},{key:"createVorticityShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision highp float;\n         precision highp sampler2D;\n\n         varying vec2 vUv;\n         varying vec2 vL;\n         varying vec2 vR;\n         varying vec2 vT;\n         varying vec2 vB;\n         uniform sampler2D uVelocity;\n         uniform sampler2D uCurl;\n         uniform float curl;\n         uniform float dt;\n\n         void main () {\n             float L = texture2D(uCurl, vL).x;\n             float R = texture2D(uCurl, vR).x;\n             float T = texture2D(uCurl, vT).x;\n             float B = texture2D(uCurl, vB).x;\n             float C = texture2D(uCurl, vUv).x;\n\n             vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n             force /= length(force) + 0.0001;\n             force *= curl * C;\n             force.y *= -1.0;\n\n             vec2 vel = texture2D(uVelocity, vUv).xy;\n             gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\n         }\n     ")}},{key:"createBaseVertexShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.VERTEX_SHADER,"\n             precision highp float;\n             attribute vec2 aPosition;\n             varying vec2 vUv;\n             varying vec2 vL;\n             varying vec2 vR;\n             varying vec2 vT;\n             varying vec2 vB;\n             uniform vec2 texelSize;\n             void main () {\n                 vUv = aPosition * 0.5 + 0.5;\n                 vL = vUv - vec2(texelSize.x, 0.0);\n                 vR = vUv + vec2(texelSize.x, 0.0);\n                 vT = vUv + vec2(0.0, texelSize.y);\n                 vB = vUv - vec2(0.0, texelSize.y);\n                 gl_Position = vec4(aPosition, 0.0, 1.0);\n             }\n         ")}},{key:"createGradientSubtractShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n       precision mediump float;\n       precision mediump sampler2D;\n\n       varying highp vec2 vUv;\n       varying highp vec2 vL;\n       varying highp vec2 vR;\n       varying highp vec2 vT;\n       varying highp vec2 vB;\n       uniform sampler2D uPressure;\n       uniform sampler2D uVelocity;\n\n       vec2 boundary (vec2 uv) {\n           return uv;\n           // uv = min(max(uv, 0.0), 1.0);\n           // return uv;\n       }\n\n       void main () {\n           float L = texture2D(uPressure, boundary(vL)).x;\n           float R = texture2D(uPressure, boundary(vR)).x;\n           float T = texture2D(uPressure, boundary(vT)).x;\n           float B = texture2D(uPressure, boundary(vB)).x;\n           vec2 velocity = texture2D(uVelocity, vUv).xy;\n           velocity.xy -= vec2(R - L, T - B);\n           gl_FragColor = vec4(velocity, 0.0, 1.0);\n       }\n   ")}},{key:"createPressureShader",value:function(){var e=this.gl;return(0,this.compileShader)(e.FRAGMENT_SHADER,"\n         precision mediump float;\n         precision mediump sampler2D;\n\n         varying highp vec2 vUv;\n         varying highp vec2 vL;\n         varying highp vec2 vR;\n         varying highp vec2 vT;\n         varying highp vec2 vB;\n         uniform sampler2D uPressure;\n         uniform sampler2D uDivergence;\n\n         vec2 boundary (vec2 uv) {\n             return uv;\n             // uncomment if you use wrap or repeat texture mode\n             // uv = min(max(uv, 0.0), 1.0);\n             // return uv;\n         }\n\n         void main () {\n             float L = texture2D(uPressure, boundary(vL)).x;\n             float R = texture2D(uPressure, boundary(vR)).x;\n             float T = texture2D(uPressure, boundary(vT)).x;\n             float B = texture2D(uPressure, boundary(vB)).x;\n             float C = texture2D(uPressure, vUv).x;\n             float divergence = texture2D(uDivergence, vUv).x;\n             float pressure = (L + R + B + T - divergence) * 0.25;\n             gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n         }\n     ")}}]),e}(),d=function(){var e=this;this.compileShader=function(t,n){var r=e.gl,o=r.createShader(t);if(!o)throw new Error("不支持shader!");if(e.gl.shaderSource(o,n),e.gl.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS))throw r.getShaderInfoLog(o);return o}};function p(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),o=Math.round(e.g),i=Math.round(e.b),a=e.a,s=Math.round(e.h),c=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var l=e.hex.toString(16);l.length<6;)l="0"+l;return"#"+l}return"CSS_RGB"===n?"rgb("+r+","+o+","+i+")":"CSS_RGBA"===n?"rgba("+r+","+o+","+i+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+o+","+i+"]":"RGBA_ARRAY"===n?"["+r+","+o+","+i+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+c+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+c+",v:"+u+",a:"+a+"}":"unknown format"}var f=Array.prototype.forEach,m=Array.prototype.slice,h={BREAK:{},extend:function(e){return this.each(m.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(m.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=m.call(arguments);return function(){for(var t=m.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(f&&e.forEach&&e.forEach===f)e.forEach(t,n);else if(e.length===e.length+0){var r,o=void 0;for(o=0,r=e.length;o<r;o++)if(o in e&&t.call(n,e[o],o)===this.BREAK)return}else for(var i in e)if(t.call(n,e[i],i)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r=void 0;return function(){var o=this,i=arguments;var a=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),a&&e.apply(o,i)}},toArray:function(e){return e.toArray?e.toArray():m.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},v=[{litmus:h.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:p},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:p},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:p},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:p}}},{litmus:h.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:h.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:h.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(h.isNumber(e.r)&&h.isNumber(e.g)&&h.isNumber(e.b)&&h.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(h.isNumber(e.r)&&h.isNumber(e.g)&&h.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(h.isNumber(e.h)&&h.isNumber(e.s)&&h.isNumber(e.v)&&h.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(h.isNumber(e.h)&&h.isNumber(e.s)&&h.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],g=void 0,y=void 0,A=function(){y=!1;var e=arguments.length>1?h.toArray(arguments):arguments[0];return h.each(v,function(t){if(t.litmus(e))return h.each(t.conversions,function(t,n){if(g=t.read(e),!1===y&&!1!==g)return y=g,g.conversionName=n,g.conversion=t,h.BREAK}),h.BREAK}),y},_=void 0,b={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),c=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=o-r,a=void 0;return 0===o?{h:NaN,s:0,v:0}:(a=e===o?(t-n)/i:t===o?2+(n-e)/i:4+(e-t)/i,(a/=6)<0&&(a+=1),{h:360*a,s:i/o,v:o/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(_=8*t)|e&~(255<<_)}},w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},O=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},I=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},C=function(){function e(){if(T(this,e),this.__state=A.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return E(e,[{key:"toString",value:function(){return p(this)}},{key:"toHexString",value:function(){return p(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function P(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(C.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(C.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function k(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(C.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(C.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}C.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=b.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");h.extend(e.__state,b.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},C.recalculateHSV=function(e){var t=b.rgb_to_hsv(e.r,e.g,e.b);h.extend(e.__state,{s:t.s,v:t.v}),h.isNaN(t.h)?h.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},C.COMPONENTS=["r","g","b","h","s","v","hex","a"],P(C.prototype,"r",2),P(C.prototype,"g",1),P(C.prototype,"b",0),k(C.prototype,"h"),k(C.prototype,"s"),k(C.prototype,"v"),Object.defineProperty(C.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(C.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=b.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var x=function(){function e(t,n){T(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return E(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),N={};h.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){h.each(e,function(e){N[e]=t})});var D=/(\d+(\.\d+)?)px/;function R(e){if("0"===e||h.isUndefined(e))return 0;var t=e.match(D);return h.isNull(t)?0:parseFloat(t[1])}var j={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,o=t;h.isUndefined(o)&&(o=!0),h.isUndefined(r)&&(r=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var o=n||{},i=N[t];if(!i)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(i);switch(i){case"MouseEvents":var s=o.x||o.clientX||0,c=o.y||o.clientY||0;a.initMouseEvent(t,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,s,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=a.initKeyboardEvent||a.initKeyEvent;h.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:a.initEvent(t,o.bubbles||!1,o.cancelable||!0)}h.defaults(a,r),e.dispatchEvent(a)},bind:function(e,t,n,r){var o=r||!1;return e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n),j},unbind:function(e,t,n,r){var o=r||!1;return e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n),j},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return j},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return j},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return R(t["border-left-width"])+R(t["border-right-width"])+R(t["padding-left"])+R(t["padding-right"])+R(t.width)},getHeight:function(e){var t=getComputedStyle(e);return R(t["border-top-width"])+R(t["border-bottom-width"])+R(t["padding-top"])+R(t["padding-bottom"])+R(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},L=function(e){function t(e,n){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),j.bind(r.__checkbox,"change",function(){o.setValue(!o.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return O(t,x),E(t,[{key:"setValue",value:function(e){var n=S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),M=function(e){function t(e,n,r){T(this,t);var o=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r,a=o;if(o.__select=document.createElement("select"),h.isArray(i)){var s={};h.each(i,function(e){s[e]=e}),i=s}return h.each(i,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),a.__select.appendChild(n)}),o.updateDisplay(),j.bind(o.__select,"change",function(){var e=this.options[this.selectedIndex].value;a.setValue(e)}),o.domElement.appendChild(o.__select),o}return O(t,x),E(t,[{key:"setValue",value:function(e){var n=S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return j.isActive(this.__select)?this:(this.__select.value=this.getValue(),S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),B=function(e){function t(e,n){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r;function i(){o.setValue(o.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),j.bind(r.__input,"keyup",i),j.bind(r.__input,"change",i),j.bind(r.__input,"blur",function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}),j.bind(r.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return O(t,x),E(t,[{key:"updateDisplay",value:function(){return j.isActive(this.__input)||(this.__input.value=this.getValue()),S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function U(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var F=function(e){function t(e,n,r){T(this,t);var o=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r||{};return o.__min=i.min,o.__max=i.max,o.__step=i.step,h.isUndefined(o.__step)?0===o.initialValue?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=U(o.__impliedStep),o}return O(t,x),E(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=U(e),this}}]),t}();var G=function(e){function t(e,n,r){T(this,t);var o=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));o.__truncationSuspended=!1;var i=o,a=void 0;function s(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}function c(e){var t=a-e.clientY;i.setValue(i.getValue()+t*i.__impliedStep),a=e.clientY}function u(){j.unbind(window,"mousemove",c),j.unbind(window,"mouseup",u),s()}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),j.bind(o.__input,"change",function(){var e=parseFloat(i.__input.value);h.isNaN(e)||i.setValue(e)}),j.bind(o.__input,"blur",function(){s()}),j.bind(o.__input,"mousedown",function(e){j.bind(window,"mousemove",c),j.bind(window,"mouseup",u),a=e.clientY}),j.bind(o.__input,"keydown",function(e){13===e.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1,s())}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return O(t,F),E(t,[{key:"updateDisplay",value:function(){var e,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(e*r)/r),S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function q(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)}var W=function(e){function t(e,n,r,o,i){T(this,t);var a=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:r,max:o,step:i})),s=a;function c(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(q(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function u(){j.unbind(window,"mousemove",c),j.unbind(window,"mouseup",u),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function l(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(q(t,n.left,n.right,s.__min,s.__max))}function d(){j.unbind(window,"touchmove",l),j.unbind(window,"touchend",d),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),j.bind(a.__background,"mousedown",function(e){document.activeElement.blur(),j.bind(window,"mousemove",c),j.bind(window,"mouseup",u),c(e)}),j.bind(a.__background,"touchstart",function(e){if(1!==e.touches.length)return;j.bind(window,"touchmove",l),j.bind(window,"touchend",d),l(e)}),j.addClass(a.__background,"slider"),j.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return O(t,F),E(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),H=function(e){function t(e,n,r){T(this,t);var o=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;return o.__button=document.createElement("div"),o.__button.innerHTML=void 0===r?"Fire":r,j.bind(o.__button,"click",function(e){return e.preventDefault(),i.fire(),!1}),j.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}return O(t,x),E(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),V=function(e){function t(e,n){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.__color=new C(r.getValue()),r.__temp=new C(0);var o=r;r.domElement=document.createElement("div"),j.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",j.bind(r.__input,"keydown",function(e){13===e.keyCode&&d.call(this)}),j.bind(r.__input,"blur",d),j.bind(r.__selector,"mousedown",function(){j.addClass(this,"drag").bind(window,"mouseup",function(){j.removeClass(o.__selector,"drag")})}),j.bind(r.__selector,"touchstart",function(){j.addClass(this,"drag").bind(window,"touchend",function(){j.removeClass(o.__selector,"drag")})});var i,a=document.createElement("div");function s(e){f(e),j.bind(window,"mousemove",f),j.bind(window,"touchmove",f),j.bind(window,"mouseup",u),j.bind(window,"touchend",u)}function c(e){m(e),j.bind(window,"mousemove",m),j.bind(window,"touchmove",m),j.bind(window,"mouseup",l),j.bind(window,"touchend",l)}function u(){j.unbind(window,"mousemove",f),j.unbind(window,"touchmove",f),j.unbind(window,"mouseup",u),j.unbind(window,"touchend",u),p()}function l(){j.unbind(window,"mousemove",m),j.unbind(window,"touchmove",m),j.unbind(window,"mouseup",l),j.unbind(window,"touchend",l),p()}function d(){var e=A(this.value);!1!==e?(o.__color.__state=e,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function p(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function f(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,r=n.clientX,i=n.clientY,a=(r-t.left)/(t.right-t.left),s=1-(i-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),o.__color.v=s,o.__color.s=a,o.setValue(o.__color.toOriginal()),!1}function m(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),o.__color.h=360*n,o.setValue(o.__color.toOriginal()),!1}return h.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),h.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),h.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),h.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),h.extend(a.style,{width:"100%",height:"100%",background:"none"}),J(a,"top","rgba(0,0,0,0)","#000"),h.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(i=r.__hue_field).style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",h.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),j.bind(r.__saturation_field,"mousedown",s),j.bind(r.__saturation_field,"touchstart",s),j.bind(r.__field_knob,"mousedown",s),j.bind(r.__field_knob,"touchstart",s),j.bind(r.__hue_field,"mousedown",c),j.bind(r.__hue_field,"touchstart",c),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return O(t,x),E(t,[{key:"updateDisplay",value:function(){var e=A(this.getValue());if(!1!==e){var t=!1;h.each(C.COMPONENTS,function(n){if(!h.isUndefined(e[n])&&!h.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&h.extend(this.__color.__state,e)}h.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;h.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,J(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),h.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),t}(),X=["-moz-","-o-","-webkit-","-ms-",""];function J(e,t,n,r){e.style.background="",h.each(X,function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}var Q=function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var o=n.getElementsByTagName("head")[0];try{o.appendChild(r)}catch(e){}},Y=function(e,t){var n=e[t];return h.isArray(arguments[2])||h.isObject(arguments[2])?new M(e,t,arguments[2]):h.isNumber(n)?h.isNumber(arguments[2])&&h.isNumber(arguments[3])?h.isNumber(arguments[4])?new W(e,t,arguments[2],arguments[3],arguments[4]):new W(e,t,arguments[2],arguments[3]):h.isNumber(arguments[4])?new G(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new G(e,t,{min:arguments[2],max:arguments[3]}):h.isString(n)?new B(e,t):h.isFunction(n)?new H(e,t,""):h.isBoolean(n)?new L(e,t):null};var z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},K=function(){function e(){T(this,e),this.backgroundElement=document.createElement("div"),h.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),j.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),h.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;j.bind(this.backgroundElement,"click",function(){t.hide()})}return E(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),h.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",j.unbind(e.domElement,"webkitTransitionEnd",t),j.unbind(e.domElement,"transitionend",t),j.unbind(e.domElement,"oTransitionEnd",t)};j.bind(this.domElement,"webkitTransitionEnd",t),j.bind(this.domElement,"transitionend",t),j.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-j.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-j.getHeight(this.domElement)/2+"px"}}]),e}();Q(function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var $="Default",Z=function(){try{return!!window.localStorage}catch(e){return!1}}(),ee=void 0,te=!0,ne=void 0,re=!1,oe=[],ie=function e(t){var n=this,r=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),j.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=h.defaults(r,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),r=h.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),h.isUndefined(r.load)?r.load={preset:$}:r.preset&&(r.load.preset=r.preset),h.isUndefined(r.parent)&&r.hideable&&oe.push(this),r.resizable=h.isUndefined(r.parent)&&r.resizable,r.autoPlace&&h.isUndefined(r.scrollable)&&(r.scrollable=!0);var o,i=Z&&"true"===localStorage.getItem(de(this,"isLocal")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(e){n.parent?n.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,he(n,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,s&&(s.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(t){r.closed=t,r.closed?j.addClass(n.__ul,e.CLASS_CLOSED):j.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return i},set:function(e){Z&&(i=e,e?j.bind(window,"unload",a):j.unbind(window,"unload",a),localStorage.setItem(de(n,"isLocal"),e))}}}),h.isUndefined(r.parent)){if(this.closed=r.closed||!1,j.addClass(this.domElement,e.CLASS_MAIN),j.makeSelectable(this.domElement,!1),Z&&i){n.useLocalStorage=!0;var c=localStorage.getItem(de(this,"gui"));c&&(r.load=JSON.parse(c))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,j.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),r.closeOnTop?(j.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(j.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),j.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var u=document.createTextNode(r.name);j.addClass(u,"controller-name"),s=ae(n,u);j.addClass(this.__ul,e.CLASS_CLOSED),j.addClass(s,"title"),j.bind(s,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(h.isUndefined(r.parent)&&(te&&(ne=document.createElement("div"),j.addClass(ne,"dg"),j.addClass(ne,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ne),te=!1),ne.appendChild(this.domElement),j.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||he(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},j.bind(window,"resize",this.__resizeHandler),j.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),j.bind(this.__ul,"transitionend",this.__resizeHandler),j.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&me(this),a=function(){Z&&"true"===localStorage.getItem(de(n,"isLocal"))&&localStorage.setItem(de(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((o=n.getRoot()).width+=1,h.defer(function(){o.width-=1}))};function ae(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function se(e){j.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&j.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function ce(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function ue(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!==r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[t.property]=t,n.load&&n.load.remembered){var i=n.load.remembered,a=void 0;if(i[e.preset])a=i[e.preset];else{if(!i[$])return;a=i[$]}if(a[r]&&void 0!==a[r][t.property]){var s=a[r][t.property];t.initialValue=s,t.setValue(s)}}}}function le(e,t,n,r){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var o=void 0;if(r.color)o=new V(t,n);else{var i=[t,n].concat(r.factoryArgs);o=Y.apply(e,i)}r.before instanceof x&&(r.before=r.before.__li),ue(e,o),j.addClass(o.domElement,"c");var a=document.createElement("span");j.addClass(a,"property-name"),a.innerHTML=o.property;var s=document.createElement("div");s.appendChild(a),s.appendChild(o.domElement);var c=ae(e,s,r.before);return j.addClass(c,ie.CLASS_CONTROLLER_ROW),o instanceof V?j.addClass(c,"color"):j.addClass(c,w(o.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,h.extend(n,{options:function(t){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),le(e,n.object,n.property,{before:r,factoryArgs:[h.toArray(arguments)]})}if(h.isArray(t)||h.isObject(t)){var o=n.__li.nextElementSibling;return n.remove(),le(e,n.object,n.property,{before:o,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof W){var r=new G(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});h.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(e){var t=n[e],o=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return o.apply(r,e),t.apply(n,e)}}),j.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof G){var o=function(t){if(h.isNumber(n.__min)&&h.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,o=n.__gui.__listening.indexOf(n)>-1;n.remove();var i=le(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return i.name(r),o&&i.listen(),i}return t};n.min=h.compose(o,n.min),n.max=h.compose(o,n.max)}else n instanceof L?(j.bind(t,"click",function(){j.fakeEvent(n.__checkbox,"click")}),j.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof H?(j.bind(t,"click",function(){j.fakeEvent(n.__button,"click")}),j.bind(t,"mouseover",function(){j.addClass(n.__button,"hover")}),j.bind(t,"mouseout",function(){j.removeClass(n.__button,"hover")})):n instanceof V&&(j.addClass(t,"color"),n.updateDisplay=h.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=h.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&ce(e.getRoot(),!0),t},n.setValue)}(e,c,o),e.__controllers.push(o),o}function de(e,t){return document.location.href+"."+t}function pe(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function fe(e,t){t.style.display=e.useLocalStorage?"block":"none"}function me(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){j.removeClass(e.__closeButton,ie.CLASS_DRAG),j.unbind(window,"mousemove",n),j.unbind(window,"mouseup",r)}function o(o){return o.preventDefault(),t=o.clientX,j.addClass(e.__closeButton,ie.CLASS_DRAG),j.bind(window,"mousemove",n),j.bind(window,"mouseup",r),!1}e.__resize_handle=document.createElement("div"),h.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),j.bind(e.__resize_handle,"mousedown",o),j.bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function he(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function ve(e,t){var n={};return h.each(e.__rememberedObjects,function(r,o){var i={},a=e.__rememberedObjectIndecesToControllers[o];h.each(a,function(e,n){i[n]=t?e.initialValue:e.getValue()}),n[o]=i}),n}ie.toggleHide=function(){re=!re,h.each(oe,function(e){e.domElement.style.display=re?"none":""})},ie.CLASS_AUTO_PLACE="a",ie.CLASS_AUTO_PLACE_CONTAINER="ac",ie.CLASS_MAIN="main",ie.CLASS_CONTROLLER_ROW="cr",ie.CLASS_TOO_TALL="taller-than-window",ie.CLASS_CLOSED="closed",ie.CLASS_CLOSE_BUTTON="close-button",ie.CLASS_CLOSE_TOP="close-top",ie.CLASS_CLOSE_BOTTOM="close-bottom",ie.CLASS_DRAG="drag",ie.DEFAULT_WIDTH=245,ie.TEXT_CLOSED="Close Controls",ie.TEXT_OPEN="Open Controls",ie._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||ie.toggleHide()},j.bind(window,"keydown",ie._keydownHandler,!1),h.extend(ie.prototype,{add:function(e,t){return le(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return le(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;h.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ne.removeChild(this.domElement);var e=this;h.each(this.__folders,function(t){e.removeFolder(t)}),j.unbind(window,"keydown",ie._keydownHandler,!1),se(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new ie(t);this.__folders[e]=n;var r=ae(this,n.domElement);return j.addClass(r,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],se(e);var t=this;h.each(e.__folders,function(t){e.removeFolder(t)}),h.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=j.getOffset(e.__ul).top,n=0;h.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=j.getHeight(t))}),window.innerHeight-t-20<n?(j.addClass(e.domElement,ie.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(j.removeClass(e.domElement,ie.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&h.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:h.debounce(function(){this.onResize()},50),remember:function(){if(h.isUndefined(ee)&&((ee=new K).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;h.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&function(e){var t=e.__save_row=document.createElement("li");j.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),j.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",j.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",j.addClass(r,"button"),j.addClass(r,"save");var o=document.createElement("span");o.innerHTML="New",j.addClass(o,"button"),j.addClass(o,"save-as");var i=document.createElement("span");i.innerHTML="Revert",j.addClass(i,"button"),j.addClass(i,"revert");var a=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?h.each(e.load.remembered,function(t,n){pe(e,n,n===e.preset)}):pe(e,$,!1);if(j.bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(n),t.appendChild(r),t.appendChild(o),t.appendChild(i),Z){var s=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage"),u=document.getElementById("dg-save-locally");u.style.display="block","true"===localStorage.getItem(de(e,"isLocal"))&&c.setAttribute("checked","checked"),fe(e,s),j.bind(c,"change",function(){e.useLocalStorage=!e.useLocalStorage,fe(e,s)})}var l=document.getElementById("dg-new-constructor");j.bind(l,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||ee.hide()}),j.bind(n,"click",function(){l.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),ee.show(),l.focus(),l.select()}),j.bind(r,"click",function(){e.save()}),j.bind(o,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),j.bind(i,"click",function(){e.revert()})}(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&he(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ve(this)),e.folders={},h.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ve(this),ce(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[$]=ve(this,!0)),this.load.remembered[e]=ve(this),this.preset=e,pe(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){h.each(this.__controllers,function(t){this.getRoot().load.remembered?ue(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),h.each(this.__folders,function(e){e.revert(e)}),e||ce(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&z.call(window,function(){e(t)});h.each(t,function(e){e.updateDisplay()})}(this.__listening)},updateDisplay:function(){h.each(this.__controllers,function(e){e.updateDisplay()}),h.each(this.__folders,function(e){e.updateDisplay()})}});var ge={color:{Color:C,math:b,interpret:A},controllers:{Controller:x,BooleanController:L,OptionController:M,StringController:B,NumberController:F,NumberControllerBox:G,NumberControllerSlider:W,FunctionController:H,ColorController:V},dom:{dom:j},gui:{GUI:ie},GUI:ie},ye=n(1),Ae=n.n(ye);function _e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Te=function(){return/Mobi|Android/i.test(navigator.userAgent)},Ee=function(){function e(){a()(this,e),this.id=-1,this.x=0,this.y=0,this.dx=0,this.dy=0,this.down=!0,this.moved=!1,this.color=e.generateColor()}return c()(e,null,[{key:"generateColor",value:function(){var t=e.HSVtoRGB(Math.random(),1,1);return t.r*=.15,t.g*=.15,t.b*=.15,t}},{key:"HSVtoRGB",value:function(e,t,n){var r=Math.floor(6*e),o=6*e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),c=255,u=255,l=255;switch(r%6){case 0:c=n,u=s,l=i;break;case 1:c=a,u=n,l=i;break;case 2:c=i,u=n,l=s;break;case 3:c=i,u=a,l=n;break;case 4:c=s,u=i,l=n;break;case 5:c=n,u=i,l=a}return{r:c,g:u,b:l}}}]),e}(),Se=function(){function e(){var t=this;a()(this,e),Oe.call(this);var n=document.querySelector(".xj-click-effect-layer");if(!n)throw new Error("effect layer not exist!");this.canvas=n,this.pointers.push(new Ee);var r=this.getWebGLContext(n),o=r.gl,i=r.ext;Te()&&(this.config.SHADING=!1),i.supportLinearFiltering||(this.config.SHADING=!1,this.config.BLOOM=!1),this.gl=o,this.ext=i,this.blit=this.createBlit(),this.glShader=new l(o,i),this.createTextureAsync("//".concat(Ae.a.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/ldr_rgb1_0.png")).then(function(e){t.ditheringTexture=e,t.initFramebuffers(),t.update()}),["mousemove","touchmove"].forEach(function(e){return document.addEventListener(e,function(){t.pointers[0].down=!0})}),["mousemove","touchmove"].forEach(function(e){return document.addEventListener(e,function(e){var n=t.pointers,r=e,o=r.clientX,i=r.clientY;if("touchmove"===e.type){var a=e;o=a.changedTouches[0].clientX,i=a.changedTouches[0].clientY}n[0].moved=n[0].down,n[0].dx=5*(o-n[0].x),n[0].dy=5*(i-n[0].y),n[0].x=o,n[0].y=i})})}return c()(e,[{key:"createBlit",value:function(){var e=this.gl;return e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(0),function(t){e.bindFramebuffer(e.FRAMEBUFFER,t),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}}},{key:"splat",value:function(e,t,n,r,o){var i=this.gl,a=this.simWidth,s=this.simHeight,c=this.glShader,u=this.velocity,l=this.canvas,d=this.config,p=this.blit,f=this.dyeWidth,m=this.dyeHeight,h=this.density,v=c.splatProgram;i.viewport(0,0,a,s),v.bind(),i.uniform1i(v.uniforms.uTarget,u.read.attach(0)),i.uniform1f(v.uniforms.aspectRatio,l.width/l.height),i.uniform2f(v.uniforms.point,e/l.width,1-t/l.height),i.uniform3f(v.uniforms.color,n,-r,1),i.uniform1f(v.uniforms.radius,d.SPLAT_RADIUS/100),p(u.write.fbo),u.swap(),i.viewport(0,0,f,m),i.uniform1i(v.uniforms.uTarget,h.read.attach(0)),i.uniform3f(v.uniforms.color,o.r,o.g,o.b),p(h.write.fbo),h.swap()}},{key:"getCalcRGbColor",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return t.r*=.55,t.g*=.55,t.b*=.55,t}},{key:"generateColor",value:function(){var e=Ee.HSVtoRGB(Math.random(),1,1);return this.getCalcRGbColor(e)}},{key:"multipleSplats",value:function(e){for(var t=0;t<e;t++){var n=this.generateColor();n.r*=10,n.g*=10,n.b*=10;var r=this.canvas.width*Math.random(),o=this.canvas.height*Math.random(),i=1e3*(Math.random()-.5),a=1e3*(Math.random()-.5);this.splat(r,o,i,a,n)}}},{key:"input",value:function(){var e=this.splatStack,t=this.pointers,n=this.config;if(e.length>0){var r=e.pop();null!=r&&this.multipleSplats(r)}var o,i=_e(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.moved&&(this.splat(a.x,a.y,a.dx,a.dy,a.color),a.moved=!1)}}catch(e){i.e(e)}finally{i.f()}if(n.COLORFUL&&this.lastColorChangeTime+100<Date.now()){this.lastColorChangeTime=Date.now();var s,c=_e(t);try{for(c.s();!(s=c.n()).done;){s.value.color=this.generateColor()}}catch(e){c.e(e)}finally{c.f()}}}},{key:"getTextureScale",value:function(e,t,n){return{x:t/e.width,y:n/e.height}}},{key:"render",value:function(e){var t=this.config,n=this.applyBloom,r=this.density,o=this.bloom,i=this.gl,a=this.dyeWidth,s=this.dyeHeight,c=this.glShader,u=this.blit,l=this.canvas,d=this.ditheringTexture,p=this.getTextureScale,f=c.colorProgram,m=c.backgroundProgram,h=c.displayBloomShadingProgram,v=c.displayShadingProgram,g=c.displayBloomProgram,y=c.displayProgram;t.BLOOM&&n(r.read,o),null!=e&&t.TRANSPARENT?i.disable(i.BLEND):(i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.enable(i.BLEND));var A=null==e?i.drawingBufferWidth:a,_=null==e?i.drawingBufferHeight:s;if(i.viewport(0,0,A,_),!t.TRANSPARENT){f.bind();var b=t.BACK_COLOR;i.uniform4f(f.uniforms.color,b.r/255,b.g/255,b.b/255,0),u(e)}if(null==e&&t.TRANSPARENT&&(m.bind(),i.uniform1f(m.uniforms.aspectRatio,l.width/l.height),u(null)),t.SHADING){var w=t.BLOOM?h:v;if(w.bind(),i.uniform2f(w.uniforms.texelSize,1/A,1/_),i.uniform1i(w.uniforms.uTexture,r.read.attach(0)),t.BLOOM){i.uniform1i(w.uniforms.uBloom,o.attach(1)),i.uniform1i(w.uniforms.uDithering,d.attach(2));var T=p(d,A,_);i.uniform2f(w.uniforms.ditherScale,T.x,T.y)}}else{var E=t.BLOOM?g:y;if(E.bind(),i.uniform1i(E.uniforms.uTexture,r.read.attach(0)),t.BLOOM){i.uniform1i(E.uniforms.uBloom,o.attach(1)),i.uniform1i(E.uniforms.uDithering,d.attach(2));var S=p(d,A,_);i.uniform2f(E.uniforms.ditherScale,S.x,S.y)}}u(e)}},{key:"resizeDoubleFBO",value:function(e,t,n,r,o,i,a){return e.read=this.resizeFBO(e.read,t,n,r,o,i,a),e.write=this.createFBO(t,n,r,o,i,a),e}},{key:"initFramebuffers",value:function(){var e=this.getResolution,t=this.config,n=this.ext,r=this.gl,o=this.createDoubleFBO,i=e(t.SIM_RESOLUTION),a=e(t.DYE_RESOLUTION);this.simWidth=i.width,this.simHeight=i.height,this.dyeWidth=a.width,this.dyeHeight=a.height;var s=n.halfFloatTexType,c=n.formatRGBA,u=n.formatRG,l=n.formatR,d=n.supportLinearFiltering?r.LINEAR:r.NEAREST;null==this.density?this.density=o(this.dyeWidth,this.dyeHeight,c.internalFormat,c.format,s,d):this.density=this.resizeDoubleFBO(this.density,this.dyeWidth,this.dyeHeight,c.internalFormat,c.format,s,d),null==this.velocity?this.velocity=o(this.simWidth,this.simHeight,u.internalFormat,u.format,s,d):this.velocity=this.resizeDoubleFBO(this.velocity,this.simWidth,this.simHeight,u.internalFormat,u.format,s,d),this.divergence=this.createFBO(this.simWidth,this.simHeight,l.internalFormat,l.format,s,r.NEAREST),this.curl=this.createFBO(this.simWidth,this.simHeight,l.internalFormat,l.format,s,r.NEAREST),this.pressure=this.createDoubleFBO(this.simWidth,this.simHeight,l.internalFormat,l.format,s,r.NEAREST),this.initBloomFramebuffers()}},{key:"initBloomFramebuffers",value:function(){var e=this.getResolution,t=this.config,n=this.ext,r=this.createFBO,o=this.gl,i=e(t.BLOOM_RESOLUTION),a=n.halfFloatTexType,s=n.formatRGBA,c=n.supportLinearFiltering?o.LINEAR:o.NEAREST;this.bloom=r(i.width,i.height,s.internalFormat,s.format,a,c),this.bloomFramebuffers.length=0;for(var u=0;u<t.BLOOM_ITERATIONS;u++){var l=i.width>>u+1,d=i.height>>u+1;if(l<2||d<2)break;var p=r(l,d,s.internalFormat,s.format,a,c);this.bloomFramebuffers.push(p)}}},{key:"createTextureAsync",value:function(e){var t=this.gl,n=t.createTexture();if(!n)throw new Error("texture_create_fail");return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texImage2D(t.TEXTURE_2D,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,new Uint8Array([255,255,255])),new Promise(function(r){var o=new Image;o.onload=function(){var e=o.width,i=o.height;r({texture:n,width:e,height:i,attach:function(e){return t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,n),e}})},o.src=e})}},{key:"getWebGLContext",value:function(e){var t,n,r,o,i,a={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1},s=e.getContext("webgl2",a),c=null;if(!s&&!(c=e.getContext("webgl",a)||e.getContext("experimental-webgl",a)))throw new Error("不支持webgl");if(s)s.getExtension("EXT_color_buffer_float"),t=s.getExtension("OES_texture_float_linear"),n=s.HALF_FLOAT,s.clearColor(0,0,0,1);else{if(!c)throw new Error("不支持webgl");var u=c.getExtension("OES_texture_half_float");if(t=c.getExtension("OES_texture_half_float_linear"),!u)throw new Error("不支持halfFloat");n=u.HALF_FLOAT_OES,c.clearColor(0,0,0,1)}if(s)r=this.getSupportedFormat(s,s.RGBA16F,s.RGBA,n),o=this.getSupportedFormat(s,s.RG16F,s.RG,n),i=this.getSupportedFormat(s,s.R16F,s.RED,n);else{if(!c)throw new Error("不支持webgl");r=this.getSupportedFormat(c,c.RGBA,c.RGBA,n),o=this.getSupportedFormat(c,c.RGBA,c.RGBA,n),i=this.getSupportedFormat(c,c.RGBA,c.RGBA,n)}var l=s||c;if(!(r&&o&&i&&l))throw new Error("不支持webgl");return{gl:l,ext:{formatRGBA:r,formatRG:o,formatR:i,halfFloatTexType:n,supportLinearFiltering:t}}}},{key:"supportRenderTextureFormat",value:function(e,t,n,r){var o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,4,4,0,n,r,null);var i=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE}},{key:"getSupportedFormat",value:function(e,t,n,r){if("R16F"in e&&!this.supportRenderTextureFormat(e,t,n,r))switch(t){case e.R16F:return this.getSupportedFormat(e,e.RG16F,e.RG,r);case e.RG16F:return this.getSupportedFormat(e,e.RGBA16F,e.RGBA,r);default:return null}return{internalFormat:t,format:n}}}]),e}(),Oe=function(){var e=this;this.lastColorChangeTime=Date.now(),this.config={SIM_RESOLUTION:128,DYE_RESOLUTION:512,DENSITY_DISSIPATION:.94,VELOCITY_DISSIPATION:1,PRESSURE_DISSIPATION:1,PRESSURE_ITERATIONS:50,CURL:50,SPLAT_RADIUS:.35,SHADING:!1,COLORFUL:!0,BACK_COLOR:{r:2,g:3,b:15},TRANSPARENT:!1,BLOOM:!1,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:.8,BLOOM_THRESHOLD:.6,BLOOM_SOFT_KNEE:.7},this.pointers=[],this.splatStack=[],this.bloomFramebuffers=[],this.step=function(t){var n=e.gl,r=e.simHeight,o=e.simWidth,i=e.dyeWidth,a=e.dyeHeight,s=e.density,c=e.velocity,u=e.glShader,l=e.curl,d=e.config,p=e.blit,f=e.ext,m=e.divergence,h=e.pressure,v=u.curlProgram,g=u.vorticityProgram,y=u.divergenceProgram,A=u.clearProgram,_=u.pressureProgram,b=u.gradienSubtractProgram,w=u.advectionProgram;n.disable(n.BLEND),n.viewport(0,0,o,r),v.bind(),n.uniform2f(v.uniforms.texelSize,1/o,1/r),n.uniform1i(v.uniforms.uVelocity,c.read.attach(0)),p(l.fbo),g.bind(),n.uniform2f(g.uniforms.texelSize,1/o,1/r),n.uniform1i(g.uniforms.uVelocity,c.read.attach(0)),n.uniform1i(g.uniforms.uCurl,l.attach(1)),n.uniform1f(g.uniforms.curl,d.CURL),n.uniform1f(g.uniforms.dt,t),p(c.write.fbo),c.swap(),y.bind(),n.uniform2f(y.uniforms.texelSize,1/o,1/r),n.uniform1i(y.uniforms.uVelocity,c.read.attach(0)),p(m.fbo),A.bind(),n.uniform1i(A.uniforms.uTexture,h.read.attach(0)),n.uniform1f(A.uniforms.value,d.PRESSURE_DISSIPATION),p(h.write.fbo),h.swap(),_.bind(),n.uniform2f(_.uniforms.texelSize,1/o,1/r),n.uniform1i(_.uniforms.uDivergence,m.attach(0));for(var T=0;T<d.PRESSURE_ITERATIONS;T++)n.uniform1i(_.uniforms.uPressure,h.read.attach(1)),p(h.write.fbo),h.swap();b.bind(),n.uniform2f(b.uniforms.texelSize,1/o,1/r),n.uniform1i(b.uniforms.uPressure,h.read.attach(0)),n.uniform1i(b.uniforms.uVelocity,c.read.attach(1)),p(c.write.fbo),c.swap(),w.bind(),n.uniform2f(w.uniforms.texelSize,1/o,1/r),f.supportLinearFiltering||n.uniform2f(w.uniforms.dyeTexelSize,1/o,1/r);var E=c.read.attach(0);n.uniform1i(w.uniforms.uVelocity,E),n.uniform1i(w.uniforms.uSource,E),n.uniform1f(w.uniforms.dt,t),n.uniform1f(w.uniforms.dissipation,d.VELOCITY_DISSIPATION),p(c.write.fbo),c.swap(),n.viewport(0,0,i,a),f.supportLinearFiltering||n.uniform2f(w.uniforms.dyeTexelSize,1/i,1/a),n.uniform1i(w.uniforms.uVelocity,c.read.attach(0)),n.uniform1i(w.uniforms.uSource,s.read.attach(1)),n.uniform1f(w.uniforms.dissipation,d.DENSITY_DISSIPATION),p(s.write.fbo),s.swap()},this.resizeCanvas=function(){var t=e.canvas;t.width===t.clientWidth&&t.height===t.clientHeight||(t.width=t.clientWidth,t.height=t.clientHeight,e.initFramebuffers())},this.applyBloom=function(t,n){var r=e.bloomFramebuffers,o=e.gl,i=e.glShader,a=e.config,s=e.blit,c=i.bloomPrefilterProgram,u=i.bloomBlurProgram,l=i.bloomFinalProgram;if(!(r.length<2)){var d=n;o.disable(o.BLEND),c.bind();var p=a.BLOOM_THRESHOLD*a.BLOOM_SOFT_KNEE+1e-4,f=a.BLOOM_THRESHOLD-p,m=2*p,h=.25/p;o.uniform3f(c.uniforms.curve,f,m,h),o.uniform1f(c.uniforms.threshold,a.BLOOM_THRESHOLD),o.uniform1i(c.uniforms.uTexture,t.attach(0)),o.viewport(0,0,d.width,d.height),s(d.fbo),u.bind();for(var v=0;v<r.length;v++){var g=r[v];o.uniform2f(u.uniforms.texelSize,1/d.width,1/d.height),o.uniform1i(u.uniforms.uTexture,d.attach(0)),o.viewport(0,0,g.width,g.height),s(g.fbo),d=g}o.blendFunc(o.ONE,o.ONE),o.enable(o.BLEND);for(var y=r.length-2;y>=0;y--){var A=r[y];o.uniform2f(u.uniforms.texelSize,1/d.width,1/d.height),o.uniform1i(u.uniforms.uTexture,d.attach(0)),o.viewport(0,0,A.width,A.height),s(A.fbo),d=A}o.disable(o.BLEND),l.bind(),o.uniform2f(l.uniforms.texelSize,1/d.width,1/d.height),o.uniform1i(l.uniforms.uTexture,d.attach(0)),o.uniform1f(l.uniforms.intensity,a.BLOOM_INTENSITY),o.viewport(0,0,n.width,n.height),s(n.fbo)}},this.update=function(){e.resizeCanvas(),e.input(),e.step(.016),e.render(null),requestAnimationFrame(e.update)},this.getResolution=function(t){var n=e.gl,r=n.drawingBufferWidth/n.drawingBufferHeight;r<1&&(r=1/r);var o=Math.round(t*r),i=Math.round(t);return n.drawingBufferWidth>n.drawingBufferHeight?{width:o,height:i}:{width:i,height:o}},this.createFBO=function(t,n,r,o,i,a){var s=e.gl;s.activeTexture(s.TEXTURE0);var c=s.createTexture();if(!c)throw new Error("texture null");s.bindTexture(s.TEXTURE_2D,c),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,a),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,a),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texImage2D(s.TEXTURE_2D,0,r,t,n,0,o,i,null);var u=s.createFramebuffer();if(!u)throw new Error("fbo null");return s.bindFramebuffer(s.FRAMEBUFFER,u),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,c,0),s.viewport(0,0,t,n),s.clear(s.COLOR_BUFFER_BIT),{texture:c,fbo:u,width:t,height:n,attach:function(e){return s.activeTexture(s.TEXTURE0+e),s.bindTexture(s.TEXTURE_2D,c),e}}},this.createDoubleFBO=function(t,n,r,o,i,a){var s=e.createFBO,c=s(t,n,r,o,i,a),u=s(t,n,r,o,i,a);return{get read(){return c},set read(e){c=e},get write(){return u},set write(e){u=e},swap:function(){var e=c;c=u,u=e}}},this.resizeFBO=function(t,n,r,o,i,a,s){var c=e.createFBO,u=e.gl,l=e.blit,d=e.glShader.clearProgram,p=c(n,r,o,i,a,s);return d.bind(),u.uniform1i(d.uniforms.uTexture,t.attach(0)),u.uniform1f(d.uniforms.value,1),l(p.fbo),p},this.loadDebugUI=function(){var t=new ge.GUI({width:300}),n=e.config;e.pointers;t.add(n,"DENSITY_DISSIPATION",.9,1).name("消散密度"),t.add(n,"VELOCITY_DISSIPATION",.9,1).name("消散速度"),t.add(n,"PRESSURE_DISSIPATION",0,1).name("消散强度"),t.add(n,"CURL",0,50).name("涡量").step(1),t.add(n,"SPLAT_RADIUS",.01,1).name("半径"),t.add(n,"COLORFUL").name("多色");var r=t.addFolder("发光设置");r.open(),r.add(n,"BLOOM").name("开启"),r.add(n,"BLOOM_INTENSITY",.1,2).name("强度"),r.add(n,"BLOOM_THRESHOLD",0,1).name("阈值"),setTimeout(function(){var e=document.querySelector(".dg.ac");e&&(e.style.zIndex="999")},0),Te()&&t.close()}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=n(51),s=r(n(26)),c=n(7);n(853);var u='\n    <div class="privacy-policy-item-conform">\n      <div class="personal-privacy-protect-item"></div>\n      <div style="display:none" class="reget-privacy-wrapper-fail">\n        <img style="width: .8rem;height: .8rem;" src="https://xj-maker-cos-1258344703.file.myqcloud.com/mp-form/assets/failed-icon.png">\n        <p style="color: #999999">协议内容获取失败</p>\n        <p style="color: #296bef" class="reget-privacy-itme">请重试</p>\n      </div>\n      <div style="display:none" class="reget-privacy-wrapper-loading">\n        <img style="width: .8rem;height: .8rem;animation: rotate 1s linear infinite;" src="https://xj-maker-cos-1258344703.file.myqcloud.com/mp-form/assets/loadingicon.svg">\n        <p style="color: #999999">加载中...</p>\n      </div>\n    </div>\n    ';t.default=function(){function e(t,n){var r=this;(0,o.default)(this,e),this.getCompanyName=function(e){null===r.policyInfo?(r.renderPrivacyLoading(e),r.isNew||s.default.fetch("".concat(c.backendUrl,"/advertiser/company?accountId=").concat(viewerData.accountId),"GET").then(function(t){var n=t.code,o=t.data.companyName;if(0===n)return r.policyInfo={companyName:o,supplementalPolicy:""},void r.renderPrivacySuccess(r.policyInfo,e);r.renderPrivacyFail(e)}).catch(function(t){r.renderPrivacyFail(e)})):r.renderPrivacySuccess(r.policyInfo,e)},this.renderPrivacySuccess=function(e,t){var n=e.companyName||"",o=r.renderSupplementalPolicy(e.supplementalPolicy),i='\n          <div class="policy-height-light-title" ><b>重要提示</b></div>\n          <p>1、本页面系由广告主或其代理方（简称“广告客户”）利用 “蹊径落地页”（简称“蹊径”）提供的技术制作，“蹊径”作为中立的技术提供方，仅基于广告客户的委托和指令代为收集和处理您的个人信息。因广告客户收集、处理您的个人信息，以及广告客户提供的相关功能、服务产生的一切问题，由广告客户负责处理并承担全部法律责任。请您仔细阅读广告客户在本页面上展示的个人信息及隐私保护协议（具体协议名称以实际展示为准），确保在完全同意相关内容的基础上提交您的信息。</p>\n          <p>2、如对广告客户收集、处理您的个人信息有任何问题，可通过邮件联系<a style="color: #296BEF" href="mailto:ads_service@tencent.com">ads_service@tencent.com</a> 获取广告客户的联系方式。</p>\n          <div class="policy-height-light-title"><b>个人信息与隐私保护条款</b></div>\n          <p style="text-indent: 0;">尊敬的用户：</p>\n          <p>1、本服务页面及本协议由'.concat(n,'（以下简称“我方”）提供。</p>\n          <p>2、我方将按照本条款的规定收集、处理您的个人信息。本协议可能涉及您个人信息权益的重要约定，请您在提供个人信息前仔细阅读。一旦您在页面上提交了相关信息，即视为您同意本协议的全部内容。</p>\n          <p>3、为了进一步向您提供商品或服务的相关信息，了解您的需求以更好地实现本广告的推广目的，实现相关营销活动（如抽奖、发券）参与等，需要您按页面的表单提交相关信息（简称“客户信息”），我方承诺将严格依照相关法律规定收集、处理您提交的信息。您有权拒绝提供上述信息，但可能无法获取进一步的广告信息。如您提供了上述信息，您应保证所有信息真实、准确、完整、有效。</p>\n          <p>4、如本服务页面涉及推荐附近门店信息的，您可自主选择填写您附近的门店，也可授权我方或蹊径获得您的地理位置信息，以实现自动在本页面向您展示您附近门店信息的功能。本页面向您申请地理位置信息，仅用于前述门店信息自动展示之目的，且仅用于当次展示。如您不同意地理位置信息的授权，您可选择“拒绝”，我方将不会自动向您推荐附近门店信息，您可通过手动选择完成该等信息的填写。</p>\n          <p>5、您同意我方可基于以下目的或原因自行或委托、安排第三方对您的个人信息进行收集和/或处理（这些第三方包括但不限于我们的经销商、广告服务合作方、数据监测合作方、客服服务商、数据分析服务商等）：（1）安排销售人员与您取得联系，向您提供更有价值的信息，实现广告推广目的；（2）用于广告投放、广告投放效果优化、广告归因、广告监测等广告业务合作；（3）用于商业性分析和洞察；（4）核验信息真实性；（5）实现本服务页面的信息展示及交互功能；（6）发送相关通知、提醒等；（7）其他法律法规许可的目的。我方会要求这些第三方按照不低于我方的安全标准保护您的客户信息。</p>\n          <p>6、我方将采取有效措施保障您的个人信息安全，因我方及我方委托的第三方收集、处理您的个人信息产生的一切问题，由我方处理、负责。</p>\n          <p>7、若您是未满18周岁的未成年人，请在您的父母或其他监护人监护、指导下共同阅读本协议。</p>\n          <p>8、如您有任何投诉、建议或咨询，或有任何基于法律法规规定的权利请求，例如查询、修改、删除、撤回授权等，请联系：<a style="color: #296BEF" href="mailto:ads_service@tencent.com">ads_service@tencent.com</a> 获取我方联系方式。</p>\n          ').concat(o,'\n          <p style="text-align: right; color: #030303;padding-left:2rem"><b>').concat(n,"</b></p>\n        ");t.classList.remove("personal-privacy-protect-item-fail-or-loading"),t.querySelector(".personal-privacy-protect-item").innerHTML=i,t.querySelector(".reget-privacy-wrapper-fail").style.display="none",t.querySelector(".reget-privacy-wrapper-loading").style.display="none"},this.renderPrivacyFail=function(e){e.classList.add("personal-privacy-protect-item-fail-or-loading"),e.querySelector(".reget-privacy-wrapper-fail").style.display="block",e.querySelector(".reget-privacy-wrapper-loading").style.display="none"},this.renderPrivacyLoading=function(e){e.classList.add("personal-privacy-protect-item-fail-or-loading"),e.querySelector(".reget-privacy-wrapper-loading").style.display="block",e.querySelector(".reget-privacy-wrapper-fail").style.display="none"},this.renderSupplementalPolicy=function(e){return e?(e=(e=e.replace(/\r\n/g,"</p><p>")).replace(/\n/g,"</p><p>"),'\n            <div class="policy-height-light-title"></div>\n            <p>'.concat(e,"</p>\n          ")):""},this.policyInfo=null,this.isNew=t,this.$PrivacyProtectionProtocolConfirm=new a.Confirm({title:"个人信息与隐私保护协议",hideTitle:!1,content:u,closeable:!0,mask:!0,cover:!0,singleAndCoverBtn:!0,maskCloseAble:!0,visible:!1,zIndex:2e3,okText:"关闭",hideCancelBtn:!0})}return(0,i.default)(e,[{key:"open",value:function(){var e=this;this.$PrivacyProtectionProtocolConfirm.open();var t=this.$PrivacyProtectionProtocolConfirm.model.$dom.querySelector(".privacy-policy-item-conform");this.getCompanyName(t);var n=t.querySelector(".reget-privacy-itme");n&&s.default.on(n,"tap",function(n){e.getCompanyName(t)})}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){A(),(0,i.isInImageParams)()&&w();var e=(0,i.throttle)(b,100);(0,i.on)(window,"scroll",e),(0,i.on)(window,"resize",e),(0,i.on)(window,"load",b);for(var t=document.getElementsByClassName("xj-images-area"),n=0;n<t.length;n++)y(t[n]);(0,i.previewShowArea)("xj-images-area")};var o=r(n(3)),i=n(2),a=n(87),s=n(12);n(846),n(385);var c=r(n(142)),u=n(114),l=r(n(1)),d=n(489),p=n(115);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h={},v=[],g=!1;function y(e){var t=JSON.parse(e.getAttribute("data-area"));if("popup"===t.link.linkType&&t.popupConfig&&t.popupConfig.autoPop&&(c.default.init(t.popupConfig),c.default.show(t.popupConfig.id)),"link"===t.link.linkType&&p.CommonHelpers.recordLinkButtonDOM(e),(0,i.on)(e,"click",function(e){var n=[];if("link"===t.link.linkType){var r=new s.Report;n.push(r.dmpReport({actionType:s.REPORT_TYPE.LINK,customAction:""})),n.push(r.dmpReport({map:s.REPORT_TYPE_MAPS.NEW_GAME_ORDER}))}var o=m({},t.link);if("popup"===t.link.linkType&&t.popupConfig&&(o.popupConfig=t.popupConfig),t.link.linkType,"miniProgram"===t.link.linkType)return(0,d.checkAndJumpMiniProgram)(m(m({},o),{},{clipboardConfig:t.clipboardConfig}),e);if("hapLink"===t.link.linkType&&o.hapLink&&(0,u.shouldOpenHaplink)())(0,u.checkAndJumpQuickApp)(m(m({},o),{},{clipboardConfig:t.clipboardConfig}),e);else{if("miniGame"===t.link.linkType&&o.miniGame&&(o.miniGame.userName||o.miniGame.originId))return(0,d.checkAndJumpMiniGame)(m(m({},o),{},{clipboardConfig:t.clipboardConfig}),e);(0,i.jumpLinkCommonFunction)({type:t.link.linkType,data:m(m({},o),{},{clipboardConfig:t.clipboardConfig}),event:e,dmpPromiseList:n}),e.preventDefault()}}),t&&t.link&&t.link.linkType){var n=t.link,r=n.linkType,o=n.miniProgram_id,a=n.miniProgram_link,l=n.miniGame,f=n.hapLink;switch(r){case"miniProgram":a&&o&&(0,u.checkAndPreloadMiniProgram)(t.link,{target:e});break;case"miniGame":if(l&&(l.userName||l.originId)){var h={miniProgram_id:"auth"===l.configType?l.userName:l.originId,miniProgram_link:""};(0,u.checkAndPreloadMiniProgram)(h,{target:e},"miniGame")}break;case"hapLink":f&&(0,u.shouldOpenHaplink)()&&new u.AutoJumpQuickApp(t.link,"XJImages")}}}var A=function(){try{if(0==Array.from(document.getElementsByClassName("xj-lazy-img")).length)return;b()}catch(e){console.error("XJImages onload error",e)}},_="//".concat(l.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/img/default-small.png"),b=function(e){for(var t=document.documentElement.clientHeight,n=document.getElementsByClassName("xj-lazy-img"),r=document.getElementsByClassName("xj-images-lazy-loading"),o=function(e){if(n[e].getBoundingClientRect().top-50<t||g){var o=n[e].getAttribute("gaussian-image"),i=n[e].getAttribute("data-image"),s=n[e].getAttribute("padding-value");if(!n[e].getAttribute("src")&&o&&void 0!==s){var c=375-s,u=n[e].getAttribute("data-size");if(u&&(u.indexOf("px")>=0&&parseInt(u,10)>375||parseInt(u,10)>30720)){var l=new Image;l.onload=function(){r[e]&&(r[e].style.display="none");var t=new Image;t.onload=function(){var r=(0,a.pxToRem)(t.height*c/t.width);r!=(0,a.pxToRem)(n[e].getBoundingClientRect().height*c/n[e].getBoundingClientRect().width)&&(n[e].style.height="".concat(r,"rem")),n[e].src=null,n[e].src=i,h.loadedImageUrl=i},t.src=i},n[e].src=o,l.src=o}else{var d=new Image;d.onload=function(){r[e]&&(r[e].style.display="none");var t=(0,a.pxToRem)(d.height*c/d.width);t!=(0,a.pxToRem)(n[e].getBoundingClientRect().height*c/n[e].getBoundingClientRect().width)&&(n[e].style.height="".concat(t,"rem")),h.loadedImageUrl=i},n[e].src=i,d.src=i}}else if(n[e].getAttribute("src")||o||void 0===s)n[e].getAttribute("src")==_&&(r[e]&&(r[e].style.display="none"),n[e].src=n[e].getAttribute("data-image"));else{var p=375-s,f=new Image;f.onload=function(){r[e]&&(r[e].style.display="none");var t=(0,a.pxToRem)(f.height*p/f.width);t!=(0,a.pxToRem)(n[e].getBoundingClientRect().height*p/n[e].getBoundingClientRect().width)&&(n[e].style.height="".concat(t,"rem")),h.loadedImageUrl=i},n[e].src=n[e].getAttribute("data-image"),f.src=n[e].getAttribute("data-image")}}},i=0;i<n.length;i++)o(i)},w=function(){try{Object.defineProperty(h,"loadedImageUrl",{set:function(e){v.push(e),T()}}),Object.defineProperty(h,"isFirstScreenImageLoaded",{set:function(e){g=e,b()}})}catch(e){}},T=function(){if(!g){for(var e=document.documentElement.clientHeight,t=document.getElementsByClassName("xj-lazy-img"),n=[],r=!0,o=0;o<t.length;o++){var i=t[o].getBoundingClientRect().top;if(t[o].getBoundingClientRect().bottom>0&&i<e){var a=t[o].getAttribute("data-image");n.push(a)}}for(var s=0;s<n.length;s++){for(var c=!1,u=0;u<v.length;u++)n[s]==v[u]&&(c=!0);c||(r=!1)}r&&(h.isFirstScreenImageLoaded=!0)}}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var o=n(12),i=(n(369),n(2)),a=n(550),s=n(116);n(487),n(848);var c=n(11),u=r(n(1)),l=r(n(37)),d=n(310),p=r(n(614));function f(){for(var e=document.getElementsByClassName("xj-contact-item"),t=new o.Report,n=["MINIGAME_INTERACTION","WEBSITE_INTERACTION"].includes(u.default.playableType),r=function(r){var u,f=e[r].getAttribute("data-key"),m=JSON.parse(e[r].getAttribute("data-value"));"phone"===f?u=o.PHONE_TYPE:"qq"===f||"online"===f?u=o.ONLINE_TYPE:"link"===f?u=o.REPORT_TYPE.LINK:"attention"===f&&(0,p.default)(),(0,i.on)(e[r],"click",function(p){l.default.sendRPT(l.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),"qq"===f&&t.dmpReport({actionType:o.REPORT_TYPE.CONSULT,customAction:"",consultType:u}),"link"===f&&(t.dmpReport({actionType:o.REPORT_TYPE.LINK,customAction:""}),t.dmpReport({map:o.REPORT_TYPE_MAPS.NEW_GAME_ORDER})),"phone"===f?(0,a.phoneCall)(e[r],r,p):"online"===f?((0,c.TdwReportTrigger)(p,{action_type:"multi_consult_btn_click",status:m},!0),setTimeout(function(){n?(0,d.triggerConnect)(p,p.target,m.dialogConfig,{connectLink:m.connectLink,connectType:m.connectType,smartLink:m.smartUrl}):m.connectType&&"smart"===m.connectType?"2"===m.connectSmartType&&m.weixinCustomerServiceSrc?(0,i.generateConsultWechatServiceUrl)(m.weixinCustomerServiceSrc).then(function(e){e&&(location.href=e)}):m.smartUrl&&(0,s.smartConsult)(m.smartUrl):(t.dmpReport({actionType:o.REPORT_TYPE.CONSULT,customAction:"",consultType:o.ONLINE_TYPE}),(0,i.jumpLinkCommonFunction)({type:f,data:m}))},n?0:500)):n&&"form"===f?(document.querySelector(".xj-website-form").style.display="",window.XJViewer.XJWebForm&&window.XJViewer.XJWebForm.showFormForInteractive()):n&&"attention"===f?document.querySelector(".xj-wx-attention-btn").click():(0,i.jumpLinkCommonFunction)({type:f,data:m})})},f=0;f<e.length;f++)r(f);n&&function(){var e=document.querySelector(".xj-interact-float-wrapper");if(!e)return;var t=document.querySelector(".xj-contact-toggle-btn");v(),(0,i.isPreviewPage)()&&m();t.addEventListener("click",function(){m()}),e.addEventListener("touchstart",function(t){var n=t.targetTouches[0].clientX-e.offsetLeft,r=t.targetTouches[0].clientY-e.offsetTop,o=e.offsetWidth,i=e.offsetHeight,a=document.documentElement.clientWidth,s=document.documentElement.clientHeight,c=20,u=15;function l(t){t.preventDefault();var l=t.targetTouches[0].clientY-r;l<c?l=c:s-l-i<c&&(l=s-i-c),e.style.top=l+"px";var d=t.targetTouches[0].clientX-n;d<u?d=u:a-d-o<u&&(d=a-o-u),e.style.left=d+"px"}e.addEventListener("touchmove",l,!1),e.addEventListener("touchend",function t(){e.offsetLeft<a/2?e.style.left=u+"px":e.style.left=a-o-u+"px";v();e.removeEventListener("touchmove",l,!1);e.removeEventListener("touchend",t,!1)},!1)},!1)}()}function m(){var e=document.querySelector(".xj-interact-float-wrapper"),t=e.querySelectorAll(".xj-contact-item"),n=e.querySelector(".xj-contact-toggle-btn"),r=n.querySelector("span"),o=h(),i=e.classList.contains("xj-interact-float-wrapper-reverse");n.dataset.collapse?(n.dataset.collapse="",i?r.className="icon-common-down":(e.style.top="".concat(o+48*(t.length-1),"px"),r.className="icon-common-up"),t.forEach(function(e){e.dataset.isMainTransform||(e.style.display="none")})):(n.dataset.collapse="true",i?r.className="icon-common-up":(e.style.top="".concat(o-48*(t.length-1),"px"),r.className="icon-common-down"),t.forEach(function(e){e.style.display="flex"}))}function h(){var e=0,t=document.querySelector(".xj-interact-float-wrapper");if(t){var n=t.style.top.match(/(\d+(\.\d+)?)(%|px)/),r=document.documentElement.clientHeight;n&&("%"===n[3]?e=r*Number(n[1])/100:"px"===n[3]&&(e=Number(n[1])))}return e}function v(){var e=document.querySelector(".xj-interact-float-wrapper"),t=document.querySelector(".xj-contact-toggle-btn").querySelector("span");h()<=120?(e.classList.add("xj-interact-float-wrapper-reverse"),t.className="icon-common-down"):(e.classList.remove("xj-interact-float-wrapper-reverse"),t.className="icon-common-up")}f.triggerMainTransform=function(){document.querySelector(".xj-main-contact-item").click()}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-button-wrapper"),t=function(){var t=e[n],r=JSON.parse(t.getAttribute("data-value")),o=JSON.parse(t.getAttribute("data-pop")||"{}"),f=r.linkType;"link"===f&&p.CommonHelpers.recordLinkButtonDOM(t);var E=r.reservationId,S=b(i.default.get("skey")||""),O=t.querySelector("span");"reservation"===f?window.sfetch("//act.qzone.qq.com/v2/vip/tx/pd/trpc/adv/report/getsubscribe?id=".concat(E,"&g_tk=").concat(S),{method:"get",credentials:"include",mode:"cors"}).then(function(e){200===e.status&&e.json().then(function(e){100===e.code&&(a.default.success(y),O.innerText=y)})}):"popup"===f&&o&&o.autoPop&&(d.default.init(o),d.default.show(o.id)),(0,s.setBtnGestureAnimation)(t,"XJWebsiteH5Button");var I=r.enabledClickJump,C=r.clickJumpUrl;(0,s.on)(t,"click",function(e){var n=JSON.parse(t.getAttribute("data-clipboard")||"{}");if("reservation"===f){(0,s.clipBoard)(n);var i=Date.now();a.default.success("预约提交中..."),window.sfetch("//act.qzone.qq.com/v2/vip/tx/pd/trpc/adv/report/noticesubscribe?id=".concat(E,"&g_tk=").concat(S),{method:"get",credentials:"include",mode:"cors"}).then(function(e){200===e.status?e.json().then(function(e){var t=e.message;0===e.code?(A(i,v),O.innerText=g,w(I,C)):-4===e.code?(A(i,y),O.innerText=y,w(I,C)):(_(t,i),w(I,C))}).catch(function(e){_(h,i),w(I,C)}):(_(h,i),w(I,C))}).catch(function(e){_(h,i),w(I,C)}),window.mqq&&window.mqq.invoke("Qzone","reserveAdvertise",{param:{orderid:E}})}else{var d=[];if("link"===f){var p=new l.Report;d.push(p.dmpReport({actionType:l.REPORT_TYPE.LINK,customAction:""})),d.push(p.dmpReport({map:l.REPORT_TYPE_MAPS.NEW_GAME_ORDER}))}var b=m({},r);if("popup"===f&&o&&(b.popupConfig=o),"miniProgram"===f)return(0,u.checkAndJumpMiniProgram)(m(m({},b),{},{clipboardConfig:n}),e);if("hapLink"===f&&b.hapLink&&(0,c.shouldOpenHaplink)())return void(0,c.checkAndJumpQuickApp)(m(m({},b),{},{clipboardConfig:n}),e);if("miniGame"===f&&b.miniGame&&(b.miniGame.userName||b.miniGame.originId))return(0,u.checkAndJumpMiniGame)(m(m({},b),{},{clipboardConfig:n}),e);(0,s.jumpLinkCommonFunction)({type:f,data:m(m({},b),{},{clipboardConfig:n}),event:e,dmpPromiseList:d})}}),T(t,r);var P=m({},r);switch(f){case"miniProgram":P.miniProgram_id&&P.miniProgram_link&&(0,c.checkAndPreloadMiniProgram)(P,{target:t});break;case"miniGame":if(P.miniGame&&(P.miniGame.userName||P.miniGame.originId)){var k={miniProgram_id:"auth"===P.miniGame.configType?P.miniGame.userName:P.miniGame.originId,miniProgram_link:""};(0,c.checkAndPreloadMiniProgram)(k,{target:t},"miniGame")}break;case"hapLink":P.hapLink&&(0,c.shouldOpenHaplink)()&&new c.AutoJumpQuickApp(P,"XJWebsiteH5Button")}},n=0;n<e.length;n++)t()};var o=r(n(3)),i=r(n(129)),a=r(n(85)),s=n(2),c=n(114),u=n(489);n(850);var l=n(12),d=r(n(142)),p=n(115);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h="活动预约失败, 请稍后重试",v="活动预约成功, 我们将通过QQ提醒下发消息通知您",g="活动预约成功",y="您已预约过本次活动~",A=function(e,t){a.default.success(t),(0,s.gxtReport)("xj_qq_reservation_rate",{code:0,val:Date.now()-e})},_=function(e,t){a.default.error(e),console.warn(e),(0,s.gxtReport)("xj_qq_reservation_rate",{code:1,val:Date.now()-t})},b=function(e){for(var t=5381,n=0;n<e.length;n++)t+=(t<<5)+e.charAt(n).charCodeAt();return 2147483647&t},w=function(e,t){e&&t&&setTimeout(function(){location.href=t},1e3)},T=function(e,t){if(e.classList.value.includes("right-fixed-style")){var n=t.rightFixed;if(!n||!n.enabledDynamic)return;var r=e.getElementsByClassName("right-fixed-btn"),o=Array.prototype.slice.call(r),i=o.length,a=0;setInterval(function(){o.forEach(function(e){e.classList.remove("dynamic-btn")}),o[a].classList.add("dynamic-btn"),a=a>=i-1?0:a+1},1e3)}}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var o=n(2),i=n(550);n(487),n(852);var a=r(n(37)),s=n(2);function c(){for(var e=document.querySelectorAll(".xj-phone"),t=document.getElementsByClassName("xj-horizontal-wrapper xj-phone-container"),n=0;n<t.length;n++){var r=t[n].getAttribute("tobutton-by-percentage");if(r){var c=window.innerHeight,u=(c-t[n].offsetHeight)*r/c;t[n].style.bottom="".concat(u,"%")}}for(var l=function(t){(0,o.on)(e[t],"click",function(n){a.default.sendRPT(a.default.RPTTYPE.INTERACTIVE_TRANSFORM_START),(0,i.phoneCall)(e[t],t,n)}),(0,s.setBtnGestureAnimation)(e[t],"XJPhone")},d=0;d<e.length;d++)l(d)}c.showPhone=function(e){e.style.display="block"},c.triggerPhone=function(e,t,n){(0,i.phoneCall)(e,t,n)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t={scenes:[],dialogType:"",questions:[],showType:E.TEXT,welcomes:[],finishText:[],finishEnable:!1},n=function(e,t){"gxt report: ".concat(e.attr),e&&(0,c.default)(e)};n&&n({attr:"playable_dom_ready",val:1,count:1,from:"question_and_answer"},"c0055bbe00dee90e"),window.addEventListener("load",function(){window.viewerUtils.sendRPT(window.viewerUtils.RPTTYPE.GAME_RESOURCE_LOAD_COMPLETED),n&&n({attr:"playable_onload",val:1,count:1,from:"question_and_answer"},"c0055bbe00dee90e")});var r,b=document.querySelectorAll(".xj-interactive-game")[0],O=document.querySelector(".xj-qa-option");function I(e){return C.apply(this,arguments)}function C(){return(C=(0,s.default)(o.default.mark(function e(n){var i,s,c,u,l,d,f,m,h,v,g,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,s=n.type,c=n.content,u=n.tpl,l=n.tts,d=n.waitAudio,f=c.replace(/<div class="media-wrap image-wrap"><img (.+?)><\/div>/g,'<span class="xj-rich-editor__wxAttention wxNumber-slot" style="position:relative;"></span>'),s===T.REPLY&&(f=(f=f.replace(/<span class="xj-qa-dialog__loading">(.+?)<\/span>/g,"")).replace(/<div class="xj-qa-dialog__reply-text" style="display: none">((\n|\s|.)+?)<\/div>/,"$1")),m=Math.round(Math.max(l.duration,1)),h={id:i,avatar:s===T.ANSWER?p.default:t.scenes[0].avatar,content:f,showType:E.TTS,duration:m,canAutoPlay:r.isUnlock(i),audioWidth:Math.min(145/30*m+35,200)},v=u(h),g=document.createRange().createContextualFragment(v).childNodes,y=(0,a.default)(g).find(function(e){return e.classList&&e.classList.contains("xj-qa-dialog")}),document.querySelector(".xj-qa-content").appendChild(y),document.querySelector(".xj-qa-main").scrollTop=99999,s===T.ANSWER){e.next=16;break}return e.next=13,new Promise(function(e){setTimeout(function(){r.playOp({onStart:function(){y.querySelector(".xj-qa-dialog__text").style.display="none",y.querySelector(".xj-qa-dialog__tts").style.display="flex"}}).then(function(){e()})},1e3)});case 13:return y.querySelector(".xj-qa-dialog__tts-unread").addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("xj-qa-dialog__tts-unread-transform")&&r.showText(i,{autoShowText:!0})}),y.querySelector(".xj-qa-dialog__tts-audio").addEventListener("click",function(){r.togglePlay(i)}),e.abrupt("return",r.play(i,{waitAudio:d}));case 16:return r.stopAll(),e.abrupt("return",r.waitUnlock());case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e){var n=e.id,o=e.type,i=e.content,s=e.tpl,c=i.replace(/<div class="media-wrap image-wrap"><img (.+?)><\/div>/g,'<span class="xj-rich-editor__wxAttention wxNumber-slot" style="position:relative">\n                <span class="xj-rich-editor__wxContent">微信号:</span>\n                <span class="xj-rich-editor__wxAccount">xxxx</span>\n                <span class="xj-rich-editor__wxContent">（长按复制）</span>\n            </span>'),u={id:n,avatar:o===T.ANSWER?p.default:t.scenes[0].avatar,content:c},l=s(u),d=document.createRange().createContextualFragment(l).childNodes,f=(0,a.default)(d).find(function(e){return e.classList&&e.classList.contains("xj-qa-dialog")});return document.querySelector(".xj-qa-content").appendChild(f),document.querySelector(".xj-qa-main").scrollTop=99999,c.includes("wxNumber-slot")&&f.querySelectorAll(".wxNumber-slot").forEach(function(e){return window.XJViewer.WXAttention.bindOuterTriggerDom(e,0,!0)}),o===T.REPLY?new Promise(function(e){setTimeout(function(){f.querySelector(".xj-qa-dialog__loading").style.display="none",f.querySelector(".xj-qa-dialog__reply-text").style.display="block",document.querySelector(".xj-qa-main").scrollTop=99999,e()},1e3)}):o===T.ANSWER?(r.stopAll(),r.waitUnlock()):Promise.resolve()}function k(e){return x.apply(this,arguments)}function x(){return(x=(0,s.default)(o.default.mark(function e(t){var n,r,a,s,c,u,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.type,a=t.content,s=t.waitAudio,c=window.XJ_INTERACTIVE_SDK.TTSUtils.get(n),u=(0,i.default)((0,i.default)((0,i.default)((0,i.default)({},T.WELCOME,f.default),T.QUESTION,m.default),T.ANSWER,h.default),T.REPLY,v.default),l=u[r],!c){e.next=6;break}return e.abrupt("return",I({id:n,type:r,content:a,waitAudio:s,tpl:l,tts:c}));case 6:return e.abrupt("return",P({id:n,type:r,content:a,tpl:l}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var N=(q=(0,s.default)(o.default.mark(function e(n,i){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.QAInitialized=!0,t.scenes=n,t.dialogType=n[1].dialogType,t.questions=t.dialogType===w.INTERVIEW?[]:n[1].conversations,t.welcomes=n[1].welcomeContext,t.finishText=n[1].finishText||[],t.finishEnable=n[1].finishEnable||!1,document.querySelector("video")&&((0,d.judgeClient)()===d.judgeClient.SYS.IOS&&(document.querySelector("video").style.marginTop="".concat(.8,"rem")),l.default.playVideoByDOM(document.querySelector("video"))),document.querySelector(".xj-qa-bg").lastElementChild.addEventListener("load",function(){window.XJ_INTERACTIVE_SDK.invoke("timing",window.XJ_INTERACTIVE_SDK.TIMING.LOADED)}),r=new g.TTSHelper,e.next=12,r.waitDetectAutoPlay();case 12:if(!n[1].welcomeEnable){e.next=15;break}return e.next=15,t.welcomes.reduce(function(e,t,n){return e.then(function(){return 0===n&&window.XJ_INTERACTIVE_SDK.invoke("timing",window.XJ_INTERACTIVE_SDK.TIMING.START),Promise.all([k({id:S(T.WELCOME,n),type:T.WELCOME,content:t,waitAudio:!0}),new Promise(function(e){setTimeout(function(){e()},500)})])})},Promise.resolve());case 15:t.dialogType===w.INTERVIEW&&window.XJ_INTERACTIVE_SDK.QaCanvasUtils.init({dataSource:"scenes[1].interviews"}),L({pos:n[1].dialogType===w.INTERVIEW?void 0:0,btnStyle:n[0].btnStyle});case 17:case"end":return e.stop()}},e)})),function(e,t){return q.apply(this,arguments)}),D=function(e){var t=document.querySelector(".xj-qa-content"),n=e.clientHeight,r=parseFloat(window.getComputedStyle(e).getPropertyValue("bottom"));t.style.marginBottom="".concat(n+r,"px"),document.querySelector(".xj-qa-main").scrollTop=99999},R=function(){if(u.default.isContact){var e=document.querySelector(".xj-interact-fixed-wrapper");e&&(e.style.display="flex",D(e))}else if("websiteConnect"===u.default.transformType){var t=document.querySelector(".xj-website-connect-content");t&&(t.style.display="",D(document.querySelector(".xj-connect-container")))}else if("websitePhone"===u.default.transformType){var n=document.querySelector(".xj-phone");n&&(n.style.display="",D(document.querySelector(".xj-phone-container")))}else"websiteWXAttention"===u.default.transformType?D(document.querySelector(".xj-wx-attention-container")):"websiteMiniProgram"===u.default.transformType?D(document.querySelector(".xj-mini-program-container")):"websiteHapLink"===u.default.transformType&&D(document.querySelector(".xj-website-hap-link-container"))},j=function(e){var n=e.pos;if(t.dialogType===w.INTERVIEW){var r=window.XJ_INTERACTIVE_SDK.QaCanvasUtils.get(n?{optionId:n}:null);return r?{id:r.id,question:r.question,questionText:r.question,answer:r.options.map(function(e){return{id:e.id,context:e.content,reply:"",replyText:""}})}:null}return t.questions[n]},L=(G=(0,s.default)(o.default.mark(function n(r){var i,a,s,c,u,l,d;return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.pos,a=r.btnStyle,s=j({pos:i})){n.next=8;break}return n.next=5,B();case 5:return c=t.finishEnable&&t.finishText&&t.finishText[0]&&t.finishText[0].text?800:0,setTimeout(function(){window.XJ_INTERACTIVE_SDK.invoke("timing",window.XJ_INTERACTIVE_SDK.TIMING.END),(0,A.getAlitaLeadsUuid)()||R()},c),n.abrupt("return");case 8:if(!(s.answer&&s.answer.length>=2)){n.next=25;break}return n.prev=9,n.next=12,k({id:t.dialogType===w.INTERVIEW?s.id:S(T.QUESTION,i),type:T.QUESTION,content:s.questionText?s.question:"提示展示位"});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(9),console.error(n.t0);case 17:O.className+=" option-".concat(s.answer.length),O.style.display="flex",u=_(s.answer);try{for(u.s();!(l=u.n()).done;)d=l.value,O.innerHTML+='<button class="xj-qa-option__btn" style="background-color: '.concat(a.backgroundColor,"; color: ").concat(a.color,';">').concat(d.context||"选项","</button>")}catch(e){u.e(e)}finally{u.f()}O.childNodes.forEach(function(n,r){n.onclick=M.bind(e,{btnStyle:a,question:s,answer:s.answer[r],answerPos:r,pos:i,nextPos:t.dialogType===w.INTERVIEW?s.answer[r].id:i+1})}),setTimeout(function(){document.querySelector(".xj-qa-main").scrollTop=99999},10),n.next=26;break;case 25:L({pos:i+1,btnStyle:a});case 26:case"end":return n.stop()}},n,null,[[9,14]])})),function(e){return G.apply(this,arguments)}),M=(F=(0,s.default)(o.default.mark(function e(n){var r,i,a,s,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.pos,i=n.nextPos,a=n.question,s=n.answer,c=n.answerPos,u=n.btnStyle;try{window.XJ_INTERACTIVE_SDK.invoke("setExtraData",{key:a.questionText,value:s.context})}catch(e){console.error("设置额外表单信息异常")}return clearTimeout(void 0),e.next=5,k({id:t.dialogType===w.INTERVIEW?i:S(T.ANSWER,r,c),type:T.ANSWER,content:s.context||"点击按钮后内容展示位"});case 5:if(O.className="xj-qa-option",O.innerHTML="",O.style.display="",!s.replyText){e.next=11;break}return e.next=11,k({id:S(T.REPLY,r,c),type:T.REPLY,content:'<span class="xj-qa-dialog__loading"><i></i><i></i><i></i></span><div class="xj-qa-dialog__reply-text" style="display: none">'.concat(s.replyText?s.reply:"提示展示位","</div>"),waitAudio:!0});case 11:setTimeout(function(){return L({pos:i,btnStyle:u})},500);case 12:case"end":return e.stop()}},e)})),function(e){return F.apply(this,arguments)}),B=(U=(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.finishEnable||!t.finishText.length){e.next=3;break}return e.next=3,t.finishText.reduce(function(e,t,n){return e.then(function(){if(t.text)return Promise.all([k({id:S(T.FINISH,n),type:T.QUESTION,content:t.text}),new Promise(function(e){setTimeout(function(){e()},500)})])})},Promise.resolve());case 3:case"end":return e.stop()}},e)})),function(){return U.apply(this,arguments)});var U;var F;var G;var q;try{var W=JSON.parse(b.dataset.config);window.QAInitialized||y.DelayEvent.onReady(y.EVENTS.INTERACTIVE_GAME_INIT,function(){N(W.scenes,W)})}catch(e){}};var o=r(n(14)),i=r(n(3)),a=r(n(24)),s=r(n(21)),c=r(n(6)),u=r(n(1)),l=r(n(308)),d=n(44);n(855);var p=r(n(856)),f=r(n(857)),m=r(n(858)),h=r(n(859)),v=r(n(860)),g=n(861),y=n(341),A=n(386);r(n(120));function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w={NORMAL:"normal",INTERVIEW:"interview"},T={WELCOME:"welcome",ANSWER:"answer",QUESTION:"question",REPLY:"reply",FINISH:"finish"},E={TEXT:"text",TTS:"tts"},S=function(e,t,n){return e===T.WELCOME?"scenes[1].welcomeContext[".concat(t,"]"):e===T.QUESTION?"scenes[1].conversations[".concat(t,"].questionText"):e===T.ANSWER?"scenes[1].conversations[".concat(t,"].answer[").concat(n,"].context"):e===T.REPLY?"scenes[1].conversations[".concat(t,"].answer[").concat(n,"].replyText"):e===T.FINISH?"scenes[1].finishText[".concat(t,"].text"):""}},function(e,t,n){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA4iSURBVHgB3V17dBTVGf9m9pXNYxMEQ3gEVpFHaqyJCu1RkADaqtUSevRg+wcB23Ls8VjgVP8wp21Ie2r/0HMA0dNqVYL2tL6qUFs5Vm0CPloBTaxIAvjYyNMASTab1z6n33dnZpld9jF3ZjYb+R0u92Z2ZufOb77Hvd99rAB5hCRJZZjVYZqJqQaTV0mgyVX0Y/Jp8m5MbZg6BEHohzxBgDGEhjBKyyUJvOEYQAwL0RgmicryuWoeryjWVFRyGyVRADsmKuMxH8hk7qR8LAkdEwKRuDrM1mGqQ8LKQpEYyMSBJZAJBSiwi0gqO9SCaScSuQNyjJwRqEgbkbZeJS0Uo+OQU6BQMhIVMn14aCOm3UimD3IAywnUEheKQtkoEof/8gKSzAK7AC47I68FSWwGi2EpgUjeasyaQlHJOxyWLFNRsyCpdJ8jciMSuR0sgiUEInFezLahqtaNhPMncdlARHpcIuVkGzdYodamCUTy1qGgbRwJS6iu40TksoCk0e1gnnq9WWk0TKBi65pQTdcPBGOm1DXg74d3dv0dDn/yEZz6shs+PfARHvPD4MC51siUyplQMWMmXFZ9Jcy+/EqovfZ6mDLDC0ahkcbNSOIGMAhDBCoq+0owItUMo9QZ8axE2otPbIX2d3dD+3t7wAhmV38T7lj7c8NkCoptREfTgX+uMKLS3AQq5LWiynpHDKisStwLj29NkDCzuPnOVXDXfb80RKSi0j4sLuElkYtAlTz0sF4j9u7ph35rOXHJuOv+X7HEC5cdoMgh+oCTRN0EquQNhiRvKMpH3km0aw+svp3ZtrFABdrLra+8wS2NThtAsZOPRFHPSVrJ4yXvteeegTVL548ZeYRTR7thzbIF8PaunVzXYcMfhsIxLxZblWfOCl0SiF/WjjavhtfmkcpSyieMqLRiE8mxLMkWmLBBFiB5m9De1X8dySOoHr72usW6r6GOADZvKjDaU9Dc3Px6pnMzSiB1zbB9t82P7TyepsoeVJ3GhjtgPKHxkSfhFvTUekFNnFK5nUg9ls1pz0v3gWID2vtHY2U8jWRyGGTzculpjaC4tAy2vbWXy7GIMon9SGZtOqeSyYlsou4Zbw/j3hU3jDvyCIPY/mzElgAP6NmHIzHqcW1Ld05KAhXVNWT3yAOOVxw58D9uuxyMkE2U6pCThlSfp1RhPPkLVF0vr+recc1sGO8gVX5p/2GW6wUFaLHf7MNibbJXPk8CkbymIMbzeFX36Yfz73H1gFT5BexK8oC8MsU4sbg++bMECVQbzBeq9KkwIoXkUMoKRJK+S7RSmCyBdUakr/293fB1ghEpJE5QConxBClMJrBpNMwfJHjxiUcgn5hXNQ94YeSlKwGUddpjcQJRfesxGu/l7Ooy9SXvlk/Ur1gBvGh/dw+TRB6QLUSPXKYM0zJoJbA+aGAwYzyo77IbloER7MEoOC+oWQMaKWQEKuH5BiODQWMZZUkFUt9p06ZB1Tx+NTZS95DsIOoUzuISWGd0psCRPBM4FckjzDVgB08e42/0U0yA1BiLLDqhEmhIfQn57nmokjevqgp4ceRjYy9fUeMl9J9dObY4anAs96QJAufhw9ODkxqWeEqQjCqWe0pKMPcknBsYGICBQACOHz+O5QB0dXZCV1dX3P4Z8cSDA34wgjBTVWE50LAo6TKKZV/fqDEGF5Y7dZ87f8ECWPCt+SwnyUkmyQyI1EcffRT2vb+XEasX7/SEwAgmFIgU8ppABJL9aw0Ec0MgSQZJyapVqywlLBNISt968y14dvszrJwJRgksdgo4hiLUE4EbsYHYNGygAU1IRyBJ2T333gMLMM8n9u7dC49tfQz2YZ4KRgksdLDx5A1EYMtQSGoIRq0l8OChThhP+Mbc1E7GKIEumwBFTqGFvPDMaK4n7V2AUDjzEoFlVvJXUuiGn972naznHfr8GCy6cwPc8uNGLB8FXvBe37R6JUyZeBFYBaXNzAj0WjUbbc70abDzwUZYq4PAX29ugcDQMJzoOQsPPfkC8IL3+luvnQ+P33c3zKmcClbCMgmkt/tHrCBJoB4c+uKc1Oz/+DDwwsj1rI6/+JklkqiVQEuw9rYbdZNHuOaKOfHy3EsrgRdGr6c6Nq1ZCVbBMgIX11RznX//T1bC1PKJUFJUCL9Ztxp4Yeb6OdOtU2M75AlzL50Orz31IBiF2eutAkmgT7RgpvThYyfg64LdHQfALASZs37TKkxTbwnN256DwPAIjHdQHZ949V+szDOolAxF6HymJbBCIfDk2T64++E/wImzvYknRKMQG+iDaO9piJ7tgVjAz45ZDh33IfKojlRXAk0RNgqFMiaB3TbBOIOzq6+Ml0mNqYL/eG+ffAAfIOrvBSkcji9RkkJBdiwTiZF9HSxBMIgjOcFzf6eDjvv8CaVueePvEkwNTVY3CoUzJoEdNhOKvOjm7yf8TW+3ueV5Vo4ND6Ze24XHYkMDkA50hYTkhZG08P4OVs7UVNVzH1LbwPAoJNZ9ORiFwlm3aRWmeXepVIECoCQF6SBFImk/s19RBWL5JCzYWbLNmAb22vTNpGz3oVhhMsj01F53PRiFsqixjbI2h0k3TEsNkkHRY8hkGjJ0f4QCF9jmzALHt69mSZwxHQR7hhZXlvukigkamYiuhaLCHSJNU6D1tmY4pImLtFZDC4oMZ3powekCI5BC4fO/K8t9kgkk6eOZbJkMUl/ijLhTrd9Op82cFDZufQqKPeeaBZ0YVheLPamlA4+JRcXAC2lwCEJ/exXC7yQGR7PdRxtMZTP4d7wBZmCX79XG7q0ca3NknS2dGVOUiqkk/htD6iDawFaGHXdV2ujGdod8TEy8YbTzMDqNdoid6kmQMioTcdGDhyD0eqv8mdORePMs96HwPoHq9vvtL2FdvWAGLlng2WJuRqUySPwFDiyZjszQOPEDDbez4c6WZ7frDukH//pySvVMhjj5YnAsXYSq6QA96Orsgh/Ur2Dk0QvWNruMQJmlRcUJcRVWpmu1uUyqMYEquHXHm0xVdrysf8W947tLwVY1hxGkJYfKAgYMbBjHcyxZCM6bluomj/AMDiyRfd7Wutc0eayesrNoUae4xRmTR+ckHJ2zLjxNi2x+dPNiEGMRyAdioh3+smu3KYeRDI+LbXZRjwSyVTzJEyz7BoKxMisXTNsjI+AJ8AUa4r2O4kJ0eWgre/tZbp9fw/M1MFhUDiFnCVgF8r6lLpG87yXqseQ+yBbaY8BKROxuGHWVcl2j9kQk7NVIPWdYY5hXL+ieVpJHKJBN3EbtsWQJZM6Ed21INghSDEpQCu3RoO5rJD/2ZEbl84XiImYH9YJU1++pBEmwLF6sOg8fJC1ETLiDYhi30KCxlaAHGSyuYA+mF0KphzkU5lQ4yRsomWopeQS3rJnbkxfcnMeUIoXtaAu9Vm8eQc7EEzieM6cStbkgUDwZSdTvpfVAlT6t7Yt/lnxAkcJmt8VSSFBVi9cm6gF9J0me1eQRaG8FSLJ9KjKtlaP1wXW52onDGQpA4UivaWmkl0LelpxVLkCChOq7AwUr5UTsjIsNkbp2v8UOJRlEZMFoPzoYvjkqYXsBBF0eyz2tFpq1IWkXG2Zb7roeydvEu9zVCGwf/hNsbjc4Cj1gczrB5nCBYJOdjhTFZkwsCqHBAESC2C8eHYZo7a2QS2iWu67OtLeMPfOXCJtJEtErrxsK5YbBYFiCU30xmFtUAsOnj8Po2a+yXlNYPg2O9cbgohIBXDmw1QTyukjelmwb8+hpV2zEPvLimANqRsLWkEikHfwyBieRBCKPUHNVBYQCfRBB6coEW4Eb3BMnw679cuChYoIIM8tFmIGpxG0NmW557h9t7Lg+27lZCSSvjFK4At9IK22YaMapEGFvH4hA++cRmD01MZwlYFet1FsFI2dPwWj/aYiFE22iiCpdUDYJ3JMmg6BpT9ILoPTn1ijUXmqHRdV2mHKR8Tagy86chg+Lulbv6GrZkgFFEpegKreiNfSGOB2nlrjBkdQv4GjABZUlQaaelDKhZ/j8pgp979ufhOMvZ1mNg0kmD5xIXhHnBjy6uwYqicUOsXUY9G28E6CHQuJIQto/y8z60QGZQD348Kv00WwiUr3XZUhk7SybLtV2GSCPwPWKlC8mSfRla2h/0h2Fnf8Jx21cNnyApPhD2cPidM6BM0WgB5+eiDJbeeRE5oF8epYig1s/cRsLlUS0Ex3UZ04eiiAH8f6hCEshDnsZjIrwfNfFGUmkz+gcHgwqWvDfrvNJpLoXOZnNU/eI8QEnTLktVOnN2E5cp25/R+TRG+8NnE9csgrXzkpvPaonDcFV5YNQXiR7WlJvspEf9BRDMJL6nev5fmr2kG0kldZsf7cF5F0tDe2UYcUGjKsx20QhsOf2hNI6CR4CjUDv9xcjeSsXOaHMLfbjwzdn2hNGD0zHfLACLZjVYpdnxw8XusBTmJuGrRWonCjC965ywgS32CbI3TNT5BEsCZqR7aDOdmmhsGbtjQW+m2qd44pIqkv9AiesXOjyVU4SqWtmyN6lgqV6pEhjC61+qp5hazjwZdT74Wdh6BnIzzoUkrirUZUvm2JjgWJMm43aunTI5UbcXpC3fG86eibmfe2DEBw8GoEzCpm5soGFOGp2/eV2qKt2AkpbzohTMVZbwddjRqmh81gU9mCPwe0EyySTVNSNnZNrZjmgqpJJWxsmCgS0QY6Rrx8jIDIXj4Yl72m/BD3+GJzG5B+WWFPIPyI3ibRQbWopelG0tXBxqcjy6ZNEKJAbweyHCOBC/DGCdFAIpcHeOpB/EsOLqUyTa+HT5JSo8dsNY0xYMv4PxOSQfSvH5XwAAAAASUVORK5CYII="},function(e,t,n){var r=n(27);e.exports=function(e){"use strict";var t="",o=(e=e||{}).showType,i=r.$escape,a=e.id,s=e.avatar,c=e.audioWidth,u=e.duration,l=e.canAutoPlay,d=e.content;return"tts"===o?(t+='\n<div class="xj-qa-dialog received" style="display: flex" data-id="',t+=i(a),t+='">\n    <img class="xj-qa-dialog__img" src="',t+=i(s),t+='"/>\n    <div class="xj-qa-dialog__text">\n        <span class="xj-qa-dialog__loading"><i></i><i></i><i></i></span>\n    </div>\n    <div class="xj-qa-dialog__tts" style="display: none">\n        <div class="xj-qa-dialog__tts-audio" style="width: ',t+=i(c),t+='px">\n            <div class="xj-qa-dialog__tts-audio-icon">\n                <img ',t+='src="'+n(615)+'"',t+=' alt="">\n                <img ',t+='src="'+n(616)+'"',t+=' alt="">\n                <img ',t+='src="'+n(617)+'"',t+=' alt="">\n            </div>\n            <span class="xj-qa-dialog__tts-audio-time">\n                <span style="padding-right: 8px">',t+=i(u),t+='</span>\n                <span class="xj-qa-dialog__tts-audio-time-sup">′′</span>\n            </span>\n            <div class="xj-qa-dialog__tts-unread" style="display: ',t+=i(l?"none":"flex"),t+='">\n                <span class="xj-qa-dialog__tts-unread-badge"></span>\n                <span class="xj-qa-dialog__tts-unread-transform">转文字</span>\n            </div>\n        </div>\n        <div class="xj-qa-dialog__tts-content" style="display: none" data-text="',t+=i(d),t+='"></div>\n    </div>\n</div>\n'):(t+='\n<div class="xj-qa-dialog received" style="display: flex" data-id="',t+=i(a),t+='">\n    <img class="xj-qa-dialog__img" src="',t+=i(s),t+='"/>\n    <div class="xj-qa-dialog__text">',t+=d,t+="</div>\n</div>\n"),t+="\n"}},function(e,t,n){var r=n(27);e.exports=function(e){"use strict";var t="",o=(e=e||{}).showType,i=r.$escape,a=e.id,s=e.avatar,c=e.audioWidth,u=e.duration,l=e.canAutoPlay,d=e.content;return"tts"===o?(t+='\n<div class="xj-qa-dialog received" style="display: flex" data-id="',t+=i(a),t+='">\n    <img class="xj-qa-dialog__img" src="',t+=i(s),t+='"/>\n    <div class="xj-qa-dialog__text">\n        <span class="xj-qa-dialog__loading"><i></i><i></i><i></i></span>\n    </div>\n    <div class="xj-qa-dialog__tts" style="display: none">\n        <div class="xj-qa-dialog__tts-audio" style="width: ',t+=i(c),t+='px">\n            <div class="xj-qa-dialog__tts-audio-icon">\n                <img ',t+='src="'+n(615)+'"',t+=' alt="">\n                <img ',t+='src="'+n(616)+'"',t+=' alt="">\n                <img ',t+='src="'+n(617)+'"',t+=' alt="">\n            </div>\n            <span class="xj-qa-dialog__tts-audio-time">\n                <span style="padding-right: 8px">',t+=i(u),t+='</span>\n                <span class="xj-qa-dialog__tts-audio-time-sup">′′</span>\n            </span>\n            <div class="xj-qa-dialog__tts-unread" style="display: ',t+=i(l?"none":"flex"),t+='">\n                <span class="xj-qa-dialog__tts-unread-badge"></span>\n                <span class="xj-qa-dialog__tts-unread-transform">转文字</span>\n            </div>\n        </div>\n        <div class="xj-qa-dialog__tts-content" style="display: none" data-text="',t+=i(d),t+='"></div>\n    </div>\n</div>\n'):(t+='\n<div class="xj-qa-dialog received" style="display: flex" data-id="',t+=i(a),t+='">\n    <img class="xj-qa-dialog__img" src="',t+=i(s),t+='"/>\n    <div class="xj-qa-dialog__text">',t+=d,t+="</div>\n</div>\n"),t+="\n"}},function(e,t,n){var r=n(27);e.exports=function(e){"use strict";e=e||{};var t="",n=r.$escape,o=e.id,i=e.avatar,a=e.content;return t+='<div class="xj-qa-dialog sent" style="display: flex" data-id="',t+=n(o),t+='">\n    <img class="xj-qa-dialog__img" src="',t+=n(i),t+='"/>\n    <div class="xj-qa-dialog__text">',t+=a,t+="</div>\n</div>\n"}},function(e,t,n){var r=n(27);e.exports=function(e){"use strict";var t="",o=(e=e||{}).showType,i=r.$escape,a=e.id,s=e.avatar,c=e.audioWidth,u=e.duration,l=e.canAutoPlay,d=e.content;return"tts"===o?(t+='\n<div class="xj-qa-dialog received" style="display: flex" data-id="',t+=i(a),t+='">\n    <img class="xj-qa-dialog__img" src="',t+=i(s),t+='"/>\n    <div class="xj-qa-dialog__text">\n        <span class="xj-qa-dialog__loading"><i></i><i></i><i></i></span>\n    </div>\n    <div class="xj-qa-dialog__tts" style="display: none">\n        <div class="xj-qa-dialog__tts-audio" style="width: ',t+=i(c),t+='px">\n            <div class="xj-qa-dialog__tts-audio-icon">\n                <img ',t+='src="'+n(615)+'"',t+=' alt="">\n                <img ',t+='src="'+n(616)+'"',t+=' alt="">\n                <img ',t+='src="'+n(617)+'"',t+=' alt="">\n            </div>\n            <span class="xj-qa-dialog__tts-audio-time">\n                <span style="padding-right: 8px">',t+=i(u),t+='</span>\n                <span class="xj-qa-dialog__tts-audio-time-sup">′′</span>\n            </span>\n            <div class="xj-qa-dialog__tts-unread" style="display: ',t+=i(l?"none":"flex"),t+='">\n                <span class="xj-qa-dialog__tts-unread-badge"></span>\n                <span class="xj-qa-dialog__tts-unread-transform">转文字</span>\n            </div>\n        </div>\n        <div class="xj-qa-dialog__tts-content" style="display: none" data-text="',t+=i(d),t+='"></div>\n    </div>\n</div>\n'):(t+='\n<div class="xj-qa-dialog received" style="display: flex" data-id="',t+=i(a),t+='">\n    <img class="xj-qa-dialog__img" src="',t+=i(s),t+='"/>\n    <div class="xj-qa-dialog__text">',t+=d,t+="</div>\n</div>\n"),t+="\n"}},function(e,t,n){"use strict";n.r(t),n.d(t,"TTSHelper",function(){return v});var r=n(21),o=n.n(r),i=n(4),a=n.n(i),s=n(5),c=n.n(s),u=n(14),l=n.n(u),d=n(653),p=n.n(d),f=n(308),m=n.n(f),h=n(342),v=function(){function e(){var t=this;a()(this,e),this.curScrollingId="",this.unplayableAudios=[],this.autoShowText=!1,this.textShowMap={},this.unlocked=!1,this.op=new h.a({url:"https://xj.gtimg.cn/a164da983d.mp3"});var n=window.XJ_INTERACTIVE_SDK.TTSUtils.getInfo();n.enable&&n.enableAudios.forEach(function(e){t.textShowMap[e.propPath]=!1})}return c()(e,[{key:"play",value:function(){var e=o()(l.a.mark(function e(t){var n,r,o=this,i=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},r=n.waitAudio,window.XJ_INTERACTIVE_SDK.TTSUtils.get(t)){e.next=4;break}return e.abrupt("return");case 4:if(this.unlocked){e.next=7;break}return this.unplayableAudios.some(function(e){return e.id===t})||this.unplayableAudios.push({id:t,played:!1}),e.abrupt("return");case 7:return this.stopAll(),e.abrupt("return",Promise.all([Promise.resolve().then(function(){if(r)return o._play(t);o._play(t)}),this.showText(t)]));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"togglePlay",value:function(e){var t=this,n=window.XJ_INTERACTIVE_SDK.TTSUtils.get(e);if(n){if(this._stopOthers(e),n.paused){var r=this._startUnplayableAudio(e);this._play(e,{waitAudio:!0}).then(function(){return new Promise(function(e){setTimeout(function(){e()},500)})}).then(function(){r&&t.togglePlay(r)})}else this._stop(e),this._resumeVideo();this.showText(e)}}},{key:"isUnlock",value:function(e){return!!window.XJ_INTERACTIVE_SDK.TTSUtils.get(e)&&this.unlocked}},{key:"stopAll",value:function(){var e=this,t=window.XJ_INTERACTIVE_SDK.TTSUtils.getInfo();t.enable&&t.enableAudios.forEach(function(t){e._stop(t.propPath)})}},{key:"showText",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).autoShowText;if(void 0!==this.textShowMap[e]&&!this.textShowMap[e]){var n=this;this.textShowMap[e]=!0;var r=document.querySelector('[data-id="'.concat(e,'"]'));r.querySelector(".xj-qa-dialog__tts-unread").style.display="none";var o=r.querySelector(".xj-qa-dialog__tts-content");o.style.display="block",this.autoShowText=t;var i=this._startUnplayableAudio(e);return new Promise(function(t){return new p.a(o,{strings:[o.dataset.text],typeSpeed:100,showCursor:!1,onBegin:function(){n.curScrollingId=e},onStringTyping:function(){n._scrollIntoView(e)},onComplete:function(){r.querySelectorAll(".wxNumber-slot").forEach(function(e){e.appendChild(document.createRange().createContextualFragment('<span class="xj-rich-editor__wxContent">微信号:</span>\n                            <span class="xj-rich-editor__wxAccount"></span>\n                            <span class="xj-rich-editor__wxContent">（长按复制）</span>')),window.XJViewer.WXAttention.bindOuterTriggerDom(e,0,!0)}),n._scrollIntoView(e),setTimeout(function(){n.autoShowText&&i&&n.showText(i,{autoShowText:!0}),t()},300)}})})}}},{key:"waitUnlock",value:function(){var e=this;return window.XJ_INTERACTIVE_SDK.TTSUtils.waitUnlock().then(function(){return new Promise(function(t){if(e.op.unlocked)return t();e.op.once("onUnlock",function(){t()})})}).then(function(){e.unlocked=!0})}},{key:"playOp",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onStart;return this.op&&this.unlocked?this.op.play().then(function(n){return setTimeout(function(){null===t||void 0===t||t()},360),new Promise(function(t){e.op.once("onEnd",function(e){n===e&&setTimeout(function(){t()},300)})})}):(null===t||void 0===t||t(),Promise.resolve())}},{key:"waitDetectAutoPlay",value:function(){var e=this;return window.XJ_INTERACTIVE_SDK.TTSUtils.detectAutoPlay().then(function(t){e.unlocked=t})}},{key:"_play",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).waitAudio;if(window.XJ_INTERACTIVE_SDK.TTSUtils.get(e)){var r=document.querySelector('[data-id="'.concat(e,'"]'));return r&&r.classList.add("playing"),this._pauseVideo(),this.autoShowText=!1,new Promise(function(r){window.XJ_INTERACTIVE_SDK.TTSUtils.play(e,{onEnd:function(){document.querySelector('[data-id="'.concat(e,'"]')).classList.remove("playing"),t._resumeVideo(),r()},onStop:function(){n||r()}})})}}},{key:"_stop",value:function(e){if(window.XJ_INTERACTIVE_SDK.TTSUtils.get(e)){var t=document.querySelector('[data-id="'.concat(e,'"]'));t&&t.classList.remove("playing"),window.XJ_INTERACTIVE_SDK.TTSUtils.stop(e)}}},{key:"_stopOthers",value:function(e){var t=this,n=window.XJ_INTERACTIVE_SDK.TTSUtils.getInfo();n.enable&&n.enableAudios.forEach(function(n){n.propPath!==e&&t._stop(n.propPath)})}},{key:"_scrollIntoView",value:function(e){if(this.curScrollingId===e){var t=document.querySelector(".xj-qa-main"),n=document.querySelector(".xj-qa-content"),r=document.querySelector('[data-id="'.concat(e,'"]')),o=document.querySelector(".xj-qa-option"),i=r.getBoundingClientRect(),a=o.getBoundingClientRect(),s=parseFloat(window.getComputedStyle(n).getPropertyValue("padding-top")),c=window.innerHeight-(n.style.marginBottom?parseFloat(n.style.marginBottom):a.height),u=t.scrollTop,l=i.bottom+s;l-c>0&&(u+=l-c),t.scrollTop=u}}},{key:"_pauseVideo",value:function(){var e=document.querySelector("video");e&&m.a.pauseVideo(e)}},{key:"_resumeVideo",value:function(){var e=document.querySelector("video");e&&(e.muted?m.a.playWithoutSound(e):m.a.playWithSound(e))}},{key:"_startUnplayableAudio",value:function(e){var t=this.unplayableAudios.findIndex(function(t){return t.id===e});if(-1!==t&&!this.unplayableAudios[t].played&&(this.unplayableAudios[t].played=!0,this.unplayableAudios[t+1]&&!this.unplayableAudios[t+1].played))return this.unplayableAudios[t+1].id}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){},n(923)},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.default)(["//jsapi.qq.com/get?api=app.addCardToWechat","//qzonestyle.gtimg.cn/gdt/display/busi_module/openCard.js"],function(){for(var e=document.getElementsByClassName("wxcard-button"),t=function(){var t=e[n],r=t.getAttribute("card_id");t.addEventListener("click",function(e){var t=new i.Report;t.dmpReport({actionType:i.REPORT_TYPE.CLAIM_OFFER,customAction:""}),function(e){return window.sfetch("//".concat(viewerData.backendHost,"/player/wechat/card/getsign?cardId=").concat(e),{headers:{"Content-Type":"application/json;charset=UTF-8"},method:"get",mode:"cors"}).then(function(e){return e.json()})}(r).then(function(e){var t=e||{},n={id:r,ext:'{"code": "", "openid": "", "timestamp": "'+t.timestamp+'", "signature":"'+t.signature+'","nonce_str":"'+t.nonce_str+'"}'};try{window.GDTAD.cardMod&&window.GDTAD.cardMod.addCardToWX&&window.GDTAD.cardMod.addCardToWX(n,function(e){},function(e){})}catch(e){}}).catch(function(e){})})},n=0;n<e.length;n++)t()})};var o=r(n(10));n(925);var i=n(12);window.mod={},window.GDTAD={},window.callback_GDT_Card=function(e){window.GDTAD.cardMod=e}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.default)("//apis.map.qq.com/tools/geolocation/min?key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77&referer=myapp",function(){for(var e=new window.qq.maps.Geolocation,t=document.getElementsByClassName("xj-shop-dmp"),n=document.getElementsByClassName("xj-shop-telphone"),r=function(){var n=t[o],r=document.getElementsByClassName("shop-content")[o],s=JSON.parse(r.getAttribute("data-shopinfo"));e.getLocation(function(e){var t,n,o,i,c,u,l,d,p,f=(t=s.pointy,n=s.pointx,o=e.lat,i=e.lng,c=a(t),u=a(o),l=c-u,d=a(n)-a(i),p=2*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(c)*Math.cos(u)*Math.pow(Math.sin(d/2),2))),p*=6378.137,p=(p=Math.round(1e4*p)/1e4).toFixed(1)),m=r.getElementsByClassName("shop_len")[0];f>0&&(m.innerHTML="距你"+f+"km")},function(){},{timeout:9e3}),n.addEventListener("click",function(){var e=new i.Report;e.dmpReport({actionType:i.REPORT_TYPE.NAVIGATE,customAction:""}),setTimeout(function(){!0===s.isPointMarker?location.href="//apis.map.qq.com/tools/poimarker?type=0&marker=coord:".concat(s.position.latitude,",").concat(s.position.longitude,";title:").concat(s.shopName,";addr:").concat(s.shopAdress,"&referer=myapp&key=CGJBZ-S4BCJ-65IF4-FU5HM-YM4WQ-KPB2E"):location.href="//apis.map.qq.com/tools/routeplan/eword=".concat(s.shopAdress,"&epointx=").concat(s.pointx,"&epointy=").concat(s.pointy,"?referer=myapp&key=CGJBZ-S4BCJ-65IF4-FU5HM-YM4WQ-KPB2E")},200)})},o=0;o<t.length;o++)r();for(var s=function(){var e=n[c],t=document.getElementsByClassName("shop-content")[c],r=JSON.parse(t.getAttribute("data-shopinfo"));e.addEventListener("click",function(){location.href="tel:".concat(r.telphone)})},c=0;c<n.length;c++)s()})};var o=r(n(10));n(927);var i=n(12);function a(e){return e*Math.PI/180}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-product-item-link"),t=function(t){try{var n=JSON.parse(e[t].getAttribute("data-value")),r=JSON.parse(e[t].getAttribute("data-pop")||"{}");"popup"===n.linkType&&r.autoPop&&(s.default.init(r),s.default.show(r.id));var o=d(d({},n),{},{url:n.linkto,deepLinkUrl:n.deepLinkUrl,popupConfig:"popup"===n.linkType?r:void 0});if("miniProgram"===n.linkType){var l=o.miniProgram_id,p=o.miniProgram_link;p&&l&&(0,c.checkAndPreloadMiniProgram)(o,{target:e[t]})}(0,i.on)(e[t],"click",function(r){if("link"===n.linkType||!n.linkType){var s=new a.Report;s.dmpReport({actionType:a.REPORT_TYPE.LINK,customAction:""}),s.dmpReport({map:a.REPORT_TYPE_MAPS.NEW_GAME_ORDER})}var c=JSON.parse(e[t].getAttribute("data-clipboard")||"{}");if("miniProgram"===n.linkType)return(0,u.checkAndJumpMiniProgram)(d(d({},o),{},{clipboardConfig:c}),r);(0,i.jumpLinkCommonFunction)({type:n.linkType||"link",data:d(d({},o),{},{clipboardConfig:c}),event:r})})}catch(e){}},n=0;n<e.length;n++)t(n)};var o=r(n(3));n(929);var i=n(2),a=n(12),s=r(n(142)),c=n(114),u=n(489);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(function(){for(var e=document.getElementsByClassName("website-carousel-swiper-container"),t=0;t<e.length;t++)for(var n=e[t].getElementsByClassName("swiper-slide"),r=0;r<n.length;r++){var o=JSON.parse(n[r].getAttribute("data-value")||"{}");if(o.isLink&&"link"===o.linkType){l.CommonHelpers.recordLinkButtonDOM(n[r]);break}}})(),(0,i.default)(["//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/js/swiper.min.js?max_age=31536000","css!//qzonestyle.gtimg.cn/qzone/biz/gdt/lib/xijing/viewer/cdn/css/swiper.min.css?max_age=31536000"],function(){for(var e=document.getElementsByClassName("website-carousel-swiper-container"),t=function(t){var n=JSON.parse(e[t].getAttribute("data-area")),r=e[t].getAttribute("data-img-length"),o={loop:!0,centeredSlides:!0,autoplay:{delay:m(n.displaySpeed),disableOnInteraction:!1},on:{init:function(){for(var n=e[t].getElementsByClassName("swiper-slide"),r=function(e){var t=JSON.parse(n[e].getAttribute("data-value")||"{}"),r=JSON.parse(n[e].getAttribute("data-pop")||"{}");"popup"===t.linkType&&r&&r.autoPop&&(u.default.init(r),u.default.show(r.id)),(0,a.on)(n[e],"click",function(o){if(t.isLink){if("link"===t.linkType){var i=new c.Report;i.dmpReport({actionType:c.REPORT_TYPE.LINK,customAction:""}),i.dmpReport({map:c.REPORT_TYPE_MAPS.NEW_GAME_ORDER})}var s=p({},t);"popup"===t.linkType&&r&&(s.popupConfig=r);var u=JSON.parse(n[e].getAttribute("data-clipboard")||"{}");(0,a.jumpLinkCommonFunction)({type:t.linkType,data:p(p({},s),{},{clipboardConfig:u}),event:o})}})},o=0;o<n.length;o++)r(o)}}};(0,s.renderSwiper)({effect:n.effect,container:e[t],basicConfig:o,imgLength:r})},n=0;n<e.length;n++)t(n);(0,a.disableSwipeBackGesture)()}),(0,a.previewShowArea)("swiper-slide")};var o=r(n(3)),i=r(n(10));n(931);var a=n(2),s=n(363),c=n(12),u=r(n(142)),l=n(115);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=4e3,m=function(e){var t=f-500*e;return t>0?t:0}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.querySelectorAll(".xj-qq-customer-service"),t=function(t){(0,r.on)(e[t],"click",function(){var n=new i.Report;n.dmpReport({actionType:i.REPORT_TYPE.CONSULT,customAction:"",consultType:i.ONLINE_TYPE});var r=e[t].getAttribute("data-qqnumber");setTimeout(function(){location.href="http://wpa.qq.com/msgrd?v=3&uin=".concat(r,"&site=qq&menu=yes")},200)}),(0,o.setBtnGestureAnimation)(e[t],"XJQQCustomerService")},n=0;n<e.length;n++)t(n)};var r=n(2),o=n(2);n(933);var i=n(12)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){new Promise(function(e){if(window[a]===c.NOT_LOADED)window[a]=c.LOADING,window[i]=function(){window[a]=c.LOADED,e()},(n=document.createElement("script")).type="text/javascript",n.src=s,document.body.appendChild(n);else if(window[a]===c.LOADING){var t=null;t=setInterval(function(){window[a]===c.LOADED&&null!==t&&(clearInterval(t),e())},500)}else e();var n}).then(function(){for(var e=document.getElementsByClassName("map-element"),t=0;t<e.length;t++){var n=e[t],o=JSON.parse(n.getAttribute("dataLocation")),i=new window.qq.maps.LatLng(o.latLng.lat,o.latLng.lng),a=new window.qq.maps.Map(n,{center:i,zoom:r});new window.qq.maps.Marker({position:i,map:a})}})},n(935);var r=13,o=n(89).PAGE_VIEWER.STATIC_API_KEY,i="__LBS_TENCENT_API_LOADED_CALLBACK",a="__LBS_TENCENT_API_SCRIPT_LOAD_STATUS__",s="".concat("//map.qq.com/api/js?","?v=").concat("2.exp","&key=").concat(o,"&callback=").concat(i),c={NOT_LOADED:0,LOADING:1,LOADED:2};window[a]=c.NOT_LOADED},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.getElementsByClassName("wechat-service-click-button");Array.from(e).forEach(function(e,t){!function(e){u.apply(this,arguments)}(e),(0,c.setBtnGestureAnimation)(e,"XJWechatService")})};var o=r(n(14)),i=r(n(21)),a=n(2),s=n(11),c=n(2);function u(){return(u=(0,i.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.getAttribute("serviceUrl"))){e.next=6;break}return e.next=4,(0,a.generateParams)(n);case 4:n=e.sent;case 6:(0,a.on)(t,"click",function(e){var t={url:n};(0,s.TdwReportTrigger)(e,{action_type:"wechat_service_btn_click",status:t}),(0,a.jumpLinkCommonFunction)({type:"link",data:t,forceJumpWithoutClickId:!0,event:e})});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}n(937),n(311)},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.getElementsByClassName("wecom-click-button");Array.from(e).forEach(function(e,t){!function(e){y.apply(this,arguments)}(e)}),u.default.onShow(function(){if(!(m||g()||p.default.isPreview)){var t=Array.from(e)[0],n=t.getAttribute("wecom-chain-url"),r=t.getAttribute("auto-jump");if(n&&"true"===r){var o=new d.Report;o.dmpReport();var i=(0,s.addParamsToUrl)("sl",1,n);i=(0,s.addParamsToUrl)("customer_channel",v,i),m=!0;var a=new Date;a.setSeconds(a.getSeconds()+15),l.default.set("xj_wecom_chain_".concat((0,s.getTraceId)()),"1",{domain:".gdt.qq.com",path:location.pathname,expires:a}),(0,s.jumpLinkCommonFunction)({type:"link",data:{url:i},forceJumpWithoutClickId:!0,reportName:"XJWecomChain"})}}})};var o=r(n(14)),i=r(n(21)),a=r(n(3)),s=n(2),c=(n(11),r(n(85))),u=r(n(148)),l=r(n(129)),d=n(12),p=r(n(1));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n(939),n(311);var m=!1;function h(e){if(!e)return null;var t=e.content.modules.filter(function(e){return"XJWecomChain"===e.type});return t&&t[0]?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t[0].config.content):null}var v="xj_UT|".concat(p.default.accountId,"|").concat((0,s.getTraceId)()),g=function(){return"1"===l.default.get("xj_wecom_chain_".concat((0,s.getTraceId)()))};function y(){return(y=(0,i.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getAttribute("wecom-chain-id"),r=t.getAttribute("wecom-chain-url"),(0,s.on)(t,"click",function(){var e=(0,i.default)(o.default.mark(function e(t){var i,a,u,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i="",!r){e.next=6;break}i=(0,s.addParamsToUrl)("sl",1,r),i=(0,s.addParamsToUrl)("customer_channel",v,i),e.next=20;break;case 6:return e.next=8,(0,s.getPageData)(n);case 8:if(a=e.sent){e.next=12;break}return c.default.error("落地页不存在"),e.abrupt("return");case 12:if(!(u=h(a)).linkUrl){e.next=18;break}i=(0,s.addParamsToUrl)("sl",1,u.linkUrl),i=(0,s.addParamsToUrl)("customer_channel",v,i),e.next=20;break;case 18:return c.default.error("获客短链不存在"),e.abrupt("return");case 20:l={url:i},(new d.Report).dmpReport(),(0,s.jumpLinkCommonFunction)({type:"link",data:l,forceJumpWithoutClickId:!0,event:t});case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-link"),t=function(t){(0,i.on)(e[t],"click",function(n){var r=JSON.parse(e[t].getAttribute("data-value"));if("link"===r.linkType){var o=new a.Report;o.dmpReport({actionType:a.REPORT_TYPE.LINK,customAction:""}),o.dmpReport({map:a.REPORT_TYPE_MAPS.NEW_GAME_ORDER})}var s=JSON.parse(e[t].getAttribute("data-clipboard")||"{}");(0,i.jumpLinkCommonFunction)({type:r.linkType,data:c(c({},r),{},{clipboardConfig:s}),event:n})})},n=0;n<e.length;n++)t(n);(0,i.previewShowArea)("xj-link")};var o=r(n(3));n(941);var i=n(2),a=n(12);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-title"),t=function(t){(0,i.on)(e[t],"click",function(n){var r=JSON.parse(e[t].getAttribute("data-value"));if("link"===r.linkType){var o=new a.Report;o.dmpReport({actionType:a.REPORT_TYPE.LINK,customAction:""}),o.dmpReport({map:a.REPORT_TYPE_MAPS.NEW_GAME_ORDER})}var s=JSON.parse(e[t].getAttribute("data-clipboard")||"{}");(0,i.jumpLinkCommonFunction)({type:r.linkType,data:c(c({},r),{},{clipboardConfig:s}),event:n})})},n=0;n<e.length;n++)t(n);(0,i.previewShowArea)("xj-title")};var o=r(n(3));n(943);var i=n(2),a=n(12);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-pmd"),t=0;t<e.length;t++){var n=e[t],r=JSON.parse(n.getAttribute("data-pmd")),o=JSON.parse(n.dataset.stylepmd);if(!r||"unRelated"!==r.isRelatedForm&&!r.relatedComponent)return;var i=m.indexOf(r.dataType)>-1?"DATALIST":"DATANUM",a={style:i,ctype:r.relatedComponent.ctype,cid:r.relatedComponent.cid};_({info:a,requestStyle:i,content:r,style:o,pmdNode:n,isUpdata:!1})}};var o=r(n(3)),i=r(n(24)),a=r(n(87)),s=n(945),c=r(n(946)),u=r(n(26)),l=r(n(1));n(950);var d=n(2);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=["singleData","wheel","tooltip","singleDataWithLine"],h=function(e){var t=function(e){var t=JSON.parse(e.getAttribute("data-pmd")),n=JSON.parse(e.dataset.stylepmd);if(t&&t.relatedComponent){var r=m.indexOf(t.dataType)>-1?"DATALIST":"DATANUM";return l.default.permission&&l.default.permission.indexOf(s.permissionOfPMDStyle)>-1?{info:{style:r,ctype:t.relatedComponent.ctype,cid:t.relatedComponent.cid,uid:v()},requestStyle:r,content:t,style:n}:{info:{style:r,ctype:t.relatedComponent.ctype,cid:t.relatedComponent.cid},requestStyle:r,content:t,style:n}}}(e),n=t.info,r=t.requestStyle,o=t.content,i=t.style;o&&o.relatedComponent&&setTimeout(function(){_({info:n,requestStyle:r,content:o,style:i,pmdNode:e,isUpdate:!1})},2e3)};function v(){return window.viewerData.accountId}u.default.Observe.on("webFormSubmitSuccess",function(e){var t=e.args.formId,n=document.querySelectorAll(".xj-pmd "),r=Array.prototype.slice.call(n);if(r.length>0){var o=r.filter(function(e){return"XJWebForm"===e.dataset.pmdtype&&e.dataset.pmdrelatedid==t});o.length>0&&o.forEach(function(e){h(e)})}});var g=function(e){return Math.floor(Math.random()*Math.floor(e))},y=function(e,t){return e.sort(function(e,n){return e[t]-n[t]})},A=function(){for(var e=[],t=0;t<26;t++){var n=String.fromCharCode(65+t),r=n.toLowerCase();e.push(n),e.push(r)}return e};function _(e){var t,n,r=e.isUpdate,o=e.info,i=e.requestStyle,a=e.content,c=e.style,u=e.pmdNode,p=f(f({},a),{},{contentData:(0,d.duplicate)(a.contentData)}),m=!0===l.default.isPreview||"1"===l.default.requestSource;"unRelated"!==a.isRelatedForm?(t=o,n={},n=l.default.permission&&l.default.permission.indexOf(s.permissionOfPMDStyle)>-1?{style:t.style,ctype:t.ctype,cid:t.cid,uid:v()}:{style:t.style,ctype:t.ctype,cid:t.cid},window.sfetch("//h5.gdt.qq.com/player/api/getPmd",{headers:{"Content-Type":"application/json"},method:"post",mode:"cors",body:JSON.stringify(n)}).then(function(e){return e.json()})).then(function(e){var t=!1,n=e.data||{};"DATALIST"===i&&n.data&&n.data.length>0&&(t=!0),"DATANUM"===i&&n.totalCount>0&&(t=!0),m&&!t&&(e=s.pmdDefaultData.data),E({data:e||{},pmdData:{content:p,style:c},pmdNode:u,isBeforeCheck:m},r)}):window.sfetch("https://v.qq.com/cache/wuji_public/object?appid=xjFrontEnd&schemaid=constantFields&schemakey=2bcff0c9eeeb42ea8d60d15e4a932ffe").then(function(e){return e.json()}).then(function(e){var t=e.data,n=[];if(Array.isArray(t)){for(var r=JSON.parse(t[0].list),o=JSON.parse(t[1].list),i=A(),a=0;a<60;a++){var s=function(){return i[g(i.length)]},c=["".concat(r[g(r.length)],"**用户"),"".concat(s(),"**").concat(s(),"用户")][g(2)],u=g(5)+1;a<24?u*=1:u+=a<42?5:a<60*(.7+.2)?10:15,n.push({avatar:o[g(o.length)],name:c,time:u})}return n=y(n,"time")}}).then(function(e){E({data:{data:e},pmdData:{content:p,style:c},pmdNode:u,isBeforeCheck:m},r)})}function b(e){return e.map(function(e){var t=f({},e),n=Object.keys(e);return e.province?(n.indexOf("provinceCity")>=0||n.indexOf("proCityArea")>=0)&&(delete t.provinceCity,delete t.proCityArea):(t.proCityArea&&(t.province=e.proCityArea.split("|")[0]),t.provinceCity&&(t.province=e.provinceCity.split("|")[0]),delete t.provinceCity,delete t.proCityArea),t})}function w(e){return e.map(function(e){var t=f({},e);return Object.keys(e).indexOf("province")>=0&&(t.area=e.province,delete t.province),t})}function T(e,t){if(!e||0==e.length)return[];var n=[],r={name:"***",phone:"***********",area:"***"};return e.forEach(function(e){var o=t.content.contentData,i={},a=0;o.forEach(function(t){i[t]=e[t]?e[t]:r[t],e[t]||a++}),a<o.length&&"{}"!==JSON.stringify(i)&&n.push(i)}),n}function E(e,t){var n,r=e.data,o=e.pmdData,l=e.pmdNode,d=e.isBeforeCheck,p=Array.isArray(e.data.data.data)?e.data.data.data:[],f=o.content,m=o.style;if(r&&o&&l&&(f&&m))if("unRelated"!==f.isRelatedForm){var h="color:".concat(m.valColor,";font-size:").concat(a.default.pxToRem(m.fontSize),"rem"),v="color:".concat(m.textColor,";font-size:").concat(a.default.pxToRem(m.fontSize),"rem"),g=m.animationDuration,y=void 0===g?3:g;y*=1e3;var A=l,_="",E=0,k=e&&e.data&&Object.keys(e.data).length?e.data.data:{};if(!k.totalCount||"totalNum"!==f.dataType&&"totalNumWithLine"!==f.dataType||(A=l.getElementsByClassName("pmd-totalNum")[0],_='\n                <span class="icon-container small">\n                    <span\n                    class="icon icon-'.concat(m.IconType," small\"\n                    style='color: ").concat(m.IconColor,";font-size: ").concat(m.fontSize,"px'>\n                    </span>\n                </span>\n                <span style=\"").concat(v,'">').concat(f.text1,'</span>\n                <div class=\'pmd-move\' android:gravity="center" style="display:inline-block;').concat(h,"\">\n                    <ul class='move-1'>").concat(k.totalCount,"</ul>\n                    <ul class='move-2'>").concat(k.totalCount,'</ul>\n                </div>\n                <span style="').concat(v,'">').concat(f.text2,"</span>"),A.innerHTML=_,l.style.display=""),p&&p.length>0&&("singleData"===f.dataType||"singleDataWithLine"===f.dataType)&&"XJWebForm"===f.relatedComponent.ctype){var x=T(w(b(p)),o);if((E=x.length)<5&&!d)return document.getElementsByClassName("xj-pmd")[0].style.minHeight=0,!1;A=l.getElementsByClassName("pmd-singleData")[0];var N=o.content.contentData,D="";if(x.forEach(function(e){var t=(e.province?Object.keys(e):N).map(function(t){return"<span class='".concat(t,"'>").concat("phone"===t?e[t].slice(0,11):e[t],"</span>")});D+='<li class="li-style">'.concat(t.join(""),"</li>")}),2===E&&(D=D.concat(D),E=4),_='<span class="icon-container small">\n                <span\n                    class="icon icon-'.concat(m.IconType," small\"\n                    style='color: ").concat(m.IconColor,";font-size: ").concat(m.fontSize,"px'>\n                </span>\n            </span>\n            <div class='pmd-move' android:gravity=\"center\" style=\"").concat(h,"\">\n                <ul class='move-1'>").concat(D,"</ul>\n                <ul class='move-2'>").concat(D,'</ul>\n            </div>\n            <span style="').concat(v,'">').concat(f.text,"</span>"),A.innerHTML=_,l.style.display="",E>1){var R=l.querySelector(".pmd-move .move-2");R.style.top=-R.clientHeight+"px",function(e,t,n){var r=0,o=!0,a=100/t,s={A:e.querySelector(".pmd-move .move-1"),B:e.querySelector(".pmd-move .move-2")};!function e(c){(function(i,s){if((0===r||c)&&(s.style.visibility="hidden",s.style.transform="translate3d(0,".concat(a,"%,0)")),i.style.transform="translate3d(0,-".concat(r*a,"%,0)"),r===t-1&&(s.style.visibility="visible"),r===t)return s.style.transform="translate3d(0,0,0)",o=!o,r=1,setTimeout(function(){return e(!0)},n);r++,setTimeout(e,n)}).apply(void 0,(0,i.default)(o?[s.A,s.B]:[s.B,s.A]))}()}(l,E,y)}}["wheel","tooltip"].indexOf(f.dataType)>-1&&function(e){var t=e.type,n=e.infoData,r=e.content,o=e.pmdData,a=e.isBeforeCheck,l=e.pmdNode,d=r.relatedComponent;if(n&&n.length>0&&r.dataType===t&&"XJWebForm"===r.relatedComponent.ctype){var p=function(e,t,n){var r=T(w(b(e)),t),o=null;if(r.length<5&&!n){var i=document.getElementsByClassName("xj-pmd")[0];i.style.minHeight=0,o=!1}else o=!0;return{renderTag:o,validateFormData:r}}(n,o,a),f=p.renderTag,m=p.validateFormData;if(!f)return!1;var h=u.default.isInViewPort(O(d));"tooltip"===r.dataType&&h?l.style.display="":"tooltip"===r.dataType&&(l.style.display="",l.style.visibility="hidden",window.addEventListener("scroll",function e(){return setTimeout(function(){var t=u.default.isInViewPort(O(d));t&&(l.style.display="",l.style.visibility="visible",window.removeEventListener("scroll",e))},30)})),"wheel"===r.dataType&&(l.style.display=""),function(e,t){var n=e.type,r=e.content,o=e.pmdData,a=e.pmdNode,u=e.style,l=e.valStyle,d=e.textStyle,p=e.isUpdate,f=o.content.contentData,m=u.animationDuration,h=void 0===m?3:m;h*=1e3;var v=function(e,t){return e.map(function(e){var n=e.province?Object.keys(e):t,r=n.map(function(t){return"<span class='".concat(t,"'>").concat("phone"===t?e[t].slice(0,11):e[t],"</span>")});return"".concat(r.join(""))})}(t,f);v.length<s.minLength[n]&&(v=function e(t,n){return t.length<n?e(t=[].concat((0,i.default)(t),(0,i.default)(t)),n):t}(v,s.minLength[n]));"wheel"===n&&(l=d);var g=a.querySelector(".pmd-".concat(n,"-animation"));new c.default({keepOldHTML:p,listData:v,displayCount:s.displayCount[n],duration:h,animationDuration:h/s.animationDurationRatio,$carouselContainer:g,customRenderList:function(e){var t=e.length,o=e.data,i=e.index,a=e.liClassName,s=e.isRefClassName;return i!==t-1?"<li class='".concat(a,"'>\n                               ").concat(S(u,l,d,r,o,n),"\n                            </li>"):"<li class='".concat(a," ").concat(s,"'>\n                                ").concat(S(u,l,d,r,o,n),"\n                            </li>")}})}(e,m)}}({type:f.dataType,infoData:p,content:f,limit:E,pmdData:o,isBeforeCheck:d,pmdNode:l,style:m,valStyle:h,textStyle:v,isUpdate:t})}else{if(l.style.display="","tooltipSingle"===f.dataType)l.getElementsByClassName("pmd-tooltipSingle")[0].innerHTML=function(e,t){var n=t.map(function(t,n){return"\n        <li key=".concat(n,' style="color:').concat(I,"; font-size:").concat(C,'">\n            <img\n                src="').concat(t.avatar,'"\n                alt="avatar"\n                style="width:0.5333rem;height:0.5333rem;border-radius:50%;margin-right:0.1067rem"\n            />\n            <span class="unit-span name">').concat(t.name,'</span>\n            <span class="unit-span time">').concat(t.time,"分钟前").concat(e.behavior,"</span>\n        </li>\n    ")});return'\n        <div class="tooltipSingle-wrapper">\n            <div class="pmd-move" style="overflow:hidden; height:24px">\n                <ul class="tooltipSingle-animate">\n                '.concat(n.join(""),"\n                </ul>\n            </div>\n        </div>\n        ")}(f,e.data.data);if("tooltipMulti"===f.dataType)l.getElementsByClassName("pmd-tooltipMulti")[0].innerHTML=function(e,t){var n=t.map(function(t,n){return'\n        <li class="tooltipMulti-item" key='.concat(n,'>\n            <img\n                src="').concat(t.avatar,'"\n                alt="avatar"\n                style="width:0.5333rem;height:0.5333rem;border-radius:50%;margin-right:0.1067rem;flex-shrink:0;"\n            />\n            <span class="unit-span name">').concat(t.name,'</span>\n            <span class="unit-span time">').concat(t.time,"分钟前").concat(e.behavior,"</span>\n        </li>\n    ")});return'\n        <div class="tooltipMulti-wrapper">\n            <div class="tooltipMulti-animate-wrapper" style="color:'.concat(P,"; font-size:").concat(C,'">\n                <ul class="tooltipMulti-animate">\n                    ').concat(n.join(""),"\n                </ul>\n            </div>\n        </div>\n    ")}(f,e.data.data);n=[],(0,i.default)(document.getElementsByClassName("tooltipSingle-animate")).map(function(e){var t=e.childElementCount,r=0;n.push(setInterval(function(){++r>=t?(e.style.transform="translateY(".concat(100*t,"%)"),r=0):e.style.transform="translateY(-".concat(100/t*r,"%)")},2e3))}),(0,i.default)(document.getElementsByClassName("tooltipMulti-animate")).map(function(e){var t=e.childElementCount,r=0;n.push(setInterval(function(){++r>=t?(e.style.transform="translateY(".concat(100*t,"%)"),r=0):e.style.transform="translateY(-".concat(100/t*r,"%)")},2e3))})}}function S(e,t,n,r,o,i){return'\n            <div class="pmd-content pmd-content-'.concat(i,'">\n                <span class="icon-container small">\n                    <span\n                        class="icon icon-').concat(e.IconType," small\"\n                        style='color: ").concat(e.IconColor,";font-size: ").concat(e.fontSize,'px\'>\n                    </span>\n                </span>\n                <span class="unit-span" style="').concat(t,'">\n                    ').concat(o,'\n                </span>\n                <span style="').concat(n,'">').concat(r.text,"</span>\n            </div>\n        ")}function O(e){var t=e.ctype,n=e.cid,r=e.PMDSelectVal;if("XJWebForm"!==t)return!1;var o=document.querySelectorAll(".isd-web-form-global-wrapper");return Array.prototype.slice.call(o).filter(function(e){return e.dataset.id==n})[r]}var I="#fff",C="12px",P="#fff"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pmdDefaultData=t.permissionOfPMDStyle=t.minLength=t.displayCount=t.animationDurationRatio=void 0;t.minLength={wheel:7,tooltip:5},t.displayCount={wheel:5,tooltip:2},t.animationDurationRatio=2,t.permissionOfPMDStyle=6,t.pmdDefaultData={data:{res:0,data:{totalCount:8,data:[{provinceCity:"天津省|石家庄市",submitTime:"33分钟前"},{name:"A",phone:"139****5555",provinceCity:"天津省|石家庄市",submitTime:"59分钟前"},{name:"A",phone:"139****5555",provinceCity:"天津省|石家庄市",submitTime:"77分钟前"},{name:"A",phone:"139****5555",provinceCity:"天津省|石家庄市",submitTime:"23小时前"},{name:"A",provinceCity:"天津省|石家庄市",submitTime:"23小时前"},{gender:"女",name:"四**",phone:"",proCityArea:"河北省|石家庄市|栾城县",province:"河北省",submitTime:"56天前"}]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(947);t.default=r.Carousel},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Carousel=void 0;var o=r(n(4)),i=r(n(5)),a=n(948);n(949);t.Carousel=function(){function e(t){var n=this;(0,o.default)(this,e),this.main=function(){n.initDOM(),n.initStyle(),n.animate()},this.initDOM=function(){var e=n.render(),t=document.createElement("div");t.innerHTML=e,n.$carouselContainer?n.keepOldHTML?n.$carouselContainer.appendChild(t):(n.$carouselContainer.innerHTML='<div class="keep-old-html-wrapper">'.concat(e,"</div>"),t=n.$carouselContainer.querySelector(".keep-old-html-wrapper")):document.body.appendChild(t),n.$carouselWrapper=t.querySelector(".".concat(a.CarouselWrapperClassName)),n.$carousel=t.querySelector(".".concat(a.carouselUlClassName)),n.$seats=n.$carousel.querySelectorAll(".".concat(a.carouselLiClassName));var r=document.createElement("style");r.setAttribute("type","text/css"),r.innerHTML="\n            .xj-pmd .pmd-tooltip .pmd-tooltip-animation .carousel-ul .carousel-seat.will-show {\n                animation-duration: ".concat(n.animateDuration,"ms;\n                animation-delay: ").concat(n.duration-n.animateDuration,"ms;\n            }\n            .xj-pmd .pmd-tooltip .pmd-tooltip-animation .carousel-ul .carousel-seat.is-show {\n                animation-duration: ").concat(n.animateDuration,"ms;\n                animation-delay: ").concat(n.duration-n.animateDuration,"ms;\n            }\n            .xj-pmd .pmd-tooltip .pmd-tooltip-animation .carousel-ul .carousel-seat.will-hide {\n                animation-duration: ").concat(n.animateDuration,"ms;\n                animation-delay: ").concat(n.duration-n.animateDuration,"ms;\n            }\n        "),document.head.appendChild(r)},this.initStyle=function(){n.setListHeight(),n.listHeight=n.listHeight?n.listHeight:n.getListHeight(),n.$carousel.style.top=-n.listHeight+"px",n.$carouselWrapper.style.height=n.listHeight*n.displayCount+"px"},this.changeClassName=function(){var e=n.$seats;Array.prototype.slice.call(e).forEach(function(e){var t=parseInt(e.dataset.order,10);2===t?e.classList.add(a.willHideClassName):e.classList.remove(a.willHideClassName),t>1&&t<=n.displayCount+1?(e.classList.add(a.isShowClassName),e.classList.remove(a.isHideClassName),e.classList.add(a.hasAnimateClassName)):(e.classList.remove(a.isShowClassName),e.classList.remove(a.hasAnimateClassName),e.classList.add(a.isHideClassName)),t===n.displayCount+2?(e.classList.add(a.willShowClassName),e.classList.add(a.hasAnimateClassName)):e.classList.remove(a.willShowClassName)})},this.setAnimateCSS=function(){var e=n.$carouselWrapper.getElementsByClassName(a.carouselLiClassName),t=Array.prototype.slice.call(e),r=n.duration-n.animateDuration;t.forEach(function(e){e.classList.contains(a.hasAnimateClassName)?(e.style.transitionDuration=n.animateDuration+"ms",e.style.transitionDelay=r+"ms"):(e.style.transitionDuration="",e.style.transitionDelay="")})},this.changeOrder=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",r=n.$carouselWrapper.querySelector(".".concat(a.isRefClassName));r.classList.remove("".concat(a.isRefClassName)),"next"===t?(e=n.next(r),n.$carousel.classList.remove(a.isReversingClassName)):(e=n.prev(r),n.$carousel.classList.add(a.isReversingClassName)),e.classList.add(a.isRefClassName),e.style.order=1,e.dataset.order=1;for(var o=2;o<=n.$seats.length;o++)(e=n.next(e)).dataset.order=o,e.style.order=o},this.setListHeight=function(){var e=n.$carousel.querySelectorAll(".".concat(a.carouselLiClassName)),t=Array.prototype.slice.call(e),r=e[0].getBoundingClientRect(),o=Math.ceil(r.height);return o>0&&t.forEach(function(e){e.style.height=o+"px",e.style.padding="0px"}),r.height},this.getListHeight=function(){return n.$carousel.querySelector(".".concat(a.carouselLiClassName)).getBoundingClientRect().height},this.animate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next";n.$carousel.style.transitionDuration="0ms",n.$carousel.style.transform="translateY(".concat(n.listHeight,"px)"),n.$carousel.classList.remove(a.isSetClassName),n.changeClassName(),n.changeOrder(e),n.setAnimateCSS(),setTimeout(function(){n.$carousel.style.transitionDuration=n.animateDuration+"ms",n.$carousel.style.transform="translateY(0px)",n.$carousel.classList.add(a.isSetClassName)},n.duration-n.animateDuration),setTimeout(function(){n.animate()},n.duration)},this.next=function(e){return e.nextElementSibling?e.nextElementSibling:n.$carousel.firstElementChild},this.prev=function(e){return e.previousElementSibling?e.previousElementSibling:n.$carousel.lastElementChild},this.renderList=function(){var e=n.listData;if(!e||0===e.length)return console.info("请输入列表的数据"),"";var t=e.length;return n.customRenderList?e.map(function(e,r){return n.customRenderList({length:t,data:e,index:r,liClassName:"".concat(n.customCarouselLiClassName," ").concat(a.carouselLiClassName),isRefClassName:a.isRefClassName})}).join(""):e.map(function(e,r){return r!==t-1?"<li class='".concat(n.customCarouselLiClassName," ").concat(a.carouselLiClassName,"'>\n                               <h2>").concat(e,"</h2>\n                            </li>"):"<li class='".concat(n.customCarouselLiClassName," ").concat(a.carouselLiClassName," ").concat(a.isRefClassName,"'>\n                                <h2>").concat(e,"</h2>\n                            </li>")}).join("")},this.$carouselContainer=t.$carouselContainer,this.keepOldHTML=t.keepOldHTML,this.displayCount=t.displayCount,this.duration=t.duration||3e3,this.animateDuration=t.animateDuration||this.duration/2,this.customCarouselWrapperClassName=t.customCarouselWrapperClassName||"",this.customCarouselLiClassName=t.customCarouselLiClassName||"",this.listHeight=t.listHeight,this.carouselWrapper=null,this.$carousel=null,this.$seats=null,this.listData=t.listData||[],this.customRenderList=t.customRenderList,this.main()}return(0,i.default)(e,[{key:"render",value:function(){return"<div class='".concat(this.customCarouselWrapperClassName," ").concat(a.CarouselWrapperClassName,"'>\n                <ul class='").concat(a.carouselUlClassName," ").concat(a.isSetClassName," ").concat(a.carouselClassName,"' >\n                    ").concat(this.renderList()," \n                </ul>\n            </div>")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.willShowClassName=t.willHideClassName=t.isShowClassName=t.isSetClassName=t.isReversingClassName=t.isRefClassName=t.isHideClassName=t.hasAnimateClassName=t.carouselUlClassName=t.carouselLiClassName=t.carouselClassName=t.CarouselWrapperClassName=void 0;t.CarouselWrapperClassName="carousel-wrapper",t.carouselUlClassName="carousel-ul",t.carouselClassName="carousel",t.isSetClassName="is-set",t.carouselLiClassName="carousel-seat",t.isRefClassName="is-ref",t.isReversingClassName="is-reversing",t.isShowClassName="is-show",t.willShowClassName="will-show",t.willHideClassName="will-hide",t.isHideClassName="is-hide",t.hasAnimateClassName="has-animate"},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-coupon"),t=0;t<e.length;t++){var n=e[t].dataset.couponid,r=e[t].dataset.coupon,i=e[t].dataset.isautoopen,a=e[t].dataset.coupondialogstyle,s=new o.default({isAutoOpen:i,coupon:r,couponId:n,dom:e[t],index:t,couponDialogStyle:a});s.init()}},n(952),n(953);var o=r(n(954))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=r(n(37)),s=n(2),c=n(955),u=r(n(85)),l=r(n(532)),d=n(7),p=r(n(1));n(385);var f=n(956),m=r(n(758)),h={USED:"xj-coupon-used",DONE:"xj-coupon-done",NONE:"xj-coupon-none",EXPIRES:"xj-coupon-expires",JUMP:"xj-coupon-jump"},v=107101,g=107102,y=107108,A=107103,_=107107,b=107104,w=107105,T=107106,E=/^1[3456789]\d{9}$/,S="立即领取，前往活动",O="立即领取",I=function(){function e(t){var n=this;(0,o.default)(this,e),this.changeJumpDialogShow=function(e){e?(n.jumpDialog.style.display="block",document.body.style.overflow="hidden"):(n.jumpDialog.style.display="none",document.body.style.overflow="auto")},this.setSMSVerificationCode=function(e,t){return e.SMSVerificationCode=t.code,e.SMSVerificationPhone=t.phone,e},this.index=t.index,this.couponDialog=t.dom.getElementsByClassName("xj-coupon-dialog")[0],this.couponDialogBtn=t.dom.getElementsByClassName("xj-coupon-submit-wrapper")[0],this.getCouponInfoBtn=t.dom.getElementsByClassName("xj-used-click-btn")[0],this.closeBtn=t.dom.getElementsByClassName("xj-coupon-dialog-close")[0],this.submitBtn=t.dom.getElementsByClassName("xj-coupon-submit-btn")[0],this.doneJumpBtn=t.dom.getElementsByClassName("xj-coupon-jump-submit-btn")[0],this.doneCardInfoBtn=t.dom.getElementsByClassName("xj-done-coupon-btn")[0],this.input=t.dom.getElementsByClassName("xj-coupon-input"),this.couponLoading=t.dom.getElementsByClassName("xj-coupon-loading")[0],this.couponSvgAndDomWrapper=t.dom.getElementsByClassName("xj-coupon-basicStyle")[0],this.couponCardSvg=t.dom.getElementsByClassName("xj-coupon-gray-svg")[0],this.couponDialogTitle=t.dom.getElementsByClassName("xj-coupon-title")[1],this.couponExpires=t.dom.getElementsByClassName("xj-coupon-expires")[0],this.coupon3=t.dom.getElementsByClassName("xj-coupon-3-icon")[0],this.customCoupon=t.dom.getElementsByClassName("xj-coupon-custom-card")[0],this.privacyItem=t.dom.getElementsByClassName("xj-coupon-privacy-item")[0],this.privacyItemcheckbox=t.dom.getElementsByClassName("isd-real-checkbox")[0],this.jumpDialog=t.dom.getElementsByClassName("xj-jump-dialog")[0],this.jumpSubmitBtn=t.dom.getElementsByClassName("xj-jump-btn")[0],this.jumpCloseBtn=t.dom.getElementsByClassName("xj-jump-dialog-close")[0],this.couponId=t.couponId,this.coupon=JSON.parse(t.coupon),this.isAutoOpen=t.isAutoOpen,this.phone=a.default.getCookie("xj-coupon-phone-".concat(this.couponId))?JSON.parse(a.default.getCookie("xj-coupon-phone-".concat(this.couponId))):[],this.value="",this.couponDialogStyle=t.couponDialogStyle,this.isInitTitleDone=!1,this.lockRequest=!1,this.btnStatus="",this.privacyItemcheckboxValue=!1}return(0,i.default)(e,[{key:"init",value:function(){this.setCouponCustomImage(),this.bindClickTrigger(),this.initDialogStatus(),this.initTitleFontSize(),this.renderFirstScreen(),(0,c.reportClick)("xj_coupon_init",this.couponId,1,1)}},{key:"setCouponCustomImage",value:function(){var e=this;if(this.customCoupon){var t=this.customCoupon.getElementsByClassName("xj-coupon-custom-card-loading")[0],n=JSON.parse(this.customCoupon.dataset.url),r=new Image;r.onload=function(){var o=(0,f.calculateCustomImageStyle)(parseInt(n.width,10),parseInt(n.height,10),e.customCoupon),i=o.setImageWidth,a=o.setImageHeight;r.width=i,r.height=a,e.customCoupon.style.height=a+"px",e.customCoupon.appendChild(r),t.style.display="none"},r.onerror=function(){console.warn("error")},r.src=n.url}}},{key:"bindClickTrigger",value:function(){this.getCouponInfoBtn&&this.bindCardClick(this.getCouponInfoBtn),this.coupon3&&this.bindCardClick(this.coupon3),this.customCoupon&&this.bindCardClick(this.customCoupon),this.doneJumpBtn&&this.bindJumpClick(this.doneJumpBtn),this.doneCardInfoBtn&&this.bindJumpDialogShow(this.doneCardInfoBtn),this.jumpSubmitBtn&&this.bindJumpClick(this.jumpSubmitBtn),this.jumpCloseBtn&&this.bindJumpCloseClick(this.jumpCloseBtn),this.privacyItem&&this.bindPrivacyItemClick(this.privacyItem),this.privacyItemcheckbox&&this.bindPrivacyCheckBoxClick(this.privacyItemcheckbox)}},{key:"bindPrivacyItemClick",value:function(e){var t=this;this.privacyItemConform=new m.default(!1),(0,s.on)(e,"click",function(e){t.privacyItemConform.open()})}},{key:"bindPrivacyCheckBoxClick",value:function(e){var t=this;(0,s.on)(e,"click",function(n){if(!t.privacyItemcheckboxValue)return e.classList.add("checked"),t.privacyItemcheckboxValue=!0,void(t.value&&t.submitBtn.classList.remove("xj-coupon-submit-btn-disabled"));e.classList.remove("checked"),t.submitBtn.classList.add("xj-coupon-submit-btn-disabled"),t.privacyItemcheckboxValue=!1})}},{key:"couponCardPop",value:function(t){var n=this,r=Date.now();this.changeLoadingStatus(!0),t&&(0,c.DMPReport)(),(0,c.fetch)(e.getCouponINFO,"GET",{couponId:parseInt(this.couponId,10)}).then(function(e){var t=Date.now();(0,c.reportClick)("xj_coupon_card_click",n.couponId,t-r,0),n.changeLoadingStatus(!1),n.initSetting(e.data.content,e.data.expiredType,e.data.expiredTime),e.code===v?(n.changeDialogStatus(!0,"NONE"),n.changeBtnStatus("NONE"),n.changeBtnContentGray(),(0,c.reportClick)("xj_coupon_none",n.couponId,1,1)):e.code===g?(n.changeDialogStatus(!0,"EXPIRES"),n.changeBtnStatus("EXPIRES"),n.changeBtnContentGray(),(0,c.reportClick)("xj_coupon_expires",n.couponId,1,1)):e.code===y?(n.mockSave=!0,n.changeDialogStatus(!0,"USED"),n.changeBtnStatus("USED")):(n.changeDialogStatus(!0,"USED"),n.changeBtnStatus("USED")),n.initDialogTitle()}).catch(function(e){n.changeLoadingStatus(!1);var t=Date.now();(0,c.reportClick)("xj_coupon_card_click",n.couponId,t-r,1),console.error("err1",e)})}},{key:"bindCardClick",value:function(e){var t=this;(0,s.on)(e,"click",function(e){t.couponCardPop(!0)})}},{key:"bindJumpClick",value:function(e){var t=this;(0,s.on)(e,"click",function(e){t.jumpOtherWebsite()})}},{key:"bindJumpCloseClick",value:function(e){var t=this;(0,s.on)(e,"click",function(e){t.changeJumpDialogShow(!1)})}},{key:"bindJumpDialogShow",value:function(e){var t=this;(0,s.on)(e,"click",function(e){t.isNeedJump()&&t.changeJumpDialogShow(!0)})}},{key:"initTitleFontSize",value:function(){var e=this.couponSvgAndDomWrapper.getBoundingClientRect(),t=this.couponSvgAndDomWrapper.querySelector(".xj-coupon-title");if(t){var n=t.getBoundingClientRect(),r=.62*e.width/n.width;t.style="transform: scale(".concat(r>1?1:r,");color: ").concat(t.style.color)}}},{key:"initDialogTitle",value:function(){if(!this.isInitTitleDone){var e=this.couponDialog.querySelector(".xj-coupon-title"),t=e.getBoundingClientRect();if("coupon-dialog-2"===this.couponDialogStyle){var n=.7*this.couponDialog.querySelector(".xj-coupon-dialog-2").getBoundingClientRect().width/t.width;e.style="transform: scale(".concat(n>1?1:n,");")}else if("coupon-dialog-1"===this.couponDialogStyle){var r=.86*this.couponDialog.querySelector(".xj-coupon-dialog-1").getBoundingClientRect().width/t.width;e.style="transform: scale(".concat(r>1?1:r,") translate(-50%, 0);")}this.isInitTitleDone=!0}}},{key:"initSetting",value:function(e,t,n){if("{}"!=e&&e){var r=JSON.parse(e);this.coupon.setting=r.setting;var o="";if("DURING_DATE"===t)o="使用期限：自领券当日起".concat(n,"天内有效");else{var i=n.replace(/[.]/g,"-").split(" - ");o="使用期限：".concat(i[0],"至").concat(i[1])}this.couponExpires.innerHTML=o,this.initSubmitBtnValue(this.submitBtn)}}},{key:"initDialogStatus",value:function(){var t=this;(0,s.on)(this.submitBtn,"click",function(n){if(E.test(t.value))if(t.privacyItemcheckboxValue){if(t.mockSave)u.default.success("该落地页未送审，无法预览后续步骤");else if(!t.lockRequest){t.lockRequest=!0;var r={pageId:p.default.pageId,pageName:p.default.pageName,actionsetId:parseInt(p.default.actionSetId,10),pageUrl:location.href,commonPageId:p.default.commonPageId,phone:t.value,clickId:(0,s.getTraceId)(),activityId:parseInt(t.couponId,10),type:e.type,uid:p.default.accountId},o=Date.now();(0,c.fetch)(e.postCouponDataAndDMPReportUrl,"POST",r).then(function(e){if(t.lockRequest=!1,0===e.code){u.default.success("领取成功，请在短信中查看"),t.submitSuccess();var n=Date.now();(0,c.reportClick)("xj_coupon_dialog_click",t.couponId,n-o,0),t.changeDialogStatus(!1),t.jumpOtherWebsite()}else if(e.code===A)t.SMSVerificationCode?(t.SMSVerificationCode.interfaceUpdateOptions({phone:t.value,advertiserId:(0,c.getAdvertiserId)()}),t.SMSVerificationCode.interfaceShow()):t.smscode=t.showPhoneVerifyFn(function(e,n){r=t.setSMSVerificationCode(r,e),t.postCouponDataAjax(r,function(){t.SMSVerificationCode.hideSMSVerificationCode(),t.SMSVerificationCode.interfaceClearTime(),t.postSuccessCallback(r),n&&n()})});else if(e.code===_)u.default.error("该手机号已领取过，请勿重复领取"),t.submitSuccess(),(0,c.reportClick)("xj_coupon_get_repeat",t.couponId,1,1);else{u.default.error("领取失败，请稍后再试");var i=Date.now();(0,c.reportClick)("xj_coupon_dialog_click",t.couponId,i-o,1)}}).catch(function(e){t.lockRequest=!1;var n=Date.now();(0,c.reportClick)("xj_coupon_dialog_click",t.couponId,n-o,1),console.error("err2",e)})}}else u.default.error("请勾选我已阅读并同意 个人信息与隐私保护条款");else u.default.error("请输入正确的手机号")});for(var n=0;n<this.input.length;n++){var r=this.input[n];(0,s.on)(r,"input",function(e){t.value=e.target.value,t.setInputValue(t.value),-1!==t.phone.indexOf(t.value)&&t.coupon.setting.limit?((0,c.reportClick)("xj_coupon_get_repeat",t.couponId,1,1),t.changeDialogStatus(!0,"DONE")):t.changeDialogStatus(!0,"USED",!0),t.value&&t.privacyItemcheckboxValue&&t.submitBtn.classList.remove("xj-coupon-submit-btn-disabled"),!t.value&&t.submitBtn.classList.add("xj-coupon-submit-btn-disabled")})}(0,s.on)(this.closeBtn,"click",function(e){t.changeDialogStatus(!1)})}},{key:"submitSuccess",value:function(){this.phone.push(this.value),document.cookie="xj-coupon-phone-".concat(this.couponId,"=").concat(JSON.stringify(this.phone)),this.isNeedJump()?this.setInputValue(""):this.setInputValue(this.value),this.changeDialogStatus(!0,"DONE"),this.coupon.setting.limit&&this.changeBtnStatus("DONE")}},{key:"setInputValue",value:function(e){for(var t=0;t<this.input.length;t++){this.input[t].value=e}}},{key:"renderFirstScreen",value:function(){"true"===this.isAutoOpen&&(this.getCouponInfoBtn&&this.couponCardPop(!1),this.coupon3&&this.coupon3.click())}},{key:"changeDialogStatus",value:function(e,t,n){var r=this;e?(this.couponDialog.className="xj-coupon-dialog animate-in xj-coupon-show","DONE"===t&&this.isNeedJump()?this.couponDialogBtn.className="xj-coupon-submit-wrapper ".concat(h.JUMP):this.couponDialogBtn.className="xj-coupon-submit-wrapper ".concat(h[t]),document.body.style.overflow="hidden"):(this.couponDialog.className="xj-coupon-dialog animate-out",this.couponDialog.querySelector(".xj-coupon-dialogBody").addEventListener("animationend",function e(){r.couponDialog.className="xj-coupon-dialog",r.couponDialog.querySelector(".xj-coupon-dialogBody").removeEventListener("animationend",e)}),document.body.style.overflow="auto"),n&&this.input[0].focus()}},{key:"isNeedJump",value:function(){return this.coupon.setting.isJump}},{key:"getJumpLink",value:function(){return this.coupon.setting.jumpLink}},{key:"initSubmitBtnValue",value:function(e){this.isNeedJump()?e.innerHTML=S:e.innerHTML=O}},{key:"jumpOtherWebsite",value:function(){if(this.isNeedJump()){var e=this.getJumpLink();e&&(0,s.activityUrlJump)(e)}}},{key:"changeBtnStatus",value:function(e){this.btnStatus=e,this.couponSvgAndDomWrapper.className="xj-coupon-basicStyle ".concat(h[e])}},{key:"changeBtnContentGray",value:function(){this.couponCardSvg.setAttributeNS(null,"fill","gray")}},{key:"changeLoadingStatus",value:function(e){this.couponLoading.className=e?"xj-coupon-loading xj-coupon-show":"xj-coupon-loading"}},{key:"showPhoneVerifyFn",value:function(e){this.SMSVerificationCode=new l.default({onsubmit:e,phone:this.value,advertiserId:(0,c.getAdvertiserId)(),type:"XJ_NEW_COUPON"})}},{key:"postCouponDataAjax",value:function(t,n){var r=this,o=Date.now();(0,c.fetch)(e.postCouponDataAndDMPReportUrl,"POST",t).then(function(e){if(0===e.code){var t=Date.now();u.default.success("领取成功，请在短信中查看"),r.submitSuccess(),(0,c.reportClick)("xj_coupon_dialog_click",r.couponId,t-o,0),r.changeDialogStatus(!1),r.value,n&&n(),r.jumpOtherWebsite()}else e.code===b?u.default.error("验证码已超时"):e.code===w?u.default.error("验证码有误"):e.code===T?u.default.error("未填写短信验证码"):e.code===_&&(u.default.error("该手机号已领取过，请勿重复领取"),(0,c.reportClick)("xj_coupon_get_repeat",r.couponId,1,1))}).catch(function(e){u.default.error("提交失败"),console.error(e)})}},{key:"postSuccessCallback",value:function(){}}]),e}();I.postCouponDataAndDMPReportUrl="".concat(d.backendUrl,"/api/activity/save"),I.getCouponINFO="".concat(d.backendUrl,"/api/activity/get/"),I.type="COUPON";t.default=I},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.reportClick=t.getAdvertiserId=t.fetch=t.DMPReport=void 0;var o=n(7),i=r(n(117)),a=n(12);t.fetch=function(e,t,n){var r="application/json;charset=UTF-8";return-1!==o.CDN_HOSTS.indexOf(window.location.host)&&(r="text/plain;charset=UTF-8"),"GET"===t&&(e+="".concat(n.couponId)),window.sfetch(e,{headers:{"Content-Type":r},method:t,mode:"cors",body:JSON.stringify(n)}).then(function(e){return e.json()})},t.reportClick=function(e,t,n,r){window.tianqinReport&&window.tianqinReport({type:"GXT",data:(0,i.default)({attr:e,couponid:t,code:r,val:n})})},t.getAdvertiserId=function(){return window.viewerData.accountId},t.DMPReport=function(){(new a.Report).dmpReport({actionType:a.REPORT_TYPE.COUPON_CARD_CLICK,customAction:a.REPORT_TYPE.COUPON_CARD_CLICK,actionParam:{OBJECT:"PROMOTION_CLICK"}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateCustomImageStyle=void 0;t.calculateCustomImageStyle=function(e,t,n){var r,o,i=n.offsetWidth,a=screen.height/3>325?325:screen.height/3,s=i/e*t;return s>a?(r=e/t*a,o=a):(r=i,o=s),{setImageWidth:r,setImageHeight:o}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-lottery"),t=0;t<e.length;t++){var n=e[t].dataset.lotteryid,r=e[t].dataset.lottery,i=new o.default({lottery:r,lotteryId:n,dom:e[t],index:t});i.init()}};var o=r(n(958));n(961),n(962),n(963),n(964),n(965)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=r(n(5)),a=n(959),s=r(n(532)),c=n(51),u=r(n(758)),l=r(n(129)),d=r(n(1)),p=n(2),f=n(960),m=n(7),h=r(n(85)),v=r(n(401)),g="AFTER",y="BEFORE",A={NO_AWARD:404},_=/^1[3456789]\d{9}$/,b="GOODS",w=0,T=107101,E=107102,S=107103,O=107104,I=107105,C=107106,P=107107,k="NINE_PALACES",x="TURNTABLE",N={NINE_PALACES:1.1,TURNTABLE:1.2},D=[420,360,660,480,540,600],R=[0,1,2,7,888,3,6,5,4],j=!1,L="立即领取",M="领取奖品，前往活动",B="前往活动",U=function(){function e(t){var n=this;(0,o.default)(this,e),this.changeHttpToHttps=function(e){return e.replace("http:","https:")},this.setSMSVerificationCode=function(e,t){return e.SMSVerificationCode=t.code,e.SMSVerificationPhone=t.phone,e},this.setCouponDialogHeight=function(){var e=n.couponBody.getBoundingClientRect();if(0!==e.height||0!==e.top){var t=n.couponTitle.getBoundingClientRect(),r=.8*e.width/t.width;n.couponTitle.style="transform: scale(".concat(r>1?1:r,");color: ").concat(n.couponTitle.style.color);var o=n.couponText.getBoundingClientRect(),i=n.couponContent.getBoundingClientRect();n.couponContent.style.paddingBottom="calc(".concat(o.height,"px + 0.2rem)"),n.couponSubmit.style.top="calc(".concat(i.height+i.top-e.top,"px + ").concat(o.height,"px + 0.2rem)");var a=n.couponInfo.getBoundingClientRect(),s=n.couponDialog.querySelector(".xj-coupon-tail rect:first-child"),c=n.couponDialog.querySelector(".xj-coupon-tail rect:last-child"),u=s.getBoundingClientRect(),l=u.height/100;s.setAttribute("height",(a.top+a.height-u.top)/l),c.setAttribute("transform","translate(0, ".concat((a.top+a.height-u.top)/l-15,")"));var d=a.top+a.height-e.top-e.height;n.couponBody.style.paddingBottom=d+"px"}},this.setGoodsDialogHeight=function(){var e=n.goodsBody.getBoundingClientRect();if(0!==e.height||0!==e.top){var t=n.goodsTitle.getBoundingClientRect(),r=.8*e.width/t.width;n.goodsTitle.style="transform: translateX(-50%) scale(".concat(r>1?1:r,");color: ").concat(n.goodsTitle.style.color);var o=n.goodsText.getBoundingClientRect(),i=n.goodsContent.getBoundingClientRect();n.goodsContent.style.paddingBottom="calc(".concat(o.height,"px + 0.2rem)"),n.goodsSubmit.style.top="calc(".concat(i.height+i.top-e.top,"px + ").concat(o.height,"px + 0.2rem)");var a=n.goodsInfo.getBoundingClientRect(),s=n.goodsDialog.querySelector(".xj-goods-tail rect:first-child"),c=n.goodsDialog.querySelector(".xj-goods-tail rect:last-child"),u=s.getBoundingClientRect(),l=u.height/100;s.setAttribute("height",(a.top+a.height-u.top)/l),c.setAttribute("transform","translate(0, ".concat((a.top+a.height-u.top)/l-15,")"));var d=a.top+a.height-e.top-e.height;n.goodsBody.style.paddingBottom=d+"px"}},this.setPhoneDialogHeight=function(){var e=n.phoneBody.getBoundingClientRect();if(0!==e.height||0!==e.top){var t=n.phoneContent.getBoundingClientRect();n.phoneSubmit.style.top="calc(".concat(t.height+t.top-e.top,"px + 0.4rem)");var r=n.phoneInfo.getBoundingClientRect(),o=n.phoneDialog.querySelector(".xj-phone-tail rect:first-child"),i=n.phoneDialog.querySelector(".xj-phone-tail rect:last-child"),a=o.getBoundingClientRect(),s=a.height/100;o.setAttribute("height",(r.top+r.height-a.top)/s),i.setAttribute("transform","translate(0, ".concat((r.top+r.height-a.top)/s-15,")"));var c=r.top+r.height-e.top-e.height;n.phoneBody.style.paddingBottom=c+"px"}},this.ninePalacesInitAni=function(){n.startTime=0;var e=n.DOM.querySelector(".lottery-mask-box"),t=n.DOM.querySelectorAll(".lottery-mask-box .mask-item"),r=n.DOM.querySelector(".lottery-nine-palaces-lampBoxA"),o=n.DOM.querySelector(".lottery-nine-palaces-lampBoxB");n.deadAniTimer&&(clearInterval(n.deadAniTimer),n.deadAniTimer=void 0,n.deadAniCount=0),requestAnimationFrame(function(){e.classList.remove("active"),r.classList.remove("ani-lampBoxA"),o.classList.remove("ani-lampBoxB");for(var n=0;n<t.length;n++)t[n].classList.remove("active")})},this.ninePalacesDeadAni=function(){var e=n.DOM.querySelector(".lottery-mask-box"),t=n.DOM.querySelectorAll(".lottery-mask-box .mask-item"),r=1e3*N.NINE_PALACES,o=n.DOM.querySelector(".lottery-nine-palaces-lampBoxA"),i=n.DOM.querySelector(".lottery-nine-palaces-lampBoxB");requestAnimationFrame(function(){e.classList.add("active"),o.classList.add("ani-lampBoxA"),i.classList.add("ani-lampBoxB")}),n.deadAniCount=0,n.deadAniTimer=setInterval(function(){t[n.deadAniCount].classList.add("active"),0===n.deadAniCount?t[t.length-1].classList.remove("active"):t[n.deadAniCount-1].classList.remove("active"),n.deadAniCount++,8===n.deadAniCount&&(n.deadAniCount=0)},r/8),n.startTime=(new Date).getTime()},this.ninePalacesEndAni=function(e){var t,r=1e3*N.NINE_PALACES,o=n.lottery.content.layoutRule.indexOf(n.awardIndex),i=R[o],a=i-4<0?R.length+i-4:i-4,s=(new Date).getTime()-n.startTime,c=r-s%r,u=n.DOM.querySelectorAll(".lottery-mask-box .mask-item"),l=0,d=!1,p=function n(){if(clearTimeout(t),!d&&l<a)t=setTimeout(function(){u[l].classList.add("active"),0===l?u[u.length-1].classList.remove("active"):u[l-1].classList.remove("active"),l++,n()},r/8);else{d=!0,8===l&&(l=0);var s=l>i?R.length-1-l+i:i-l;t=setTimeout(function(){if(u[l].classList.add("active"),0===l?u[u.length-1].classList.remove("active"):u[l-1].classList.remove("active"),l===R[o])return t=setTimeout(e||function(){},r/8+500);l++,n()},r/8+200*(4-s))}},f=function e(o){clearTimeout(t),t=setTimeout(function(){if(u[n.deadAniCount].classList.add("active"),u[0===n.deadAniCount?u.length-1:n.deadAniCount-1].classList.remove("active"),0===n.deadAniCount)return o();n.deadAniCount++,8===n.deadAniCount&&(n.deadAniCount=0),e(o)},r/8)};if(o<0){clearInterval(n.deadAniTimer);f(e?function(){for(var t=0;t<u.length;t++)u[t].classList.remove("active");e()}:function(){n.initLotteryAnimate()})}else t=setTimeout(function(){clearInterval(n.deadAniTimer),f(p)},c)},this.turnTableInitAni=function(){n.startTime=0;var e=n.DOM.querySelector(".xj-lottery-button"),t=n.DOM.querySelector(".lottery-content-box"),r=n.DOM.querySelector(".lottery-turnTable-lampBoxA"),o=n.DOM.querySelector(".lottery-turnTable-lampBoxB");n.style&&n.style.remove(),requestAnimationFrame(function(){e.classList.remove("active"),t.classList.remove("turnTable-ani-content"),t.style="",r.classList.remove("ani-lampBoxA"),o.classList.remove("ani-lampBoxB")})},this.turnTableDeadAni=function(){var e=n.DOM.querySelector(".xj-lottery-button"),t=n.DOM.querySelector(".lottery-content-box"),r=n.DOM.querySelector(".lottery-turnTable-lampBoxA"),o=n.DOM.querySelector(".lottery-turnTable-lampBoxB");requestAnimationFrame(function(){e.classList.add("active"),t.classList.add("turnTable-ani-content"),r.classList.add("ani-lampBoxA"),o.classList.add("ani-lampBoxB")}),n.startTime=(new Date).getTime()},this.turnTableEndAni=function(e){var t,r,o=n.DOM.querySelector(".lottery-content-box"),i=N.TURNTABLE,a=n.lottery.content.layoutRule.indexOf(n.awardIndex);a<0&&(a=0),n.style=document.createElement("style"),n.style.type="text/css",n.style.innerHTML=n.style.innerHTML+"\n                @keyframes XJLottery-turnTable-stop-".concat(n.lotteryId," {\n                    0%{\n                        transform: rotate(0deg) translateZ(0);\n                    }\n                    100% {\n                        transform: rotate(").concat(D[a],"deg) translateZ(0);\n                    }\n                }\n            "),t="XJLottery-turnTable-stop-".concat(n.lotteryId," ").concat(D[a]*i/360+1,"s ease-out forwards"),document.head.appendChild(n.style);var s=(new Date).getTime()-n.startTime;n.deadAniTimer=setTimeout(function(){o.classList.remove("turnTable-ani-content"),o.style.animation=t,o.style.overflow="hidden",r=setTimeout(e?function(){clearTimeout(r),e()}:n.initLotteryAnimate,1e3*(D[a]*i/360+1)+500),clearTimeout(n.deadAniTimer)},1e3*i-s%(1e3*i))},this.index=t.index,this.lotteryId=t.lotteryId,this.lottery=JSON.parse(t.lottery),this.phone="",this.token="",this.tempRequestData=null,this.awardIndex=A.NO_AWARD,this.rulesConfirm=null,this.rulesConfirmDom=null,this.isAnimateRunning=!1,this.isShowDialog=!1,this.isShowLoading=!1,this.isCountStart=!1,this.privacyItemcheckboxValue=!1,this.lotteryBtn=t.dom.getElementsByClassName("xj-lottery-button")[0],this.lotteryRulesBtn=t.dom.getElementsByClassName("lottery-rule-content")[0],this.loading=t.dom.getElementsByClassName("xj-lottery-loading")[0],this.DOM=t.dom,this.couponDialog=t.dom.getElementsByClassName("xj-coupon-dialog")[0],this.couponLogo=t.dom.getElementsByClassName("xj-coupon-logo")[0],this.couponMerchant=t.dom.getElementsByClassName("xj-coupon-name")[0],this.couponTitle=t.dom.getElementsByClassName("xj-coupon-title")[0],this.couponExpires=t.dom.getElementsByClassName("xj-coupon-expires")[0],this.couponDesc=t.dom.getElementsByClassName("xj-coupon-desc")[0],this.couponSubmitWrapper=t.dom.getElementsByClassName("xj-coupon-btn")[0],this.couponInput=t.dom.getElementsByClassName("xj-coupon-input")[0],this.couponSubmitBtn=t.dom.getElementsByClassName("xj-coupon-submit-btn")[0],this.couponCloseBtn=t.dom.getElementsByClassName("xj-coupon-dialog-close")[0],this.couponContent=t.dom.getElementsByClassName("xj-coupon-content")[0],this.couponSubmit=t.dom.getElementsByClassName("xj-coupon-submit-wrapper")[0],this.couponText=t.dom.getElementsByClassName("xj-coupon-textBox")[0],this.couponInfo=t.dom.getElementsByClassName("xj-coupon-info")[0],this.couponBody=t.dom.getElementsByClassName("xj-coupon-dialogBody")[0],this.privacyItemCoupon=t.dom.getElementsByClassName("xj-coupon-privacy-item")[0],this.privacyItemcheckboxCoupon=t.dom.getElementsByClassName("isd-real-checkbox-coupon")[0],this.privacyWrapperCoupon=t.dom.getElementsByClassName("xj-coupon-privacy-protect-polocy")[0],this.goodsDialog=t.dom.getElementsByClassName("xj-goods-dialog")[0],this.goodsTitle=t.dom.getElementsByClassName("xj-goods-title")[0],this.goodsImage=t.dom.getElementsByClassName("xj-goods-image")[0].querySelector("img"),this.goodsExpires=t.dom.getElementsByClassName("xj-goods-expires")[0],this.goodsDesc=t.dom.getElementsByClassName("xj-goods-desc")[0],this.goodsSubmitWrapper=t.dom.getElementsByClassName("xj-goods-btn")[0],this.goodsInput=t.dom.getElementsByClassName("xj-goods-input")[0],this.goodsSubmitBtn=t.dom.getElementsByClassName("xj-goods-submit-btn")[0],this.goodsCloseBtn=t.dom.getElementsByClassName("xj-goods-dialog-close")[0],this.goodsContent=t.dom.getElementsByClassName("xj-goods-content")[0],this.goodsSubmit=t.dom.getElementsByClassName("xj-goods-submit-wrapper")[0],this.goodsText=t.dom.getElementsByClassName("xj-goods-textBox")[0],this.goodsInfo=t.dom.getElementsByClassName("xj-goods-info")[0],this.goodsBody=t.dom.getElementsByClassName("xj-goods-dialogBody")[0],this.privacyItemGoods=t.dom.getElementsByClassName("xj-goods-privacy-item")[0],this.privacyItemcheckboxGoods=t.dom.getElementsByClassName("isd-real-checkbox-goods")[0],this.privacyWrapper=t.dom.getElementsByClassName("xj-goods-privacy-protect-polocy")[0],this.phoneDialog=t.dom.getElementsByClassName("xj-phone-dialog")[0],this.phoneInput=t.dom.getElementsByClassName("xj-phone-input")[0],this.phoneSubmitBtn=t.dom.getElementsByClassName("xj-phone-submit-btn")[0],this.phoneCloseBtn=t.dom.getElementsByClassName("xj-phone-dialog-close")[0],this.phoneContent=t.dom.getElementsByClassName("xj-phone-content")[0],this.phoneSubmit=t.dom.getElementsByClassName("xj-phone-submit-wrapper")[0],this.phoneText=t.dom.getElementsByClassName("xj-phone-textBox")[0],this.phoneInfo=t.dom.getElementsByClassName("xj-phone-info")[0],this.phoneBody=t.dom.getElementsByClassName("xj-phone-dialogBody")[0],this.privacyItem=t.dom.getElementsByClassName("xj-phone-privacy-item")[0],this.privacyItemcheckbox=t.dom.getElementsByClassName("isd-real-checkbox")[0],this.jumpDialog=t.dom.getElementsByClassName("xj-jump-dialog")[0],this.jumpSubmitBtn=t.dom.getElementsByClassName("xj-jump-submit-btn")[0],this.jumpCloseBtn=t.dom.getElementsByClassName("xj-jump-dialog-close")[0]}return(0,i.default)(e,[{key:"init",value:function(){this.bindClickTrigger(),this.bindInputTrigger(),this.initLotteryRuleDialog(),(0,a.gxtReport)("xj_lottery_init",{lottery_id:this.lotteryId})}},{key:"initLotteryRuleDialog",value:function(){var t=this,n="\n            <div class='lottery-rules-wrapper'>\n                <div class='lottery-rules-loading'>\n                    ".concat((0,v.default)(),"\n                </div>\n                <div class='lottery-rules-content'>\n                    <h4>活动主办方</h4>\n                    <p class='lottery-rules-merchants-name'>merchants-name</p>\n                </div>\n                <div class='lottery-rules-content'>\n                    <h4>抽奖规则</h4>\n                    <p>1、活动时间：<span class='lottery-rules-activity-time'>time</span></p>\n                    <p>2、同一手机号可获得<span class='lottery-rules-activity-num'>1</span>次抽奖机会，按页面所示奖品随机出奖，抽奖结果将短信发送至用户手机号，获奖短信将作为兑奖唯一凭证。</p>\n                    <p>3、具体奖品信息如下：</p>\n                    <p class='lottery-rules-activity-awards'></p>\n                </div>\n                <div class='lottery-rules-content'>\n                    <h4>其他条款</h4>\n                    <p class='lottery-rules-activity-use-rules'></p>\n                </div>\n                <div class='lottery-rules-content'>\n                    <h4>免责声明</h4>\n                    <p>1、参与活动前请详细阅读活动规则及相关条款。凡参与本次活动，则视为同意活动规则及免责声明条款。</p>\n                    <p>2、蹊径落地页仅向活动主办方提供技术服务，页面所有内容（包括但不限于奖品类型、抽奖条件和中奖概率）由主办方提供和设置，内容的真实性与合法性由活动主办方全权负责。</p>\n                    <p>3、获奖者提交的非公开信息将被严格保密。</p>\n                    <p>4、禁止任何不正当手段（以抽奖为目的，恶意使用多个手机信息）及舞弊行为参与本活动，一经发现，主办方和蹊径落地页有权取消该用户的获奖资格。</p>\n                </div>\n            </div>");this.rulesConfirm=new c.Confirm({title:"活动规则",content:n,cover:!0,mask:!0,maskCloseAble:!0,closeable:!0,hideCancelBtn:!0,okText:"关闭",singleAndCoverBtn:!0,zIndex:1e3,onLoad:function(e){t.rulesConfirmDom=e}}),(0,p.on)(this.lotteryRulesBtn,"click",function(n){t.rulesConfirmDom&&(t.showRulesLoading(),t.rulesConfirm.open(),(0,a.fetch)(e.getLotteryInfoUrl,"GET",{lotteryId:parseInt(t.lotteryId,10)}).then(function(e){t.setRulesConfirmBody(e.data)}).catch(function(e){h.default.error("网络导致规则无法下发，请进行重试")}))})}},{key:"bindClickTrigger",value:function(){this.lotteryBtn&&this.bindLotteryStartClick(this.lotteryBtn),this.couponCloseBtn&&this.bindCloseDialogClick(this.couponCloseBtn,!0),this.goodsCloseBtn&&this.bindCloseDialogClick(this.goodsCloseBtn,!0),this.phoneCloseBtn&&this.bindCloseDialogClick(this.phoneCloseBtn,!1),this.jumpCloseBtn&&this.bindCloseDialogClick(this.jumpCloseBtn,!0),this.phoneSubmitBtn&&this.bindSubmitClick(this.phoneSubmitBtn,!1),this.couponSubmitBtn&&this.bindSubmitClick(this.couponSubmitBtn,!0),this.goodsSubmitBtn&&this.bindSubmitClick(this.goodsSubmitBtn,!0),this.jumpSubmitBtn&&this.bindJumpClick(this.jumpSubmitBtn),this.privacyItemConform=new u.default(!1),this.privacyItem&&this.bindPrivacyItemClick(this.privacyItem),this.privacyItemGoods&&this.bindPrivacyItemClick(this.privacyItemGoods),this.privacyItemCoupon&&this.bindPrivacyItemClick(this.privacyItemCoupon),this.privacyItemcheckbox&&this.bindPrivacyCheckBoxClick(this.privacyItemcheckbox,this.phoneSubmitBtn),this.privacyItemcheckboxGoods&&this.bindPrivacyCheckBoxClick(this.privacyItemcheckboxGoods,this.goodsSubmitBtn),this.privacyItemcheckboxCoupon&&this.bindPrivacyCheckBoxClick(this.privacyItemcheckboxCoupon,this.couponSubmitBtn)}},{key:"bindPrivacyItemClick",value:function(e){var t=this;(0,p.on)(e,"click",function(e){t.privacyItemConform.open()})}},{key:"bindPrivacyCheckBoxClick",value:function(e,t){var n=this;(0,p.on)(e,"click",function(r){if(!n.privacyItemcheckboxValue)return e.classList.add("checked"),n.privacyItemcheckboxValue=!0,void(n.phone&&t.classList.remove("xj-phone-submit-btn-disabled"));e.classList.remove("checked"),t.classList.add("xj-phone-submit-btn-disabled"),n.privacyItemcheckboxValue=!1})}},{key:"bindInputTrigger",value:function(){this.couponInput&&this.bindDialogInput(this.couponInput,this.couponSubmitBtn),this.goodsInput&&this.bindDialogInput(this.goodsInput,this.goodsSubmitBtn),this.phoneInput&&this.bindDialogInput(this.phoneInput,this.phoneSubmitBtn)}},{key:"bindLotteryStartClick",value:function(t){var n=this;(0,p.on)(t,"click",function(t){j||(n.lockStartLottery(),n.startLotteryAnimate(),(0,a.gxtReport)("xj_lottery_start_click",{lottery_id:n.lotteryId}),(0,a.DMPReport)(),(0,a.fetch)(e.getLotteryInfoUrl,"GET",{lotteryId:parseInt(n.lotteryId,10)}).then(function(e){n.unlockStartLottery(),n.codeProcessFn(e.code,function(){(0,a.gxtReport)("xj_lottery_request",{lottery_id:n.lotteryId,stage:"get_activity_info_success",code:200}),n.resetLottery(e.data.content),n.judgePhoneCollect()},null,function(){(0,a.gxtReport)("xj_lottery_request",{lottery_id:n.lotteryId,stage:"get_activity_info_fail",code:e.code}),n.stopLotteryInNoAward()})}).catch(function(e){(0,a.gxtReport)("xj_lottery_request",{lottery_id:n.lotteryId,stage:"get_activity_info_fail",code:500}),n.unlockStartLottery(),n.stopLotteryInNoAward()}))})}},{key:"bindCloseDialogClick",value:function(e,t){var n=this;(0,p.on)(e,"click",function(e){n.isDialogBtnOnlyJump(t)&&n.closeCountFun(),n.closeAllDialog(),n.initLotteryAnimate()})}},{key:"bindJumpClick",value:function(e){var t=this;(0,p.on)(e,"click",function(e){t.jumpOtherWebsite()})}},{key:"bindDialogInput",value:function(e,t){var n=this;(0,p.on)(e,"input",function(e){n.phone=e.target.value,n.phone&&n.privacyItemcheckboxValue&&t.classList.remove("xj-phone-submit-btn-disabled"),!n.phone&&t.classList.add("xj-phone-submit-btn-disabled")})}},{key:"bindSubmitClick",value:function(e,t){var n=this;(0,p.on)(e,"click",function(e){if(n.isDialogBtnOnlyJump(t))n.jumpOtherWebsite();else{if(!_.test(n.phone))return void h.default.error("请输入正确的手机号");if(!n.privacyItemcheckboxValue)return void h.default.error("请勾选我已阅读并同意 个人信息与隐私保护条款");if(n.getAwardFromCookie())(0,a.gxtReport)("xj_lottery_request",{lottery_id:n.lotteryId,stage:"get_award_save_fail",code:P}),n.overGetPrize();else{n.showLoading();var r=n.makeSubmitData();n.postVerifyActivityAward(r,function(e){(0,a.gxtReport)("xj_lottery_third_funnel",{lottery_id:n.lotteryId,schema:n.getPhoneType(),cookie:"un_use"}),n.awardIndex=e.index,n.resetToken(),n.saveAwardToCookie(e),n.stopLotteryAnimate(function(){n.closeLoading(),h.default.success("领取成功，请在短信中查看"),n.getPhoneType()==g?(n.closeAllDialog(),n.initLotteryAnimate(),n.jumpOtherWebsite()):n.initAwardDialog(e)})})}}})}},{key:"showRulesLoading",value:function(){this.rulesConfirmDom&&(this.rulesConfirmDom.querySelector(".lottery-rules-loading").style.display="block")}},{key:"hideRulesLoading",value:function(){this.rulesConfirmDom&&(this.rulesConfirmDom.querySelector(".lottery-rules-loading").style.display="none")}},{key:"postVerifyActivityAward",value:function(t,n,r){var o=this;(0,a.fetch)(e.postActivityDMPReportUrl,"POST",t).then(function(e){o.codeProcessFn(e.code,function(){(0,a.gxtReport)("xj_lottery_request",{lottery_id:o.lotteryId,stage:"get_award_save_success",code:200}),n&&n(e.data)},function(){r&&r()},function(){(0,a.gxtReport)("xj_lottery_request",{lottery_id:o.lotteryId,stage:"get_award_save_fail",code:e.code}),o.closeLoading()})}).catch(function(e){o.closeLoading(),(0,a.gxtReport)("xj_lottery_request",{lottery_id:o.lotteryId,stage:"get_award_save_fail",code:500}),h.default.error("提交失败")}).catch(function(e){o.closeLoading(),h.default.error("提交失败")})}},{key:"makeSubmitData",value:function(){var t=this.getPhoneType(),n={pageId:d.default.pageId,pageName:d.default.pageName,actionsetId:parseInt(d.default.actionSetId,10),pageUrl:location.href,commonPageId:d.default.commonPageId,phone:this.phone,clickId:(0,p.getTraceId)(),activityId:parseInt(this.lotteryId,10),type:e.type,uid:parseInt(d.default.accountId,10),lotteryPhoneType:t};return t===g&&(n.token=this.token),n}},{key:"showSMSVerificationCodeDialog",value:function(e,t){this.SMSVerificationCode=new s.default({onsubmit:e,onHide:t,phone:this.phone,advertiserId:d.default.accountId,type:"XJ_NEW_COUPON"})}},{key:"setRulesConfirmBody",value:function(e){for(var t=e.advertiserSubject,n=e.startTime,r=e.endTime,o=e.content,i=JSON.parse(o).content,a=i.awardList,s=i.desc,c=this.rulesConfirmDom.querySelector(".lottery-rules-merchants-name"),u=this.rulesConfirmDom.querySelector(".lottery-rules-activity-time"),l=this.rulesConfirmDom.querySelector(".lottery-rules-activity-awards"),d=this.rulesConfirmDom.querySelector(".lottery-rules-activity-use-rules"),p=t,m="".concat((0,f.transFormTimestamp)(n)," 至 ").concat((0,f.transFormTimestamp)(r)),h=s||"无",v="",g=0;g<a.length;g++){var y=a[g];v+="<p>".concat(g+1,"）").concat(y.commodityContent.content,"：").concat(y.desc,"。</p>")}c.innerHTML=p,u.innerHTML=m,l.innerHTML=v,d.innerHTML=h,this.hideRulesLoading()}},{key:"initAwardDialog",value:function(e){this.closeAllDialog();var t=this.getPhoneType()===g;e.commodityType===b?this.initGoodsDialog(e,t):this.initCouponDialog(e,t)}},{key:"initCouponDialog",value:function(e,t){if(e){var n=e.expiredType,r=e.expiredTime,o=e.commodityContent,i=JSON.parse(o),a=i.businessName,s=i.content,c=i.rules,u=i.logo,l=u.use,d=u.url;this.couponBody.style="",this.couponTitle.style="",this.couponContent.style="",this.couponSubmit.style="";var p=this.couponDialog.querySelector(".xj-coupon-tail rect:first-child"),f=this.couponDialog.querySelector(".xj-coupon-tail rect:last-child");if(p.setAttribute("height",100),f.setAttribute("transform","translate(0, 85)"),l)this.couponLogo.style.display="block",this.couponDialog.classList.add("with-logo"),this.couponLogo.querySelector(".xj-coupon-logo-img").src=d;else this.couponLogo.style.display="none";if("DURING_DATE"===n)this.couponExpires.innerHTML="使用期限：自领券当日起".concat(r,"天内有效");else{var m=r.replace(/[.]/g,"-").split(" - ");this.couponExpires.innerHTML="使用期限：".concat(m[0],"至").concat(m[1])}this.couponMerchant.innerHTML=a,this.couponTitle.innerHTML=s,this.couponDesc.innerHTML=c,this.couponDialog.classList.add(this.getPhoneType()),t?(this.couponInput.style.display="block",this.privacyWrapperCoupon.style.display="block"):(this.couponInput.style.display="none",this.privacyWrapperCoupon.style.display="none"),this.initSubmitButton(this.couponSubmitBtn,t),this.isShowDialog=!0,this.couponDialog.style.display="block",requestAnimationFrame(this.setCouponDialogHeight),this.banScroll()}}},{key:"initGoodsDialog",value:function(e,t){if(e){var n=e.expiredType,r=e.expiredTime,o=e.commodityContent,i=JSON.parse(o),a=i.content,s=i.rules,c=i.image.url;this.goodsTitle.style="",this.goodsContent.style="",this.goodsSubmit.style="",this.goodsBody.style="";var u=this.goodsDialog.querySelector(".xj-goods-tail rect:first-child"),l=this.goodsDialog.querySelector(".xj-goods-tail rect:last-child");if(u.setAttribute("height",100),l.setAttribute("transform","translate(0, 85)"),"DURING_DATE"===n)this.goodsExpires.innerHTML="使用期限：自领取当日起".concat(r,"天内有效");else{var d=r.replace(/[.]/g,"-").split(" - ");this.goodsExpires.innerHTML="使用期限：".concat(d[0],"至").concat(d[1])}this.goodsTitle.innerHTML=a,this.goodsImage.src="",this.goodsImage.src=this.changeHttpToHttps(c),this.goodsDesc.innerHTML=s,this.goodsDialog.className="xj-goods-dialog ".concat(this.getPhoneType()),t?(this.goodsInput.style.display="block",this.privacyWrapper.style.display="block"):(this.goodsInput.style.display="none",this.privacyWrapper.style.display="none"),this.initSubmitButton(this.goodsSubmitBtn,t),this.isShowDialog=!0,this.goodsDialog.style.display="block",requestAnimationFrame(this.setGoodsDialogHeight),this.banScroll()}}},{key:"initPurePhoneDialog",value:function(){this.phoneSubmit.style="",this.phoneBody.style="";var e=this.phoneDialog.querySelector(".xj-phone-tail rect:first-child"),t=this.phoneDialog.querySelector(".xj-phone-tail rect:last-child");e.setAttribute("height",100),t.setAttribute("transform","translate(0, 85)"),this.isShowDialog=!0,this.phoneDialog.style.display="block",requestAnimationFrame(this.setPhoneDialogHeight),this.banScroll()}},{key:"showJumpDialog",value:function(){this.isShowDialog=!0,this.jumpDialog.style.display="block",this.banScroll()}},{key:"initSubmitButton",value:function(e,t){var n=this;if(this.isNeedJump())if(e.style.display="block",t)e.innerHTML=M;else if(this.isCountStart)e.innerHTML=B;else{var r=5;e.innerHTML="".concat(B,"(").concat(r,")"),this.countInterval=setInterval(function(){(r-=1)?e.innerHTML="".concat(B,"(").concat(r,")"):(e.innerHTML=M,n.closeCountFun(),n.jumpOtherWebsite())},1e3)}else e.innerHTML=L,e.style.display=t?"block":"none"}},{key:"jumpOtherWebsite",value:function(){if(this.isNeedJump()){var e=this.getJumpLink();e&&(0,p.activityUrlJump)(e)}}},{key:"isDialogBtnOnlyJump",value:function(e){return e&&this.getPhoneType()===y}},{key:"closeCountFun",value:function(){this.countInterval&&clearInterval(this.countInterval),this.isCountStart=!0}},{key:"closeAllDialog",value:function(){this.isShowDialog=!1,this.allowScroll(),this.couponDialog.style.display="none",this.goodsDialog.style.display="none",this.phoneDialog.style.display="none",this.jumpDialog.style.display="none",this.resetPhone()}},{key:"showLoading",value:function(){this.isShowLoading=!0,this.loading.style.display="block",this.banScroll()}},{key:"closeLoading",value:function(){this.isShowLoading=!1,this.loading.style.display="none",this.allowScroll()}},{key:"allowScroll",value:function(){this.isShowDialog||this.isShowLoading||(document.body.style.overflow="auto")}},{key:"banScroll",value:function(){document.body.style.overflow="hidden"}},{key:"lockStartLottery",value:function(){j=!0}},{key:"unlockStartLottery",value:function(){j=!1}},{key:"getAdvertiserId",value:function(){return parseInt(d.default.accountId,10)}},{key:"getPhoneType",value:function(){return this.lottery.setting.phoneType}},{key:"isNeedJump",value:function(){return this.lottery.setting.isJump}},{key:"getJumpLink",value:function(){return this.lottery.setting.jumpLink}},{key:"overGetPrize",value:function(){this.isNeedJump()?(this.closeAllDialog(),this.showJumpDialog()):h.default.error("您已领取，请勿重复领取")}},{key:"setCookie",value:function(e,t){l.default.set(e,t,{expires:1})}},{key:"getCookie",value:function(e){return l.default.get(e)}},{key:"removeCookie",value:function(e){l.default.remove(e)}},{key:"resetToken",value:function(){this.token="",this.removeTokenFromCookie()}},{key:"saveAwardToCookie",value:function(){var t="".concat(e.type,"_PHONE_").concat(this.phone,"_").concat(this.lotteryId);this.setCookie(t,!0)}},{key:"getAwardFromCookie",value:function(){var t="".concat(e.type,"_PHONE_").concat(this.phone,"_").concat(this.lotteryId);return this.getCookie(t)}},{key:"saveTokenToCookie",value:function(t){var n="".concat(e.type,"_TOKEN_").concat(this.lotteryId);this.setCookie(n,t)}},{key:"getTokenFromCookie",value:function(){var t="".concat(e.type,"_TOKEN_").concat(this.lotteryId);return this.getCookie(t)}},{key:"removeTokenFromCookie",value:function(){var t="".concat(e.type,"_TOKEN_").concat(this.lotteryId);this.removeCookie(t)}},{key:"getLotteryMajorType",value:function(){var e=this.lottery.content.lotteryType;return e.indexOf(k)>=0?k:e.indexOf(x)>=0?x:void 0}},{key:"resetLottery",value:function(e){if(e){var t=JSON.parse(e);this.lottery=t}}},{key:"resetPhone",value:function(){this.phone="",this.couponInput.value="",this.goodsInput.value="",this.phoneInput.value=""}},{key:"stopLotteryInNoAward",value:function(){this.awardIndex=A.NO_AWARD,this.stopLotteryAnimate()}},{key:"judgePhoneCollect",value:function(){this.getPhoneType()==g?this.getPhoneLastSchema():this.getPhoneFirstSchema()}},{key:"getPhoneLastSchema",value:function(){var t=this,n=this.getTokenFromCookie();if(n){var r=JSON.parse(n),o=r.token,i=r.index;this.token=o,this.awardIndex=i,(0,a.gxtReport)("xj_lottery_second_funnel",{lottery_id:this.lotteryId,schema:g,cookie:"use"}),this.stopLotteryAnimate(function(){t.initAwardDialog(r)})}else(0,a.fetch)(e.getLotteryAwardUrl,"GET",{lotteryId:parseInt(this.lotteryId,10)}).then(function(e){(0,a.gxtReport)("xj_lottery_request",{lottery_id:t.lotteryId,stage:"get_award_last_success",code:200}),t.codeProcessFn(e.code,function(){t.awardIndex=e.data.index,t.token=e.data.token,t.saveTokenToCookie(e.data),(0,a.gxtReport)("xj_lottery_second_funnel",{lottery_id:t.lotteryId,schema:g,cookie:"un_use"}),t.stopLotteryAnimate(function(){t.initAwardDialog(e.data)})},null,function(){(0,a.gxtReport)("xj_lottery_request",{lottery_id:t.lotteryId,stage:"get_award_last_fail",code:e.code}),t.stopLotteryInNoAward()})}).catch(function(e){(0,a.gxtReport)("xj_lottery_request",{lottery_id:t.lotteryId,stage:"get_award_last_fail",code:500}),h.default.error("请求后台失败，请重试"),t.stopLotteryInNoAward()})}},{key:"getPhoneFirstSchema",value:function(){(0,a.gxtReport)("xj_lottery_second_funnel",{lottery_id:this.lotteryId,schema:y,cookie:"un_use"}),this.initPurePhoneDialog()}},{key:"codeProcessFn",value:function(e,t,n,r){var o=this;switch(n&&n(),e){case w:t&&t();break;case S:this.SMSVerificationCode?(this.SMSVerificationCode.interfaceUpdateOptions({phone:this.phone,advertiserId:this.getAdvertiserId()}),this.SMSVerificationCode.interfaceShow()):this.smsCode=this.showSMSVerificationCodeDialog(function(e){var t=o.makeSubmitData();t=o.setSMSVerificationCode(t,e),o.postVerifyActivityAward(t,function(e){o.awardIndex=e.index,o.resetToken(),o.saveAwardToCookie(e);var t=o.getPhoneType();(0,a.gxtReport)("xj_lottery_third_funnel",{lottery_id:o.lotteryId,schema:t}),o.closeAllDialog(),o.lockStartLottery(),o.stopLotteryAnimate(function(){o.unlockStartLottery(),h.default.success("领取成功，请在短信中查看"),o.getPhoneType()==g?(o.initLotteryAnimate(),o.jumpOtherWebsite()):o.initAwardDialog(e)})},function(){o.SMSVerificationCode.hideSMSVerificationCode(),o.SMSVerificationCode.interfaceClearTime()})},function(){o.closeLoading()});break;case T:h.default.error("奖品已被领取完，感谢参与"),this.resetToken();break;case E:h.default.error("活动时间已过，感谢参与"),this.resetToken();break;case O:h.default.error("验证码过期，请重新获取");break;case I:h.default.error("验证码错误，请重新填写");break;case C:h.default.error("验证码不可为空，请进行填写");break;case P:this.overGetPrize(),this.resetToken();break;default:h.default.error("内容出错，请刷新页面后重试")}e!==w&&r&&r()}},{key:"startLotteryAnimate",value:function(){if(this.isAnimateRunning)return console.error("试图在上一个动画结束前重启动画");this.isAnimateRunning=!0;var e=this.getLotteryMajorType();e===k?this.ninePalacesDeadAni():e===x&&this.turnTableDeadAni()}},{key:"stopLotteryAnimate",value:function(e){if(!this.isAnimateRunning)return e();var t=this.getLotteryMajorType();t===k?this.ninePalacesEndAni(e):t===x&&this.turnTableEndAni(e),this.isAnimateRunning=!1}},{key:"initLotteryAnimate",value:function(){this.isAnimateRunning=!1;var e=this.getLotteryMajorType();e===k?this.ninePalacesInitAni():e===x&&this.turnTableInitAni()}}]),e}();U.getLotteryInfoUrl="".concat(m.backendUrl,"/api/activity/get/"),U.postActivityDMPReportUrl="".concat(m.backendUrl,"/api/activity/save"),U.getLotteryAwardUrl="".concat(m.backendUrl,"/api/activity/lottery/getAward/"),U.type="LOTTERY";t.default=U},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gxtReport=t.fetch=t.DMPReport=void 0;var r=n(7),o=n(2),i=n(12);t.fetch=function(e,t,n){var o="application/json;charset=UTF-8";return-1!==r.CDN_HOSTS.indexOf(window.location.host)&&(o="text/plain;charset=UTF-8"),"GET"===t&&(e+="".concat(n.lotteryId)),window.sfetch(e,{headers:{"Content-Type":o},method:t,mode:"cors",body:JSON.stringify(n)}).then(function(e){return e.json()})},t.gxtReport=o.gxtReport,t.DMPReport=function(){(new i.Report).dmpReport({actionType:i.REPORT_TYPE.LOTTERY_CLICK,customAction:"",actionParam:{OBJECT:"CLICK_LOTTERY_BUTTON"}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transFormTimestamp=void 0;t.transFormTimestamp=function(e){var t=new Date(1e3*e),n=t.getFullYear(),r=t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,o=t.getDate();return"".concat(n,"-").concat(r,"-").concat(o)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=document.getElementsByClassName("xj-contact-bar-pay-item"),t=new o.Report,n=function(n){var r,a=e[n].getAttribute("data-key"),u=JSON.parse(e[n].getAttribute("data-value"));"phone"===a?r=o.PHONE_TYPE:"qq"===a||"online"===a?r=o.ONLINE_TYPE:"link"===a&&(r=o.REPORT_TYPE.LINK),(0,i.on)(e[n],"click",function(l){"buy"===a&&window.XJWebFormdoFormSubmit(),"qq"===a&&t.dmpReport({actionType:o.REPORT_TYPE.CONSULT,customAction:"",consultType:r}),"link"===a&&(t.dmpReport({actionType:o.REPORT_TYPE.LINK,customAction:""}),t.dmpReport({map:o.REPORT_TYPE_MAPS.NEW_GAME_ORDER})),"phone"===a?(0,s.phoneCall)(e[n],n,l):"online"===a&&((0,f.TdwReportTrigger)(l,{action_type:"pay_consult_btn_click",status:u},!0),setTimeout(function(){u.connectType&&"smart"===u.connectType?"2"===u.connectSmartType&&u.weixinCustomerServiceSrc?(0,i.generateConsultWechatServiceUrl)(u.weixinCustomerServiceSrc).then(function(e){e&&(location.href=e)}):u.smartUrl&&(0,c.smartConsult)(u.smartUrl):(t.dmpReport({actionType:o.REPORT_TYPE.CONSULT,customAction:"",consultType:o.ONLINE_TYPE}),(0,i.jumpLinkCommonFunction)({type:a,data:u,event:l}))},500))})},r=0;r<e.length;r++)n(r);window.XJProductLibraryxjBuy=m,(0,a.payGXTReport)("gxt_xijing_front_pay",{val:1});var u=Date.now();(0,p.default)(["//".concat(d.default.cdnHost,"/qzone/biz/gdt/lib/xijing/viewer/cdn/js/crypto-js.min.js?max_age=31536000")],{success:function(){(0,a.payGXTReport)("gxt_loadjs_success_rate_pay",{val:Date.now()-u,code:0,interface:"load-cryptojs",pageId:window.viewerData.pageId,timing:1})},error:function(){(0,a.payGXTReport)("gxt_loadjs_success_rate_pay",{val:Date.now()-u,code:99999,interface:"load-cryptojs",pageId:window.viewerData.pageId,timing:1})}})};var o=n(12),i=(n(369),n(2)),a=n(622),s=n(550),c=n(116);n(487),n(967);var u=n(7),l=r(n(85)),d=r(n(1)),p=r(n(10)),f=n(11);function m(e){var t=document.querySelector(".xj-buy-product"),n=JSON.parse(t.getAttribute("data-product")),r=JSON.parse(t.getAttribute("data-payment")),s="",c="",p="",f="";"normal"===r.phone.phoneType?c=r.phone.num:s=r.phone.smartPhoneId,r.connect.setAdvisory&&("normal"===r.connect.connectType?f=r.connect.url:p=r.connect.smartConnectId);var m=window.XJWebFormgetFormData(),h="",v="";m.data.map(function(e,t){"phone"===e.type&&(h=e.value),"mobileVerifyCode"===e.type&&(v=e.value,m.data.splice(t,1))});var g="".concat(u.backendUrl,"/order/create"),y={orderAmount:n.price,orderType:"H5",appId:u.PAY_APPID,advertiserId:d.default.accountId,products:[{catalogId:n.catalogId,spuId:n.spuId,count:1,adInfo:{clickId:(0,i.getTraceId)()}}],landingPageId:m.pageId,attach:{smartPhoneId:s,smartConnectId:p,ordinaryPhone:c,ordinaryConnectUrl:f},form:{data:m.data,SMSVerificationCode:v,SMSVerificationPhone:h,clickId:(0,i.getTraceId)(),formId:m.formId,index:m.index,encryptPhone:m.encryptPhone||""}},A=Date.now();(0,a.payFetch)(g,"POST",y).then(function(e){0===e.code&&e.data?(window.XJWebFormSetCookiesForAutoFill(),(new o.Report).dmpReport(),function(e){var t=(0,i.parseUrl)().payChannel||1;if((0,i.isInWechat)()){var n=encodeURIComponent("https://h5.gdt.qq.com/xjviewer/payAuth?payChannel=".concat(t,"&orderId=").concat(e)),r="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(u.PAY_APPID,"&redirect_uri=").concat(n,"&response_type=code&scope=snsapi_base#wechat_redirect");window.location.href=r}else{var o="".concat(u.backendUrl,"/order/pay"),s={appId:u.PAY_APPID,orderCipher:e,payType:"UN_WX",advertiserId:d.default.accountId,channel:t},c=Date.now();(0,a.payFetch)(o,"POST",s).then(function(t){if(0===t.code&&t.data){var n=t.data.h5PayUrl;if((0,a.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-c,code:0,interface:"pay-order/pay"}),n){var r=encodeURIComponent("https://h5.gdt.qq.com/csasm/#payResult?orderCipher=".concat(e));window.location.href="".concat(n,"&redirect_url=").concat(r)}}else console.warn("createOrder Failed:"),l.default.error(t.message||"服务异常，请稍后重试！"),(0,a.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-c,code:t.code,interface:"pay-order/pay_UN_WX",pageId:d.default.pageId,orderId:e}),window.XJWebFormdoneFormSubmit(),window.location.href="https://h5.gdt.qq.com/csasm?orderCipher=".concat(e)}).catch(function(t){console.warn("createOrder Failed:",t),l.default.error("服务异常，请稍后重试！"),(0,a.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-c,code:99999,interface:"pay-order/pay",pageId:d.default.pageId,orderId:e}),window.XJWebFormdoneFormSubmit(),window.location.href="https://h5.gdt.qq.com/csasm?orderCipher=".concat(e)})}}(e.data.orderCipher),(0,a.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-A,code:0,interface:"pay-order/create"})):(console.warn("createOrder Failed res:",e),window.XJWebFormdoneFormSubmit(),l.default.error(e.message||"服务异常，请稍后重试！"),(0,a.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-A,code:e.code,interface:"pay-order/create",pageId:d.default.pageId}))}).catch(function(e){window.XJWebFormdoneFormSubmit(),console.warn("createOrder Failed e:",e),l.default.error("服务异常，请稍后重试！"),(0,a.payGXTReport)("gxt_interface_success_rate_pay",{val:Date.now()-A,code:99999,interface:"pay-order/create",pageId:d.default.pageId})})}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.querySelector(".xj-navigation-container");if(!e)return;!function(e){var t=e.querySelectorAll("li"),n=e.getAttribute("nav-position");"iOS"===(0,r.judgeClient)()&&"bottom"===n&&(e.style.paddingBottom="".concat((0,o.pxToRem)(15),"rem"));var s={value:0,coefficient:0,constant:0};try{s=JSON.parse(e.getAttribute("nav-height"))}catch(e){}var c={type:n,height:s.value*s.coefficient+s.constant};e.addEventListener("click",function(e){for(var n=e.target.parentNode,o=0;o<t.length;o++){var s=t[o];s!==n?a(s):i(n)}!function(e,t,n){var o=e.getAttribute("jump-data");try{var i=JSON.parse(o);if("anchor"===i.type){var a=Object.assign({position:{y:0}},i.anchorItem),s=document.body.scrollHeight*a.position.y;"top"===t.type&&(s-=t.height),i.anchorPosition=s}i.navOffsetHeight=t.height,i.connectType||"2"!==i.connectSmartType||(i.connectType="smart"),(0,r.jumpLinkCommonFunction)({type:i.type,data:i,event:n})}catch(n){}}(n,c,e)},{passive:!0})}(e)},n(969);var r=n(2),o=n(87);function i(e){var t=e.getAttribute("mark-color"),n=e.getAttribute("class-style"),r=e.getAttribute("font-active-color");switch(e.style.color=r,n){case"naviagtion-ellipse":case"naviagtion-rectangle":return void(e.style.backgroundColor=t);case"naviagtion-line":return void(e.querySelector(".badge").style.border="1px solid ".concat(t))}}function a(e){var t=e.getAttribute("font-inactive-color");(e.style.color=t,e.style.backgroundColor="transparent","naviagtion-line"===e.getAttribute("class-style"))&&(e.querySelector(".badge").style.border="1px solid transparent")}},function(e,t,n){},,,,,,,,,,,,,,,,,,function(e,t,n){n(394),e.exports=n(988)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(922)),i=r(n(625)),a=r(n(88)),s=r(n(710)),c=r(n(845)),u=r(n(654)),l=r(n(847)),d=r(n(924)),p=r(n(849)),f=r(n(926)),m=r(n(657)),h=r(n(474)),v=r(n(928)),g=r(n(528)),y=r(n(930)),A=r(n(932)),_=r(n(934)),b=r(n(851)),w=r(n(614)),T=r(n(310)),E=r(n(936)),S=r(n(938)),O=r(n(940)),I=r(n(942)),C=r(n(944)),P=r(n(951)),k=r(n(663)),x=r(n(665)),N=r(n(957)),D=r(n(530)),R=r(n(668)),j=r(n(755)),L=r(n(443)),M=r(n(854)),B=r(n(557)),U=r(n(462)),F=r(n(592)),G=r(n(966)),q=r(n(594)),W=r(n(968)),H=r(n(630)),V=r(n(632)),X=r(n(700)),J=r(n(703)),Q=r(n(705)),Y=r(n(706)),z=r(n(383)),K=r(n(708)),$=r(n(484));n(393);t.default={XJBookAppInfoPanel:o.default,XJWebsiteImageSet:i.default,XJVideo:a.default,XJWebForm:s.default,XJImages:c.default,XJMaterial:u.default,XJContact:l.default,XJWXCard:d.default,XJWebsiteH5Button:p.default,XJShop:f.default,XJLine:m.default,XJText:h.default,XJProduct:v.default,XJImagesCarousel:g.default,XJWebsiteImagesCarousel:y.default,XJQQCustomerService:A.default,XJMap:_.default,XJPhone:b.default,XJWeChatAttention:w.default,WXAttention:w.default,XJConnect:T.default,XJWechatService:E.default,XJWecomChain:S.default,XJLink:O.default,XJTitle:I.default,XJPMD:C.default,XJCoupon:P.default,XJLayout:k.default,XJRiskTip:x.default,XJLottery:N.default,XJAppGiftPack:D.default,XJShape:R.default,WebsiteLinkButton:j.default,InteractiveGame:L.default,InteractiveDisplay:L.default,QuestionAndAnswer:M.default,Turnable:B.default,WXRedpacket:U.default,FlipCard:F.default,XJProductLibrary:G.default,Materials:q.default,XJNavigation:W.default,XJMedicine:H.default,XJBottomInfo:V.default,XJLeadVideo:X.default,XJLeadImage:J.default,XJSdkVideoManagerInit:Q.default,XJInteractiveInset:Y.default,XJLeadInteractiveComponent:z.default,XJClickEffect:K.default,XJFeedback:$.default}}]).default});
//# sourceMappingURL=website-h5-v2.11.08201825.min.js.map